(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{8697:(Wt,Qe,L)=>{"use strict";L.d(Qe,{nm:()=>io});var m=L(8186);L(5879),L(3182);var Ze=L(5861),fe=L(534),Ae=L(4537),Be=L(9058),ve=L(7879);const De=new Map,ke={activated:!1,tokenObservers:[]},$e={initialized:!1,enabled:!1};function it(We){return De.get(We)||Object.assign({},ke)}function pt(){return $e}const Ht="https://content-firebaseappcheck.googleapis.com/v1",lt="exchangeDebugToken",se={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Me{constructor(He,et,Tt,Ut,Gt){if(this.operation=He,this.retryPolicy=et,this.getWaitDuration=Tt,this.lowerBound=Ut,this.upperBound=Gt,this.pending=null,this.nextErrorWaitInterval=Ut,Ut>Gt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(He){var et=this;return(0,Ze.Z)(function*(){et.stop();try{et.pending=new Be.BH,yield function Ge(We){return new Promise(He=>{setTimeout(He,We)})}(et.getNextRun(He)),et.pending.resolve(),yield et.pending.promise,et.pending=new Be.BH,yield et.operation(),et.pending.resolve(),yield et.pending.promise,et.process(!0).catch(()=>{})}catch(Tt){et.retryPolicy(Tt)?et.process(!1).catch(()=>{}):et.stop()}})()}getNextRun(He){if(He)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const et=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),et}}}const qe=new Be.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ct(We){if(!it(We).activated)throw qe.create("use-before-activation",{appName:We.name})}function Oe(We,He){return It.apply(this,arguments)}function It(){return(It=(0,Ze.Z)(function*({url:We,body:He},et){const Tt={"Content-Type":"application/json"},Ut=et.getImmediate({optional:!0});if(Ut){const bi=yield Ut.getHeartbeatsHeader();bi&&(Tt["X-Firebase-Client"]=bi)}const Gt={method:"POST",body:JSON.stringify(He),headers:Tt};let Wn,$n;try{Wn=yield fetch(We,Gt)}catch(bi){throw qe.create("fetch-network-error",{originalErrorMessage:null==bi?void 0:bi.message})}if(200!==Wn.status)throw qe.create("fetch-status-error",{httpStatus:Wn.status});try{$n=yield Wn.json()}catch(bi){throw qe.create("fetch-parse-error",{originalErrorMessage:null==bi?void 0:bi.message})}const rr=$n.ttl.match(/^([\d.]+)(s)$/);if(!rr||!rr[2]||isNaN(Number(rr[1])))throw qe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${$n.ttl}`});const Yr=1e3*Number(rr[1]),jo=Date.now();return{token:$n.token,expireTimeMillis:jo+Yr,issuedAtTimeMillis:jo}})).apply(this,arguments)}function mn(We,He){const{projectId:et,appId:Tt,apiKey:Ut}=We.options;return{url:`${Ht}/projects/${et}/apps/${Tt}:${lt}?key=${Ut}`,body:{debug_token:He}}}const cn="firebase-app-check-database",En=1,Pn="firebase-app-check-store";let Dn=null;function or(){return(or=(0,Ze.Z)(function*(We,He){const Tt=(yield function Vn(){return Dn||(Dn=new Promise((We,He)=>{try{const et=indexedDB.open(cn,En);et.onsuccess=Tt=>{We(Tt.target.result)},et.onerror=Tt=>{var Ut;He(qe.create("storage-open",{originalErrorMessage:null===(Ut=Tt.target.error)||void 0===Ut?void 0:Ut.message}))},et.onupgradeneeded=Tt=>{0===Tt.oldVersion&&Tt.target.result.createObjectStore(Pn,{keyPath:"compositeKey"})}}catch(et){He(qe.create("storage-open",{originalErrorMessage:null==et?void 0:et.message}))}}),Dn)}()).transaction(Pn,"readwrite"),Gt=Tt.objectStore(Pn).put({compositeKey:We,value:He});return new Promise((Wn,$n)=>{Gt.onsuccess=rr=>{Wn()},Tt.onerror=rr=>{var Yr;$n(qe.create("storage-set",{originalErrorMessage:null===(Yr=rr.target.error)||void 0===Yr?void 0:Yr.message}))}})})).apply(this,arguments)}const Xt=new ve.Yd("@firebase/app-check");function jr(We,He){return(0,Be.hl)()?function hr(We,He){return function Rn(We,He){return or.apply(this,arguments)}(function Er(We){return`${We.options.appId}-${We.name}`}(We),He)}(We,He).catch(et=>{Xt.warn(`Failed to write token to IndexedDB. Error: ${et}`)}):Promise.resolve()}function ri(){return pt().enabled}function _i(){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,Ze.Z)(function*(){const We=pt();if(We.enabled&&We.token)return We.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const qr={error:"UNKNOWN_ERROR"};function kr(We){return Be.US.encodeString(JSON.stringify(We),!1)}function Ar(We){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,Ze.Z)(function*(We,He=!1){const et=We.app;Ct(et);const Tt=it(et);let Gt,Ut=Tt.token;if(Ut&&!X(Ut)&&(Tt.token=void 0,Ut=void 0),!Ut){const rr=yield Tt.cachedTokenPromise;rr&&(X(rr)?Ut=rr:yield jr(et,void 0))}if(!He&&Ut&&X(Ut))return{token:Ut.token};let $n,Wn=!1;if(ri()){Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=Oe(mn(et,yield _i()),We.heartbeatServiceProvider).finally(()=>{Tt.exchangeTokenPromise=void 0}),Wn=!0);const rr=yield Tt.exchangeTokenPromise;return yield jr(et,rr),Tt.token=rr,{token:rr.token}}try{Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=Tt.provider.getToken().finally(()=>{Tt.exchangeTokenPromise=void 0}),Wn=!0),Ut=yield it(et).exchangeTokenPromise}catch(rr){"appCheck/throttled"===rr.code?Xt.warn(rr.message):Xt.error(rr),Gt=rr}return Ut?Gt?$n=X(Ut)?{token:Ut.token,internalError:Gt}:ze(Gt):($n={token:Ut.token},Tt.token=Ut,yield jr(et,Ut)):$n=ze(Gt),Wn&&function Ce(We,He){const et=it(We).tokenObservers;for(const Tt of et)try{"EXTERNAL"===Tt.type&&null!=He.error?Tt.error(He.error):Tt.next(He)}catch{}}(et,$n),$n})).apply(this,arguments)}function fr(We){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,Ze.Z)(function*(We){const He=We.app;Ct(He);const{provider:et}=it(He);if(ri()){const Tt=yield _i(),{token:Ut}=yield Oe(mn(He,Tt),We.heartbeatServiceProvider);return{token:Ut}}{const{token:Tt}=yield et.getToken();return{token:Tt}}})).apply(this,arguments)}function Pe(We,He){const et=it(We),Tt=et.tokenObservers.filter(Ut=>Ut.next!==He);0===Tt.length&&et.tokenRefresher&&et.tokenRefresher.isRunning()&&et.tokenRefresher.stop(),et.tokenObservers=Tt}function Z(We){const{app:He}=We,et=it(He);let Tt=et.tokenRefresher;Tt||(Tt=function Y(We){const{app:He}=We;return new Me((0,Ze.Z)(function*(){let Tt;if(Tt=it(He).token?yield Ar(We,!0):yield Ar(We),Tt.error)throw Tt.error;if(Tt.internalError)throw Tt.internalError}),()=>!0,()=>{const et=it(He);if(et.token){let Tt=et.token.issuedAtTimeMillis+.5*(et.token.expireTimeMillis-et.token.issuedAtTimeMillis)+3e5;return Tt=Math.min(Tt,et.token.expireTimeMillis-3e5),Math.max(0,Tt-Date.now())}return 0},se.RETRIAL_MIN_WAIT,se.RETRIAL_MAX_WAIT)}(We),et.tokenRefresher=Tt),!Tt.isRunning()&&et.isTokenAutoRefreshEnabled&&Tt.start()}function X(We){return We.expireTimeMillis-Date.now()>0}function ze(We){return{token:kr(qr),error:We}}class yt{constructor(He,et){this.app=He,this.heartbeatServiceProvider=et}_delete(){const{tokenObservers:He}=it(this.app);for(const et of He)Pe(this.app,et.next);return Promise.resolve()}}const pr="app-check-internal";!function wi(){(0,fe._registerComponent)(new Ae.wA("app-check",We=>function Lt(We,He){return new yt(We,He)}(We.getProvider("app").getImmediate(),We.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((We,He,et)=>{We.getProvider(pr).initialize()})),(0,fe._registerComponent)(new Ae.wA(pr,We=>function sn(We){return{getToken:He=>Ar(We,He),getLimitedUseToken:()=>fr(We),addTokenListener:He=>function nr(We,He,et,Tt){const{app:Ut}=We,Gt=it(Ut);if(Gt.tokenObservers=[...Gt.tokenObservers,{next:et,error:Tt,type:He}],Gt.token&&X(Gt.token)){const $n=Gt.token;Promise.resolve().then(()=>{et({token:$n.token}),Z(We)}).catch(()=>{})}Gt.cachedTokenPromise.then(()=>Z(We))}(We,"INTERNAL",He),removeTokenListener:He=>Pe(We.app,He)}}(We.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)("@firebase/app-check","0.8.0")}();class io{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},6796:(Wt,Qe,L)=>{"use strict";L.d(Qe,{zQ:()=>Ht,ww:()=>xn,rT:()=>$e,f7:()=>st,L6:()=>De,_Q:()=>ke,lh:()=>it,Qv:()=>ve,nw:()=>pt});var m=L(5879),v=L(8645),W=L(2096),ie=L(5592),Ee=L(2459),_e=L(3019),le=L(3093),Ue=L(4664),Ne=L(7398),me=L(4552);class ee extends v.x{constructor(lt=1/0,se=1/0,de=me.l){super(),this._bufferSize=lt,this._windowTime=se,this._timestampProvider=de,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=se===1/0,this._bufferSize=Math.max(1,lt),this._windowTime=Math.max(1,se)}next(lt){const{isStopped:se,_buffer:de,_infiniteTimeWindow:Me,_timestampProvider:Ge,_windowTime:Xe}=this;se||(de.push(lt),!Me&&de.push(Ge.now()+Xe)),this._trimBuffer(),super.next(lt)}_subscribe(lt){this._throwIfClosed(),this._trimBuffer();const se=this._innerSubscribe(lt),{_infiniteTimeWindow:de,_buffer:Me}=this,Ge=Me.slice();for(let Xe=0;Xe<Ge.length&&!lt.closed;Xe+=de?1:2)lt.next(Ge[Xe]);return this._checkFinalizedStatuses(lt),se}_trimBuffer(){const{_bufferSize:lt,_timestampProvider:se,_buffer:de,_infiniteTimeWindow:Me}=this,Ge=(Me?1:2)*lt;if(lt<1/0&&Ge<de.length&&de.splice(0,de.length-Ge),!Me){const Xe=se.now();let qe=0;for(let Bt=1;Bt<de.length&&de[Bt]<=Xe;Bt+=2)qe=Bt;qe&&de.splice(0,qe+1)}}}var be=L(3020);function ue(qt,lt,se){let de,Me=!1;return qt&&"object"==typeof qt?({bufferSize:de=1/0,windowTime:lt=1/0,refCount:Me=!1,scheduler:se}=qt):de=null!=qt?qt:1/0,(0,be.B)({connector:()=>new ee(de,lt,se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Me})}var Te=L(1374),je=L(4674);function ot(qt,lt){return(0,je.m)(lt)?(0,Ue.w)(()=>qt,lt):(0,Ue.w)(()=>qt)}var we=L(5137),Ie=L(2181),ce=L(8186),ft=L(6304),Ze=L(6814),fe=L(8697),Ae=L(7142);const ve=new m.OlP("angularfire2.auth.use-emulator"),De=new m.OlP("angularfire2.auth.settings"),ke=new m.OlP("angularfire2.auth.tenant-id"),$e=new m.OlP("angularfire2.auth.langugage-code"),it=new m.OlP("angularfire2.auth.use-device-language"),st=new m.OlP("angularfire.auth.persistence"),pt=(qt,lt,se,de,Me,Ge,Xe,qe)=>(0,ft.cc)(`${qt.name}.auth`,"AngularFireAuth",qt.name,()=>{const Bt=lt.runOutsideAngular(()=>qt.auth());if(se&&Bt.useEmulator(...se),de&&(Bt.tenantId=de),Bt.languageCode=Me,Ge&&Bt.useDeviceLanguage(),Xe)for(const[Ct,ct]of Object.entries(Xe))Bt.settings[Ct]=ct;return qe&&Bt.setPersistence(qe),Bt},[se,de,Me,Ge,Xe,qe]);let Ht=(()=>{class qt{constructor(se,de,Me,Ge,Xe,qe,Bt,Ct,ct,ht,Oe,It){const Dt=new v.x,$t=(0,W.of)(void 0).pipe((0,le.Q)(Xe.outsideAngular),(0,Ue.w)(()=>Ge.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5967)))),(0,Ne.U)(()=>(0,ft.on)(se,Ge,de)),(0,Ne.U)(mn=>pt(mn,Ge,qe,Ct,ct,ht,Bt,Oe)),ue({bufferSize:1,refCount:!1}));if((0,Ze.PM)(Me))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{$t.pipe((0,Te.P)()).subscribe();const cn=$t.pipe((0,Ue.w)(On=>On.getRedirectResult().then(Dn=>Dn,()=>null)),ce.iC,ue({bufferSize:1,refCount:!1})),En=$t.pipe((0,Ue.w)(On=>new ie.y(Dn=>({unsubscribe:Ge.runOutsideAngular(()=>On.onAuthStateChanged(Vn=>Dn.next(Vn),Vn=>Dn.error(Vn),()=>Dn.complete()))})))),Pn=$t.pipe((0,Ue.w)(On=>new ie.y(Dn=>({unsubscribe:Ge.runOutsideAngular(()=>On.onIdTokenChanged(Vn=>Dn.next(Vn),Vn=>Dn.error(Vn),()=>Dn.complete()))}))));this.authState=cn.pipe(ot(En),(0,we.R)(Xe.outsideAngular),(0,le.Q)(Xe.insideAngular)),this.user=cn.pipe(ot(Pn),(0,we.R)(Xe.outsideAngular),(0,le.Q)(Xe.insideAngular)),this.idToken=this.user.pipe((0,Ue.w)(On=>On?(0,Ee.D)(On.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,Ue.w)(On=>On?(0,Ee.D)(On.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,_e.T)(cn,Dt,this.authState.pipe((0,Ie.h)(On=>!On))).pipe((0,Ne.U)(On=>null!=On&&On.user?On:null),(0,we.R)(Xe.outsideAngular),(0,le.Q)(Xe.insideAngular))}return(0,ft.pX)(this,$t,Ge,{spy:{apply:(mn,cn,En)=>{(mn.startsWith("signIn")||mn.startsWith("createUser"))&&En.then(Pn=>Dt.next(Pn))}}})}}return qt.\u0275fac=function(se){return new(se||qt)(m.LFG(ft.Dh),m.LFG(ft.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(ce.HU),m.LFG(ve,8),m.LFG(De,8),m.LFG(ke,8),m.LFG($e,8),m.LFG(it,8),m.LFG(st,8),m.LFG(fe.nm,8))},qt.\u0275prov=m.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"any"}),qt})(),xn=(()=>{class qt{constructor(){Ae.Z.registerVersion("angularfire",ce.q4.full,"auth-compat")}}return qt.\u0275fac=function(se){return new(se||qt)},qt.\u0275mod=m.oAB({type:qt}),qt.\u0275inj=m.cJS({providers:[Ht]}),qt})()},8330:(Wt,Qe,L)=>{"use strict";L.d(Qe,{ST:()=>qm,yb:()=>c_});var m=L(5879),v=L(6321),W=L(5592),ie=L(2459),Ee=L(2096),_e=L(8186),le=L(7921),Ue=L(9360),Ne=L(8251);function me(){return(0,Ue.e)((i,e)=>{let t,o=!1;i.subscribe((0,Ne.x)(e,l=>{const u=t;t=l,o&&e.next([u,l]),o=!0}))})}var De,ee=L(7398),be=L(6699),ue=L(3997),Te=L(2181),je=L(6304),ot=L(6814),Ie=(L(5967),L(3106)),ce=L(5861),ft=L(534),Ze=L(4537),fe=L(7879),Ae=L(9058),Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ve={},ke=ke||{},$e=Be||self;function it(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function st(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ht="closure_uid_"+(1e9*Math.random()>>>0),xn=0;function qt(i,e,t){return i.call.apply(i.bind,arguments)}function lt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function se(i,e,t){return(se=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qt:lt).apply(null,arguments)}function de(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Me(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(o,l,u){for(var g=Array(arguments.length-2),M=2;M<arguments.length;M++)g[M-2]=arguments[M];return e.prototype[l].apply(o,g)}}function Ge(){this.s=this.s,this.o=this.o}Ge.prototype.s=!1,Ge.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function pt(i){Object.prototype.hasOwnProperty.call(i,Ht)&&i[Ht]||(i[Ht]=++xn)}(this)},Ge.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Bt(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Ct(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(it(o)){const l=i.length||0,u=o.length||0;i.length=l+u;for(let g=0;g<u;g++)i[l+g]=o[g]}else i.push(o)}}function ct(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return i}();function Oe(i){return/^[\s\xa0]*$/.test(i)}function It(){var i=$e.navigator;return i&&(i=i.userAgent)?i:""}function Dt(i){return-1!=It().indexOf(i)}function $t(i){return $t[" "](i),i}$t[" "]=function(){};var hr,i,cn=Dt("Opera"),En=Dt("Trident")||Dt("MSIE"),Pn=Dt("Edge"),On=Pn||En,Dn=Dt("Gecko")&&!(-1!=It().toLowerCase().indexOf("webkit")&&!Dt("Edge"))&&!(Dt("Trident")||Dt("MSIE"))&&!Dt("Edge"),Vn=-1!=It().toLowerCase().indexOf("webkit")&&!Dt("Edge");function Br(){var i=$e.document;return i?i.documentMode:void 0}e:{var Ir="",rn=(i=It(),Dn?/rv:([^\);]+)(\)|;)/.exec(i):Pn?/Edge\/([\d\.]+)/.exec(i):En?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Vn?/WebKit\/(\S+)/.exec(i):cn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(rn&&(Ir=rn?rn[1]:""),En){var Rn=Br();if(null!=Rn&&Rn>parseFloat(Ir)){hr=String(Rn);break e}}hr=Ir}var Sr=$e.document&&En&&(Br()||parseInt(hr,10))||void 0;function Er(i,e){if(ct.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Dn){e:{try{$t(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Xt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Er.$.h.call(this)}}Me(Er,ct);var Xt={2:"touch",3:"pen",4:"mouse"};Er.prototype.h=function(){Er.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ur="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function jr(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=l,this.key=++Mt,this.fa=this.ia=!1}function zn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function ai(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function _i(i){const e={};for(const t in i)e[t]=i[t];return e}const Lr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ii(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let u=0;u<Lr.length;u++)t=Lr[u],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function qr(i){this.src=i,this.g={},this.h=0}function kr(i,e){var t=e.type;if(t in i.g){var u,o=i.g[t],l=qe(o,e);(u=0<=l)&&Array.prototype.splice.call(o,l,1),u&&(zn(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ar(i,e,t,o){for(var l=0;l<i.length;++l){var u=i[l];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return l}return-1}qr.prototype.add=function(i,e,t,o,l){var u=i.toString();(i=this.g[u])||(i=this.g[u]=[],this.h++);var g=Ar(i,e,o,l);return-1<g?(e=i[g],t||(e.ia=!1)):((e=new jr(e,this.src,u,!!o,l)).ia=t,i.push(e)),e};var Hr="closure_lm_"+(1e6*Math.random()|0),fr={};function Cr(i,e,t,o,l){if(o&&o.once)return Z(i,e,t,o,l);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Cr(i,e[u],t,o,l);return null}return t=sn(t),i&&i[Ur]?i.O(e,t,st(o)?!!o.capture:!!o,l):nr(i,e,t,!1,o,l)}function nr(i,e,t,o,l,u){if(!e)throw Error("Invalid event type");var g=st(l)?!!l.capture:!!l,M=yt(i);if(M||(i[Hr]=M=new qr(i)),(t=M.add(e,t,o,g,u)).proxy)return t;if(o=function Pe(){const e=ze;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)ht||(l=g),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(X(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Z(i,e,t,o,l){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Z(i,e[u],t,o,l);return null}return t=sn(t),i&&i[Ur]?i.P(e,t,st(o)?!!o.capture:!!o,l):nr(i,e,t,!0,o,l)}function Y(i,e,t,o,l){if(Array.isArray(e))for(var u=0;u<e.length;u++)Y(i,e[u],t,o,l);else o=st(o)?!!o.capture:!!o,t=sn(t),i&&i[Ur]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ar(u=i.g[e],t,o,l))&&(zn(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete i.g[e],i.h--))):i&&(i=yt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ar(e,t,o,l)),(t=-1<i?e[i]:null)&&Ce(t))}function Ce(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Ur])kr(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(X(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=yt(e))?(kr(t,i),0==t.h&&(t.src=null,e[Hr]=null)):zn(i)}}}function X(i){return i in fr?fr[i]:fr[i]="on"+i}function ze(i,e){if(i.fa)i=!0;else{e=new Er(e,this);var t=i.listener,o=i.la||i.src;i.ia&&Ce(i),i=t.call(o,e)}return i}function yt(i){return(i=i[Hr])instanceof qr?i:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(i){return"function"==typeof i?i:(i[Lt]||(i[Lt]=function(e){return i.handleEvent(e)}),i[Lt])}function hn(){Ge.call(this),this.i=new qr(this),this.S=this,this.J=null}function en(i,e){var t,o=i.J;if(o)for(t=[];o;o=o.J)t.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new ct(e,i);else if(e instanceof ct)e.target=e.target||i;else{var l=e;Ii(e=new ct(o,i),l)}if(l=!0,t)for(var u=t.length-1;0<=u;u--){var g=e.g=t[u];l=Sn(g,o,!0,e)&&l}if(l=Sn(g=e.g=i,o,!0,e)&&l,l=Sn(g,o,!1,e)&&l,t)for(u=0;u<t.length;u++)l=Sn(g=e.g=t[u],o,!1,e)&&l}function Sn(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,u=0;u<e.length;++u){var g=e[u];if(g&&!g.fa&&g.capture==t){var M=g.listener,B=g.la||g.src;g.ia&&kr(i.i,g),l=!1!==M.call(B,o)&&l}}return l&&!o.defaultPrevented}Me(hn,Ge),hn.prototype[Ur]=!0,hn.prototype.removeEventListener=function(i,e,t,o){Y(this,i,e,t,o)},hn.prototype.N=function(){if(hn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)zn(t[o]);delete i.g[e],i.h--}}this.J=null},hn.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},hn.prototype.P=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var vr=$e.JSON.stringify;function Ei(){var i=Yn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var gt=new class Mr{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rt,i=>i.reset());class rt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ft(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function pn(i){$e.setTimeout(()=>{throw i},0)}let fn,Qt=!1,Yn=new class Qr{constructor(){this.h=this.g=null}add(e,t){const o=gt.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},Dr=()=>{const i=$e.Promise.resolve(void 0);fn=()=>{i.then(Tr)}};var Tr=()=>{for(var i;i=Ei();){try{i.h.call(i.g)}catch(t){pn(t)}var e=gt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Qt=!1};function ur(i,e){hn.call(this),this.h=i||1,this.g=e||$e,this.j=se(this.qb,this),this.l=Date.now()}function Zn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Xn(i,e,t){if("function"==typeof i)t&&(i=se(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=se(i.handleEvent,i)}return 2147483647<Number(e)?-1:$e.setTimeout(i,e||0)}function _o(i){i.g=Xn(()=>{i.g=null,i.i&&(i.i=!1,_o(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Me(ur,hn),(De=ur.prototype).ga=!1,De.T=null,De.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),en(this,"tick"),this.ga&&(Zn(this),this.start()))}},De.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},De.N=function(){ur.$.N.call(this),Zn(this),delete this.g};class xo extends Ge{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ri(i){Ge.call(this),this.h=i,this.g={}}Me(Ri,Ge);var li=[];function Oi(i,e,t,o){Array.isArray(t)||(t&&(li[0]=t.toString()),t=li);for(var l=0;l<t.length;l++){var u=Cr(e,t[l],o||i.handleEvent,!1,i.h||i);if(!u)break;i.g[u.key]=u}}function zr(i){ai(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ce(e)},i),i.g={}}function $i(){this.g=!0}function pi(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function io(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var u=l[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var g=1;g<l.length;g++)l[g]=""}}}return vr(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Ri.prototype.N=function(){Ri.$.N.call(this),zr(this)},Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$i.prototype.Ea=function(){this.g=!1},$i.prototype.info=function(){};var K={},he=null;function ne(){return he=he||new hn}function Se(i){ct.call(this,K.Ta,i)}function Ye(i){const e=ne();en(e,new Se(e))}function Je(i,e){ct.call(this,K.STAT_EVENT,i),this.stat=e}function mt(i){const e=ne();en(e,new Je(e,i))}function At(i,e){ct.call(this,K.Ua,i),this.size=e}function Pt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){i()},e)}K.Ta="serverreachability",Me(Se,ct),K.STAT_EVENT="statevent",Me(Je,ct),K.Ua="timingevent",Me(At,ct);var Nt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function In(){}function yr(){}In.prototype.h=null;var et,gi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function We(){ct.call(this,"d")}function He(){ct.call(this,"c")}function Tt(){}function Ut(i,e,t,o){this.l=i,this.j=e,this.m=t,this.W=o||1,this.U=new Ri(this),this.P=Wn,this.V=new ur(i=On?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Gt}function Gt(){this.i=null,this.g="",this.h=!1}Me(We,ct),Me(He,ct),Me(Tt,In),Tt.prototype.g=function(){return new XMLHttpRequest},Tt.prototype.i=function(){return{}},et=new Tt;var Wn=45e3,$n={},rr={};function Yr(i,e,t){i.L=1,i.v=Xo(wn(e)),i.s=t,i.S=!0,jo(i,null)}function jo(i,e){i.G=Date.now(),Oo(i),i.A=wn(i.v);var t=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),ji(t.i,"t",o),i.C=0,t=i.l.J,i.h=new Gt,i.g=Sa(i.l,t?e:null,!i.s),0<i.O&&(i.M=new xo(se(i.Pa,i,i.g),i.O)),Oi(i.U,i.g,"readystatechange",i.nb),e=i.I?_i(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Ye(),function pr(i,e,t,o,l,u){i.info(function(){if(i.g)if(u)for(var g="",M=u.split("&"),B=0;B<M.length;B++){var H=M[B].split("=");if(1<H.length){var te=H[0];H=H[1];var Fe=te.split("_");g=2<=Fe.length&&"type"==Fe[1]?g+(te+"=")+H+"&":g+(te+"=redacted&")}}else g=null;else g=u;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.W,i.s)}function bi(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function oo(i,e,t){let l,o=!0;for(;!i.J&&i.C<t.length;){if(l=so(i,t),l==rr){4==e&&(i.o=4,mt(14),o=!1),pi(i.j,i.m,null,"[Incomplete Response]");break}if(l==$n){i.o=4,mt(15),pi(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}pi(i.j,i.m,l,null),Pi(i,l)}bi(i)&&l!=rr&&l!=$n&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,mt(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ra(e),e.M=!0,mt(11))):(pi(i.j,i.m,t,"[Invalid Chunked Response]"),ir(i),qn(i))}function so(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?rr:(t=Number(e.substring(t,o)),isNaN(t)?$n:(o+=1)+t>e.length?rr:(e=e.slice(o,o+t),i.C=o+t,e))}function Oo(i){i.Y=Date.now()+i.P,Fr(i,i.P)}function Fr(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Pt(se(i.lb,i),e)}function Yt(i){i.B&&($e.clearTimeout(i.B),i.B=null)}function qn(i){0==i.l.H||i.J||Xa(i.l,i)}function ir(i){Yt(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Zn(i.V),zr(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Pi(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||us(t.i,i)))if(!i.K&&us(t.i,i)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;oa(t),hs(t)}na(t),mt(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=Pt(se(t.ib,t),6e3));if(1>=di(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Jo(t,11)}else if((i.K||t.g==i)&&oa(t),!Oe(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let H=l[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const te=H[3];null!=te&&(t.ra=te,t.l.info("VER="+t.ra));const Fe=H[4];null!=Fe&&(t.Ga=Fe,t.l.info("SVER="+t.Ga));const vt=H[5];null!=vt&&"number"==typeof vt&&0<vt&&(t.L=o=1.5*vt,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const Ot=i.g;if(Ot){const nn=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nn){var u=o.i;u.g||-1==nn.indexOf("spdy")&&-1==nn.indexOf("quic")&&-1==nn.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Ci(u,u.h),u.h=null))}if(o.F){const Tn=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;Tn&&(o.Da=Tn,Qn(o.I,o.F,Tn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var g=i;if((o=t).wa=aa(o,o.J?o.pa:null,o.Y),g.K){Lo(o.i,g);var M=g,B=o.L;B&&M.setTimeout(B),M.B&&(Yt(M),Oo(M)),o.g=g}else va(o);0<t.j.length&&ma(t)}else"stop"!=H[0]&&"close"!=H[0]||Jo(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?Jo(t,7):Yi(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}Ye()}catch{}}function zo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(it(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Jr(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(it(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Ho(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(it(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length,u=0;u<l;u++)e.call(void 0,o[u],t&&t[u],i)}(De=Ut.prototype).setTimeout=function(i){this.P=i},De.nb=function(i){i=i.target;const e=this.M;e&&3==tn(i)?e.l():this.Pa(i)},De.Pa=function(i){try{if(i==this.g)e:{const te=tn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||On||this.g&&(this.h.h||this.g.ja()||Fn(this.g)))){this.J||4!=te||7==e||Ye(),Yt(this);var t=this.g.da();this.ca=t;t:if(bi(this)){var o=Fn(this.g);i="";var l=o.length,u=4==tn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),qn(this);var g="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:u&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.ja();if(this.i=200==t,function wi(i,e,t,o,l,u,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+u+" "+g})}(this.j,this.u,this.A,this.m,this.W,te,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var M,B=this.g;if((M=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oe(M)){var H=M;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,mt(12),ir(this),qn(this);break e}pi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pi(this,t)}this.S?(oo(this,te,g),On&&this.i&&3==te&&(Oi(this.U,this.V,"tick",this.mb),this.V.start())):(pi(this.j,this.m,g,null),Pi(this,g)),4==te&&ir(this),this.i&&!this.J&&(4==te?Xa(this.l,this):(this.i=!1,Oo(this)))}else(function sr(i){const e={};i=(i.g&&2<=tn(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Oe(i[o]))continue;var t=Ft(i[o]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[l]||[];e[l]=u,u.push(t)}!function ri(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<g.indexOf("Unknown SID")?(this.o=3,mt(12)):(this.o=0,mt(13)),ir(this),qn(this)}}}catch{}},De.mb=function(){if(this.g){var i=tn(this.g),e=this.g.ja();this.C<e.length&&(Yt(this),oo(this,i,e),this.i&&4!=i&&Oo(this))}},De.cancel=function(){this.J=!0,ir(this)},De.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Ro(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ye(),mt(17)),ir(this),this.o=2,qn(this)):Fr(this,this.Y-i)};var Kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mi(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof mi){this.h=i.h,No(this,i.j),this.s=i.s,this.g=i.g,cs(this,i.m),this.l=i.l;var e=i.i,t=new Un;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Io(this,t),this.o=i.o}else i&&(e=String(i).match(Kr))?(this.h=!1,No(this,e[1]||"",!0),this.s=Vi(e[2]||""),this.g=Vi(e[3]||"",!0),cs(this,e[4]),this.l=Vi(e[5]||"",!0),Io(this,e[6]||"",!0),this.o=Vi(e[7]||"")):(this.h=!1,this.i=new Un(null,this.h))}function wn(i){return new mi(i)}function No(i,e,t){i.j=t?Vi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function cs(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Io(i,e,t){e instanceof Un?(i.i=e,function Fo(i,e){e&&!i.j&&(qi(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(ko(this,o),ji(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=ci(e,rs)),i.i=new Un(e,i.h))}function Qn(i,e,t){i.i.set(e,t)}function Xo(i){return Qn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Vi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ci(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Eo),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Eo(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}mi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ci(e,Rs,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ci(e,Rs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(ci(t,"/"==t.charAt(0)?Ui:fo,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ci(t,po)),i.join("")};var Rs=/[#\/\?@]/g,fo=/[#\?:]/g,Ui=/[#\?]/g,rs=/[#\?@]/g,po=/#/g;function Un(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function qi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Po(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var u=i[t].substring(0,o);l=i[t].substring(o+1)}else u=i[t];e(u,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ko(i,e){qi(i),e=ii(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Do(i,e){return qi(i),e=ii(i,e),i.g.has(e)}function ji(i,e,t){ko(i,e),0<t.length&&(i.i=null,i.g.set(ii(i,e),Bt(t)),i.h+=t.length)}function ii(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Di(i){this.l=i||_s,i=$e.PerformanceNavigationTiming?0<(i=$e.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(De=Un.prototype).add=function(i,e){qi(this),this.i=null,i=ii(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},De.forEach=function(i,e){qi(this),this.g.forEach(function(t,o){t.forEach(function(l){i.call(e,l,o,this)},this)},this)},De.ta=function(){qi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=i[o];for(let u=0;u<l.length;u++)t.push(e[o])}return t},De.Z=function(i){qi(this);let e=[];if("string"==typeof i)Do(this,i)&&(e=e.concat(this.g.get(ii(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},De.set=function(i,e){return qi(this),this.i=null,Do(this,i=ii(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},De.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},De.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),g=this.Z(o);for(o=0;o<g.length;o++){var l=u;""!==g[o]&&(l+="="+encodeURIComponent(String(g[o]))),i.push(l)}}return this.i=i.join("&")};var _s=10;function ui(i){return!!i.h||!!i.g&&i.g.size>=i.j}function di(i){return i.h?1:i.g?i.g.size:0}function us(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Ci(i,e){i.g?i.g.add(e):i.h=e}function Lo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ni(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return Bt(i.i)}Di.prototype.cancel=function(){if(this.i=Ni(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var ds=class{stringify(i){return $e.JSON.stringify(i,void 0)}parse(i){return $e.JSON.parse(i,void 0)}};function Js(){this.g=new ds}function ga(i,e,t){const o=t||"";try{zo(i,function(l,u){let g=l;st(l)&&(g=vr(l)),e.push(o+u+"="+encodeURIComponent(g))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Os(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function Is(i){this.l=i.fc||null,this.j=i.ob||!1}function js(i,e){hn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ta,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Me(Is,In),Is.prototype.g=function(){return new js(this.l,this.j)},Is.prototype.i=function(i){return function(){return i}}({}),Me(js,hn);var ta=0;function Ta(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function xr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Wo(i)}function Wo(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(De=js.prototype).open=function(i,e){if(this.readyState!=ta)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Wo(this)},De.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},De.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xr(this)),this.readyState=ta},De.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ta(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},De.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?xr(this):Wo(this),3==this.readyState&&Ta(this)}},De.Za=function(i){this.g&&(this.response=this.responseText=i,xr(this))},De.Ya=function(i){this.g&&(this.response=i,xr(this))},De.ka=function(){this.g&&xr(this)},De.setRequestHeader=function(i,e){this.v.append(i,e)},De.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},De.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(js.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Za=$e.JSON.parse;function $(i){hn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=P,this.L=this.M=!1}Me($,hn);var P="",re=/^https?$/i,h=["POST","PUT"];function _(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,N(i),Et(i)}function N(i){i.F||(i.F=!0,en(i,"complete"),en(i,"error"))}function J(i){if(i.h&&typeof ke<"u"&&(!i.C[1]||4!=tn(i)||2!=i.da()))if(i.v&&4==tn(i))Xn(i.La,0,i);else if(en(i,"readystatechange"),4==tn(i)){i.h=!1;try{const g=i.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===g){var l=String(i.I).match(Kr)[1]||null;!l&&$e.self&&$e.self.location&&(l=$e.self.location.protocol.slice(0,-1)),o=!re.test(l?l.toLowerCase():"")}t=o}if(t)en(i,"complete"),en(i,"success");else{i.m=6;try{var u=2<tn(i)?i.g.statusText:""}catch{u=""}i.j=u+" ["+i.da()+"]",N(i)}}finally{Et(i)}}}function Et(i,e){if(i.g){on(i);const t=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||en(i,"ready");try{t.onreadystatechange=o}catch{}}}function on(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&($e.clearTimeout(i.A),i.A=null)}function tn(i){return i.g?i.g.readyState:0}function Fn(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case P:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function oi(i){let e="";return ai(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function go(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=oi(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Qn(i,e,t))}function ki(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Qo(i){this.Ga=0,this.j=[],this.l=new $i,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ki("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ki("baseRetryDelayMs",5e3,i),this.hb=ki("retryDelaySeedMs",1e4,i),this.eb=ki("forwardChannelMaxRetries",2,i),this.xa=ki("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Di(i&&i.concurrentRequestLimit),this.Ja=new Js,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Yi(i){if(Ps(i),3==i.H){var e=i.W++,t=wn(i.I);if(Qn(t,"SID",i.K),Qn(t,"RID",e),Qn(t,"TYPE","terminate"),Fi(i,t),(e=new Ut(i,i.l,e)).L=2,e.v=Xo(wn(t)),t=!1,$e.navigator&&$e.navigator.sendBeacon)try{t=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&$e.Image&&((new Image).src=e.v,t=!0),t||(e.g=Sa(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Oo(e)}ya(i)}function hs(i){i.g&&(ra(i),i.g.cancel(),i.g=null)}function Ps(i){hs(i),i.u&&($e.clearTimeout(i.u),i.u=null),oa(i),i.i.cancel(),i.m&&("number"==typeof i.m&&$e.clearTimeout(i.m),i.m=null)}function ma(i){if(!ui(i.i)&&!i.m){i.m=!0;var e=i.Na;fn||Dr(),Qt||(fn(),Qt=!0),Yn.add(e,i),i.C=0}}function Ns(i,e){var t;t=e?e.m:i.W++;const o=wn(i.I);Qn(o,"SID",i.K),Qn(o,"RID",t),Qn(o,"AID",i.V),Fi(i,o),i.o&&i.s&&go(o,i.o,i.s),t=new Ut(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Xi(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Ci(i.i,t),Yr(t,o,e)}function Fi(i,e){i.na&&ai(i.na,function(t,o){Qn(e,o,t)}),i.h&&zo({},function(t,o){Qn(e,o,t)})}function Xi(i,e,t){t=Math.min(i.j.length,t);var o=i.h?se(i.h.Va,i.h,i):null;e:{var l=i.j;let u=-1;for(;;){const g=["count="+t];-1==u?0<t?(u=l[0].g,g.push("ofs="+u)):u=0:g.push("ofs="+u);let M=!0;for(let B=0;B<t;B++){let H=l[B].g;const te=l[B].map;if(H-=u,0>H)u=Math.max(0,l[B].g-100),M=!1;else try{ga(te,g,"req"+H+"_")}catch{o&&o(te)}}if(M){o=g.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,o}function va(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;fn||Dr(),Qt||(fn(),Qt=!0),Yn.add(e,i),i.A=0}}function na(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Pt(se(i.Ma,i),sa(i,i.A)),i.A++,0))}function ra(i){null!=i.B&&($e.clearTimeout(i.B),i.B=null)}function ia(i){i.g=new Ut(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=wn(i.wa);Qn(e,"RID","rpc"),Qn(e,"SID",i.K),Qn(e,"AID",i.V),Qn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Qn(e,"TO",i.qa),Qn(e,"TYPE","xmlhttp"),Fi(i,e),i.o&&i.s&&go(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=Xo(wn(e)),t.s=null,t.S=!0,jo(t,i)}function oa(i){null!=i.v&&($e.clearTimeout(i.v),i.v=null)}function Xa(i,e){var t=null;if(i.g==e){oa(i),ra(i),i.g=null;var o=2}else{if(!us(i.i,e))return;t=e.F,Lo(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=i.C;en(o=ne(),new At(o,t)),ma(i)}else va(i);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==o&&function qo(i,e){return!(di(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Pt(se(i.Na,i,e),sa(i,i.C)),i.C++,0)))}(i,e)||2==o&&na(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:Jo(i,5);break;case 4:Jo(i,10);break;case 3:Jo(i,6);break;default:Jo(i,2)}}function sa(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function Jo(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var o=se(i.pb,i);t||(t=new mi("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||No(t,"https"),Xo(t)),function ea(i,e){const t=new $i;if($e.Image){const o=new Image;o.onload=de(Os,t,o,"TestLoadImage: loaded",!0,e),o.onerror=de(Os,t,o,"TestLoadImage: error",!1,e),o.onabort=de(Os,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=de(Os,t,o,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else mt(2);i.H=0,i.h&&i.h.za(e),ya(i),Ps(i)}function ya(i){if(i.H=0,i.ma=[],i.h){const e=Ni(i.i);(0!=e.length||0!=i.j.length)&&(Ct(i.ma,e),Ct(i.ma,i.j),i.i.i.length=0,Bt(i.j),i.j.length=0),i.h.ya()}}function aa(i,e,t){var o=t instanceof mi?wn(t):new mi(t);if(""!=o.g)e&&(o.g=e+"."+o.g),cs(o,o.m);else{var l=$e.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var u=new mi(null);o&&No(u,o),e&&(u.g=e),l&&cs(u,l),t&&(u.l=t),o=u}return e=i.Da,(t=i.F)&&e&&Qn(o,t,e),Qn(o,"VER",i.ra),Fi(i,o),o}function Sa(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $(t&&i.Ha&&!i.va?new Is({ob:!0}):i.va)).Oa(i.J),e}function _c(){}function la(){if(En&&!(10<=Number(Sr)))throw Error("Environmental error: no available transport.")}function Yo(i,e){hn.call(this),this.g=new Qo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Oe(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oe(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Es(this)}function Aa(i){We.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function fl(){He.call(this),this.status=1}function Es(i){this.g=i}function Hi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function es(i,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)o[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)o[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=i.g[3],g=(e=i.g[0])+(u^(t=i.g[1])&((l=i.g[2])^u))+o[0]+3614090360&4294967295;g=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=t+(g<<7&4294967295|g>>>25))+((g=u+(l^e&(t^l))+o[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=l+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^l&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(u^t&(l^u))+o[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=u+(l^e&(t^l))+o[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=l+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^l&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(u^t&(l^u))+o[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=u+(l^e&(t^l))+o[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=l+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^l&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(u^t&(l^u))+o[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=u+(l^e&(t^l))+o[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=l+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^l&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(l^u&(t^l))+o[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=u+(t^l&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=t+(u^e&(l^u))+o[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^u&(t^l))+o[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=u+(t^l&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=t+(u^e&(l^u))+o[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^u&(t^l))+o[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=u+(t^l&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=t+(u^e&(l^u))+o[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^u&(t^l))+o[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=u+(t^l&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=t+(u^e&(l^u))+o[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(t^l^u)+o[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=u+(e^t^l)+o[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=l+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=t+(l^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^l^u)+o[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=u+(e^t^l)+o[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=l+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=t+(l^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^l^u)+o[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=u+(e^t^l)+o[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=l+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=t+(l^u^e)+o[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^l^u)+o[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=u+(e^t^l)+o[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=l+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=t+(l^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(l^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=u+(t^(e|~l))+o[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=t+(u^(l|~e))+o[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(l^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=u+(t^(e|~l))+o[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=t+(u^(l|~e))+o[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(l^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=u+(t^(e|~l))+o[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=t+(u^(l|~e))+o[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((u=(e=t+((g=e+(l^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=u+(t^(e|~l))+o[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((l=u+((g=l+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(g<<21&4294967295|g>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+u&4294967295}function C(i,e){this.h=e;for(var t=[],o=!0,l=i.length-1;0<=l;l--){var u=0|i[l];o&&u==e||(t[l]=u,o=!1)}this.g=t}(De=$.prototype).Oa=function(i){this.M=i},De.ha=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():et.g(),this.C=function Kn(i){return i.h||(i.h=i.i())}(this.u?this.u:et),this.g.onreadystatechange=se(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(u){return void _(this,u)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),l=$e.FormData&&i instanceof $e.FormData,!(0<=qe(h,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,g]of t)this.g.setRequestHeader(u,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{on(this),0<this.B&&((this.L=function T(i){return En&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=se(this.ua,this)):this.A=Xn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(u){_(this,u)}},De.ua=function(){typeof ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,en(this,"timeout"),this.abort(8))},De.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,en(this,"complete"),en(this,"abort"),Et(this))},De.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Et(this,!0)),$.$.N.call(this)},De.La=function(){this.s||(this.G||this.v||this.l?J(this):this.kb())},De.kb=function(){J(this)},De.isActive=function(){return!!this.g},De.da=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},De.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},De.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Za(e)}},De.Ia=function(){return this.m},De.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(De=Qo.prototype).ra=8,De.H=1,De.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new Ut(this,this.l,i);let u=this.s;if(this.U&&(u?(u=_i(u),Ii(u,this.U)):u=this.U),null!==this.o||this.O||(l.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xi(this,l,e),Qn(t=wn(this.I),"RID",i),Qn(t,"CVER",22),this.F&&Qn(t,"X-HTTP-Session-Id",this.F),Fi(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(oi(u)))+"&"+e:this.o&&go(t,this.o,u)),Ci(this.i,l),this.bb&&Qn(t,"TYPE","init"),this.P?(Qn(t,"$req",e),Qn(t,"SID","null"),l.aa=!0,Yr(l,t,null)):Yr(l,t,e),this.H=2}}else 3==this.H&&(i?Ns(this,i):0==this.j.length||ui(this.i)||Ns(this))},De.Ma=function(){if(this.u=null,ia(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Pt(se(this.jb,this),i)}},De.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mt(10),hs(this),ia(this))},De.ib=function(){null!=this.v&&(this.v=null,hs(this),na(this),mt(19))},De.pb=function(i){i?(this.l.info("Successfully pinged google.com"),mt(2)):(this.l.info("Failed to ping google.com"),mt(1))},De.isActive=function(){return!!this.h&&this.h.isActive(this)},(De=_c.prototype).Ba=function(){},De.Aa=function(){},De.za=function(){},De.ya=function(){},De.isActive=function(){return!0},De.Va=function(){},la.prototype.g=function(i,e){return new Yo(i,e)},Me(Yo,hn),Yo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;mt(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=aa(i,null,i.Y),ma(i)},Yo.prototype.close=function(){Yi(this.g)},Yo.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=vr(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ma(e)},Yo.prototype.N=function(){this.g.h=null,delete this.j,Yi(this.g),delete this.g,Yo.$.N.call(this)},Me(Aa,We),Me(fl,He),Me(Es,_c),Es.prototype.Ba=function(){en(this.g,"a")},Es.prototype.Aa=function(i){en(this.g,new Aa(i))},Es.prototype.za=function(i){en(this.g,new fl)},Es.prototype.ya=function(){en(this.g,"b")},Me(Hi,function Ma(){this.blockSize=-1}),Hi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Hi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,o=this.m,l=this.h,u=0;u<e;){if(0==l)for(;u<=t;)es(this,i,u),u+=this.blockSize;if("string"==typeof i){for(;u<e;)if(o[l++]=i.charCodeAt(u++),l==this.blockSize){es(this,o),l=0;break}}else for(;u<e;)if(o[l++]=i[u++],l==this.blockSize){es(this,o),l=0;break}}this.h=l,this.i+=e},Hi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)i[t++]=this.g[e]>>>o&255;return i};var V={};function ye(i){return-128<=i&&128>i?function mn(i,e){var t=V;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new C([0|e],0>e?-1:0)}):new C([0|i],0>i?-1:0)}function F(i){if(isNaN(i)||!isFinite(i))return wt;if(0>i)return Bn(F(-i));for(var e=[],t=1,o=0;i>=t;o++)e[o]=i/t|0,t*=Le;return new C(e,0)}var Le=4294967296,wt=ye(0),zt=ye(1),ar=ye(16777216);function Cn(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Jn(i){return-1==i.h}function Bn(i){for(var e=i.g.length,t=[],o=0;o<e;o++)t[o]=~i.g[o];return new C(t,~i.h).add(zt)}function lr(i,e){return i.add(Bn(e))}function Rr(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Zr(i,e){this.g=i,this.h=e}function Ti(i,e){if(Cn(e))throw Error("division by zero");if(Cn(i))return new Zr(wt,wt);if(Jn(i))return e=Ti(Bn(i),e),new Zr(Bn(e.g),Bn(e.h));if(Jn(e))return e=Ti(i,Bn(e)),new Zr(Bn(e.g),e.h);if(30<i.g.length){if(Jn(i)||Jn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=zt,o=e;0>=o.X(i);)t=si(t),o=si(o);var l=ts(t,1),u=ts(o,1);for(o=ts(o,2),t=ts(t,2);!Cn(o);){var g=u.add(o);0>=g.X(i)&&(l=l.add(t),u=g),o=ts(o,1),t=ts(t,1)}return e=lr(i,l.R(e)),new Zr(l,e)}for(l=wt;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),g=(u=F(t)).R(e);Jn(g)||0<g.X(i);)g=(u=F(t-=o)).R(e);Cn(u)&&(u=zt),l=l.add(u),i=lr(i,g)}return new Zr(l,i)}function si(i){for(var e=i.g.length+1,t=[],o=0;o<e;o++)t[o]=i.D(o)<<1|i.D(o-1)>>>31;return new C(t,i.h)}function ts(i,e){var t=e>>5;e%=32;for(var o=i.g.length-t,l=[],u=0;u<o;u++)l[u]=0<e?i.D(u+t)>>>e|i.D(u+t+1)<<32-e:i.D(u+t);return new C(l,i.h)}(De=C.prototype).ea=function(){if(Jn(this))return-Bn(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);i+=(0<=o?o:Le+o)*e,e*=Le}return i},De.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Cn(this))return"0";if(Jn(this))return"-"+Bn(this).toString(i);for(var e=F(Math.pow(i,6)),t=this,o="";;){var l=Ti(t,e).g,u=((0<(t=lr(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(Cn(t=l))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},De.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},De.X=function(i){return Jn(i=lr(this,i))?-1:Cn(i)?0:1},De.abs=function(){return Jn(this)?Bn(this):this},De.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0,l=0;l<=e;l++){var u=o+(65535&this.D(l))+(65535&i.D(l)),g=(u>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);o=g>>>16,t[l]=(g&=65535)<<16|(u&=65535)}return new C(t,-2147483648&t[t.length-1]?-1:0)},De.R=function(i){if(Cn(this)||Cn(i))return wt;if(Jn(this))return Jn(i)?Bn(this).R(Bn(i)):Bn(Bn(this).R(i));if(Jn(i))return Bn(this.R(Bn(i)));if(0>this.X(ar)&&0>i.X(ar))return F(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var l=0;l<i.g.length;l++){var u=this.D(o)>>>16,g=65535&this.D(o),M=i.D(l)>>>16,B=65535&i.D(l);t[2*o+2*l]+=g*B,Rr(t,2*o+2*l),t[2*o+2*l+1]+=u*B,Rr(t,2*o+2*l+1),t[2*o+2*l+1]+=g*M,Rr(t,2*o+2*l+1),t[2*o+2*l+2]+=u*M,Rr(t,2*o+2*l+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new C(t,0)},De.gb=function(i){return Ti(this,i).h},De.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&i.D(o);return new C(t,this.h&i.h)},De.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|i.D(o);return new C(t,this.h|i.h)},De.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^i.D(o);return new C(t,this.h^i.h)},la.prototype.createWebChannel=la.prototype.g,Yo.prototype.send=Yo.prototype.u,Yo.prototype.open=Yo.prototype.m,Yo.prototype.close=Yo.prototype.close,Nt.NO_ERROR=0,Nt.TIMEOUT=8,Nt.HTTP_ERROR=6,vn.COMPLETE="complete",yr.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",hn.prototype.listen=hn.prototype.O,$.prototype.listenOnce=$.prototype.P,$.prototype.getLastError=$.prototype.Sa,$.prototype.getLastErrorCode=$.prototype.Ia,$.prototype.getStatus=$.prototype.da,$.prototype.getResponseJson=$.prototype.Wa,$.prototype.getResponseText=$.prototype.ja,$.prototype.send=$.prototype.ha,$.prototype.setWithCredentials=$.prototype.Oa,Hi.prototype.digest=Hi.prototype.l,Hi.prototype.reset=Hi.prototype.reset,Hi.prototype.update=Hi.prototype.j,C.prototype.add=C.prototype.add,C.prototype.multiply=C.prototype.R,C.prototype.modulo=C.prototype.gb,C.prototype.compare=C.prototype.X,C.prototype.toNumber=C.prototype.ea,C.prototype.toString=C.prototype.toString,C.prototype.getBits=C.prototype.D,C.fromNumber=F,C.fromString=function oe(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Bn(oe(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=F(Math.pow(e,8)),o=wt,l=0;l<i.length;l+=8){var u=Math.min(8,i.length-l),g=parseInt(i.substring(l,l+u),e);8>u?(u=F(Math.pow(e,u)),o=o.R(u).add(F(g))):o=(o=o.R(t)).add(F(g))}return o};var Ko=ve.createWebChannelTransport=function(){return new la},Ki=ve.getStatEventTarget=function(){return ne()},ao=ve.ErrorCode=Nt,fs=ve.EventType=vn,tu=ve.Event=K,_a=ve.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xa=ve.FetchXmlHttpFactory=Is,Ra=ve.WebChannel=yr,Hl=ve.XhrIo=$,er=ve.Md5=Hi,Hs=ve.Integer=C;const zl="@firebase/firestore";class lo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lo.UNAUTHENTICATED=new lo(null),lo.GOOGLE_CREDENTIALS=new lo("google-credentials-uid"),lo.FIRST_PARTY=new lo("first-party-uid"),lo.MOCK_USER=new lo("mock-user");let Oa="9.23.0";const Zi=new fe.Yd("@firebase/firestore");function Gl(){return Zi.logLevel}function Kt(i,...e){if(Zi.logLevel<=fe.in.DEBUG){const t=e.map(Wl);Zi.debug(`Firestore (${Oa}): ${i}`,...t)}}function zi(i,...e){if(Zi.logLevel<=fe.in.ERROR){const t=e.map(Wl);Zi.error(`Firestore (${Oa}): ${i}`,...t)}}function Bo(i,...e){if(Zi.logLevel<=fe.in.WARN){const t=e.map(Wl);Zi.warn(`Firestore (${Oa}): ${i}`,...t)}}function Wl(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Jt(i="Unexpected state"){const e=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: `+i;throw zi(e),new Error(e)}function ut(i,e){i||Jt()}function yn(i,e){return i}const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends Ae.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Pa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Li{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lo.UNAUTHENTICATED))}shutdown(){}}class Na{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pl{constructor(e){this.t=e,this.currentUser=lo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const u=H=>this.i!==l?(l=this.i,t(H)):Promise.resolve();let g=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Pr,e.enqueueRetryable(()=>u(this.currentUser))};const M=()=>{const H=g;e.enqueueRetryable((0,ce.Z)(function*(){yield H.promise,yield u(o.currentUser)}))},B=H=>{Kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(H=>B(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?B(H):(Kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Pr)}},0),M()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(ut("string"==typeof o.accessToken),new Pa(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new lo(e)}}class ka{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=lo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ql{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new ka(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(lo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wo{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&Kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const g=u.token!==this.T;return this.T=u.token,Kt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const l=u=>{Kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?l(u):Kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut("string"==typeof t.token),this.T=t.token,new Yl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gl(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class zs{static A(){const t=62*Math.floor(256/62);let o="";for(;o.length<20;){const l=gl(40);for(let u=0;u<l.length;++u)o.length<20&&l[u]<t&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[u]%62))}return o}}function Gn(i,e){return i<e?-1:i>e?1:0}function Ia(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function ml(i){return i+"\0"}class Si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Si.fromMillis(Date.now())}static fromDate(e){return Si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Si(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gn(this.nanoseconds,e.nanoseconds):Gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Hn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Hn(e)}static min(){return new Hn(new Si(0,0))}static max(){return new Hn(new Si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bs{constructor(e,t,o){void 0===t?t=0:t>e.length&&Jt(),void 0===o?o=e.length-t:o>e.length-t&&Jt(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===bs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bs?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const u=e.get(l),g=t.get(l);if(u<g)return-1;if(u>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nr extends bs{construct(e,t,o){return new Nr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new xt(_t.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new Nr(t)}static emptyPath(){return new Nr([])}}const nu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bi extends bs{construct(e,t,o){return new Bi(e,t,o)}static isValidIdentifier(e){return nu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bi(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const u=()=>{if(0===o.length)throw new xt(_t.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;l<e.length;){const M=e[l];if("\\"===M){if(l+1===e.length)throw new xt(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const B=e[l+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new xt(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=B,l+=2}else"`"===M?(g=!g,l++):"."!==M||g?(o+=M,l++):(u(),l++)}if(u(),g)throw new xt(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bi(t)}static emptyPath(){return new Bi([])}}class gn{constructor(e){this.path=e}static fromPath(e){return new gn(Nr.fromString(e))}static fromName(e){return new gn(Nr.fromString(e).popFirst(5))}static empty(){return new gn(Nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gn(new Nr(e.slice()))}}class w{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function A(i){return i.fields.find(e=>2===e.kind)}function O(i){return i.fields.filter(e=>2!==e.kind)}w.UNKNOWN_ID=-1;class k{constructor(e,t){this.fieldPath=e,this.kind=t}}class pe{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new pe(0,Rt.min())}}function xe(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=Hn.fromTimestamp(1e9===o?new Si(t+1,0):new Si(t,o));return new Rt(l,gn.empty(),e)}function St(i){return new Rt(i.readTime,i.key,-1)}class Rt{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Rt(Hn.min(),gn.empty(),-1)}static max(){return new Rt(Hn.max(),gn.empty(),-1)}}function Nn(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=gn.comparator(i.documentKey,e.documentKey),0!==t?t:Gn(i.largestBatchId,e.largestBatchId))}const An="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ei(i){return $o.apply(this,arguments)}function $o(){return $o=(0,ce.Z)(function*(i){if(i.code!==_t.FAILED_PRECONDITION||i.message!==An)throw i;Kt("LocalStore","Unexpectedly lost primary lease")}),$o.apply(this,arguments)}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new at((o,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,l)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof at?t:at.resolve(t)}catch(t){return at.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):at.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):at.reject(t)}static resolve(e){return new at((t,o)=>{t(e)})}static reject(e){return new at((t,o)=>{o(e)})}static waitFor(e){return new at((t,o)=>{let l=0,u=0,g=!1;e.forEach(M=>{++l,M.next(()=>{++u,g&&u===l&&t()},B=>o(B))}),g=!0,u===l&&t()})}static or(e){let t=at.resolve(!1);for(const o of e)t=t.next(l=>l?at.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,u)=>{o.push(t.call(this,l,u))}),this.waitFor(o)}static mapArray(e,t){return new at((o,l)=>{const u=e.length,g=new Array(u);let M=0;for(let B=0;B<u;B++){const H=B;t(e[H]).next(te=>{g[H]=te,++M,M===u&&o(g)},te=>l(te))}})}static doWhile(e,t){return new at((o,l)=>{const u=()=>{!0===e()?t().next(()=>{u()},l):o()};u()})}}class ca{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Pr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new vo(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const l=Ja(o.target.error);this.v.reject(new vo(e,l))}}static open(e,t,o,l){try{return new ca(t,e.transaction(l,o))}catch(u){throw new vo(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Kt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Fs(t)}}class mo{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===mo.S((0,Ae.z$)())&&zi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Kt("SimpleDb","Removing database:",e),ps(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ae.hl)())return!1;if(mo.C())return!0;const e=(0,Ae.z$)(),t=mo.S(e),o=0<t&&t<10,l=mo.N(e),u=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,ce.Z)(function*(){return t.db||(Kt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=g=>{o(g.target.result)},u.onblocked=()=>{l(new vo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=g=>{const M=g.target.error;l("VersionError"===M.name?new xt(_t.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new xt(_t.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new vo(e,M))},u.onupgradeneeded=g=>{Kt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.V.O(g.target.result,u.transaction,g.oldVersion,t.version).next(()=>{Kt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var u=this;return(0,ce.Z)(function*(){const g="readonly"===t;let M=0;for(;;){++M;try{u.db=yield u.$(e);const B=ca.open(u.db,e,g?"readonly":"readwrite",o),H=l(B).next(te=>(B.P(),te)).catch(te=>(B.abort(te),at.reject(te))).toPromise();return H.catch(()=>{}),yield B.R,H}catch(B){const H=B,te="FirebaseError"!==H.name&&M<3;if(Kt("SimpleDb","Transaction failed with error:",H.message,"Retrying:",te),u.close(),!te)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ua{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ps(this.L.delete())}}class vo extends xt{constructor(e,t){super(_t.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ks(i){return"IndexedDbTransactionError"===i.name}class Fs{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Kt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Kt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ps(o)}add(e){return Kt("SimpleDb","ADD",this.store.name,e,e),ps(this.store.add(e))}get(e){return ps(this.store.get(e)).next(t=>(void 0===t&&(t=null),Kt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Kt("SimpleDb","DELETE",this.store.name,e),ps(this.store.delete(e))}count(){return Kt("SimpleDb","COUNT",this.store.name),ps(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),u=[];return this.W(l,(g,M)=>{u.push(M)}).next(()=>u)}{const l=this.store.getAll(o.range);return new at((u,g)=>{l.onerror=M=>{g(M.target.error)},l.onsuccess=M=>{u(M.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new at((l,u)=>{o.onerror=g=>{u(g.target.error)},o.onsuccess=g=>{l(g.target.result)}})}J(e,t){Kt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const l=this.cursor(o);return this.W(l,(u,g,M)=>M.delete())}X(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.W(l,t)}Z(e){const t=this.cursor({});return new at((o,l)=>{t.onerror=u=>{const g=Ja(u.target.error);l(g)},t.onsuccess=u=>{const g=u.target.result;g?e(g.primaryKey,g.value).next(M=>{M?g.continue():o()}):o()}})}W(e,t){const o=[];return new at((l,u)=>{e.onerror=g=>{u(g.target.error)},e.onsuccess=g=>{const M=g.target.result;if(!M)return void l();const B=new ua(M),H=t(M.primaryKey,M.value,B);if(H instanceof at){const te=H.catch(Fe=>(B.done(),at.reject(Fe)));o.push(te)}B.isDone?l():null===B.K?M.continue():M.continue(B.K)}}).next(()=>at.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ps(i){return new at((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=Ja(o.target.error);t(l)}})}let Qa=!1;function Ja(i){const e=mo.S((0,Ae.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new xt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qa||(Qa=!0,setTimeout(()=>{throw o},0)),o}}return i}class Ic{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Kt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ce.Z)(function*(){t.task=null;try{Kt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){ks(o)?Kt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield ei(o)}yield t.et(6e4)}))}}class Fa{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let l=t,u=!0;return at.doWhile(()=>!0===u&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return Kt("IndexBackiller",`Processing collection: ${g}`),this.it(e,g,l).next(M=>{l-=M,o.add(g)});u=!1})).next(()=>t-l)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,o).next(u=>{const g=u.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.rt(l,u)).next(M=>(Kt("IndexBackiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(e,t,M))).next(()=>g.size)}))}rt(e,t){let o=e;return t.changes.forEach((l,u)=>{const g=St(u);Nn(g,o)>0&&(o=g)}),new Rt(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let bo=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>o.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function co(i){return null==i}function da(i){return 0===i&&1/i==-1/0}function ru(i){return"number"==typeof i&&Number.isInteger(i)&&!da(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Vo(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=iu(e)),e=vl(i.get(t),e);return iu(e)}function vl(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const u=i.charAt(l);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function iu(i){return i+"\x01\x01"}function Co(i){const e=i.length;if(ut(e>=2),2===e)return ut("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Nr.emptyPath();const t=e-2,o=[];let l="";for(let u=0;u<e;){const g=i.indexOf("\x01",u);switch((g<0||g>t)&&Jt(),i.charAt(g+1)){case"\x01":const M=i.substring(u,g);let B;0===l.length?B=M:(l+=M,B=l,l=""),o.push(B);break;case"\x10":l+=i.substring(u,g),l+="\0";break;case"\x11":l+=i.substring(u,g+1);break;default:Jt()}u=g+2}return new Nr(o)}const Ec=["userId","batchId"];function Dc(i,e){return[i,Vo(e)]}function zd(i,e,t){return[i,Vo(e),t]}const Kl={},wc=["prefixPath","collectionGroup","readTime","documentId"],ou=["prefixPath","collectionGroup","documentId"],el=["collectionGroup","readTime","prefixPath","documentId"],Zl=["canonicalId","targetId"],tl=["targetId","path"],Bp=["path","targetId"],bc=["collectionId","parent"],su=["indexId","uid"],zu=["uid","sequenceNumber"],Gs=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hf=["indexId","uid","orderedDocumentKey"],yl=["userId","collectionPath","documentId"],au=["userId","collectionPath","largestBatchId"],Cc=["userId","collectionGroup","largestBatchId"],_l=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lu=[..._l,"documentOverlays"],Tc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cu=Tc,Gu=[...cu,"indexConfiguration","indexState","indexEntries"];class Il extends tr{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function To(i,e){const t=yn(i);return mo.M(t.ht,e)}function Gd(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Cs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function La(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class vi{constructor(e,t){this.comparator=e,this.root=t||yo.EMPTY}insert(e,t){return new vi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yo.BLACK,null,null))}remove(e){return new vi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ba(this.root,e,this.comparator,!0)}}class Ba{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yo{constructor(e,t,o,l,u){this.key=e,this.value=t,this.color=null!=o?o:yo.RED,this.left=null!=l?l:yo.EMPTY,this.right=null!=u?u:yo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,u){return new yo(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const u=o(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===u?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return yo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return yo.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jt();const e=this.left.check();if(e!==this.right.check())throw Jt();return e+(this.isRed()?0:1)}}yo.EMPTY=null,yo.RED=!0,yo.BLACK=!1,yo.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt()}get value(){throw Jt()}get color(){throw Jt()}get left(){throw Jt()}get right(){throw Jt()}copy(i,e,t,o,l){return this}insert(i,e,t){return new yo(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xr{constructor(e){this.comparator=e,this.data=new vi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new El(this.data.getIterator())}getIteratorFrom(e){return new El(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Xr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(l,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xr(this.comparator);return t.data=e,t}}class El{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qi(i){return i.hasNext()?i.getNext():void 0}class Zo{constructor(e){this.fields=e,e.sort(Bi.comparator)}static empty(){return new Zo([])}unionWith(e){let t=new Xr(Bi.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Zo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Dl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class uo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Dl("Invalid base64 string: "+l):l}}(e);return new uo(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new uo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}uo.EMPTY_BYTE_STRING=new uo("");const Wu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(i){if(ut(!!i),"string"==typeof i){let e=0;const t=Wu.exec(i);if(ut(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ai(i.seconds),nanos:Ai(i.nanos)}}function Ai(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function gs(i){return"string"==typeof i?uo.fromBase64String(i):uo.fromUint8Array(i)}function Ea(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ls(i){const e=i.mapValue.fields.__previous_value__;return Ea(e)?Ls(e):e}function $a(i){const e=Ws(i.mapValue.fields.__local_write_time__.timestampValue);return new Si(e.seconds,e.nanos)}class bl{constructor(e,t,o,l,u,g,M,B,H){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=u,this.forceLongPolling=g,this.autoDetectLongPolling=M,this.longPollingOptions=B,this.useFetchStreams=H}}class Va{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Va("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Va&&e.projectId===this.projectId&&e.database===this.database}}const ms={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cl={nullValue:"NULL_VALUE"};function Ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ea(i)?4:an(i)?9007199254740991:10:Jt()}function Ua(i,e){if(i===e)return!0;const t=Ts(i);if(t!==Ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $a(i).isEqual($a(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Ws(o.timestampValue),g=Ws(l.timestampValue);return u.seconds===g.seconds&&u.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,gs(i.bytesValue).isEqual(gs(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Ai(o.geoPointValue.latitude)===Ai(l.geoPointValue.latitude)&&Ai(o.geoPointValue.longitude)===Ai(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ai(o.integerValue)===Ai(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Ai(o.doubleValue),g=Ai(l.doubleValue);return u===g?da(u)===da(g):isNaN(u)&&isNaN(g)}return!1}(i,e);case 9:return Ia(i.arrayValue.values||[],e.arrayValue.values||[],Ua);case 10:return function(o,l){const u=o.mapValue.fields||{},g=l.mapValue.fields||{};if(Gd(u)!==Gd(g))return!1;for(const M in u)if(u.hasOwnProperty(M)&&(void 0===g[M]||!Ua(u[M],g[M])))return!1;return!0}(i,e);default:return Jt()}var l}function uu(i,e){return void 0!==(i.values||[]).find(t=>Ua(t,e))}function ja(i,e){if(i===e)return 0;const t=Ts(i),o=Ts(e);if(t!==o)return Gn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gn(i.booleanValue,e.booleanValue);case 2:return function(l,u){const g=Ai(l.integerValue||l.doubleValue),M=Ai(u.integerValue||u.doubleValue);return g<M?-1:g>M?1:g===M?0:isNaN(g)?isNaN(M)?0:-1:1}(i,e);case 3:return Wd(i.timestampValue,e.timestampValue);case 4:return Wd($a(i),$a(e));case 5:return Gn(i.stringValue,e.stringValue);case 6:return function(l,u){const g=gs(l),M=gs(u);return g.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(l,u){const g=l.split("/"),M=u.split("/");for(let B=0;B<g.length&&B<M.length;B++){const H=Gn(g[B],M[B]);if(0!==H)return H}return Gn(g.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,u){const g=Gn(Ai(l.latitude),Ai(u.latitude));return 0!==g?g:Gn(Ai(l.longitude),Ai(u.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,u){const g=l.values||[],M=u.values||[];for(let B=0;B<g.length&&B<M.length;++B){const H=ja(g[B],M[B]);if(H)return H}return Gn(g.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,u){if(l===ms.mapValue&&u===ms.mapValue)return 0;if(l===ms.mapValue)return 1;if(u===ms.mapValue)return-1;const g=l.fields||{},M=Object.keys(g),B=u.fields||{},H=Object.keys(B);M.sort(),H.sort();for(let te=0;te<M.length&&te<H.length;++te){const Fe=Gn(M[te],H[te]);if(0!==Fe)return Fe;const vt=ja(g[M[te]],B[H[te]]);if(0!==vt)return vt}return Gn(M.length,H.length)}(i.mapValue,e.mapValue);default:throw Jt()}}function Wd(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Gn(i,e);const t=Ws(i),o=Ws(e),l=Gn(t.seconds,o.seconds);return 0!==l?l:Gn(t.nanos,o.nanos)}function qs(i){return qu(i)}function qu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=Ws(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?gs(i.bytesValue).toBase64():"referenceValue"in i?gn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",u=!0;for(const g of o.values||[])u?u=!1:l+=",",l+=qu(g);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let u="{",g=!0;for(const M of l)g?g=!1:u+=",",u+=`${M}:${qu(o.fields[M])}`;return u+"}"}(i.mapValue):Jt();var e}function R(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function z(i){return!!i&&"integerValue"in i}function ge(i){return!!i&&"arrayValue"in i}function Ke(i){return!!i&&"nullValue"in i}function nt(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function bt(i){return!!i&&"mapValue"in i}function dn(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Cs(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=dn(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dn(i.arrayValue.values[t]);return e}return Object.assign({},i)}function an(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ln(i){return"nullValue"in i?Cl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?R(Va.empty(),gn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Jt()}function cr(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?R(Va.empty(),gn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ms:Jt()}function dr(i,e){const t=ja(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Ss(i,e){const t=ja(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!bt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dn(t)}setAll(e){let t=Bi.emptyPath(),o={},l=[];e.forEach((g,M)=>{if(!t.isImmediateParentOf(M)){const B=this.getFieldsMap(t);this.applyChanges(B,o,l),o={},l=[],t=M.popLast()}g?o[M.lastSegment()]=dn(g):l.push(M.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,l)}delete(e){const t=this.field(e.popLast());bt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ua(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];bt(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){Cs(t,(l,u)=>e[l]=u);for(const l of o)delete e[l]}clone(){return new $r(dn(this.value))}}function So(i){const e=[];return Cs(i.fields,(t,o)=>{const l=new Bi([t]);if(bt(o)){const u=So(o.mapValue).fields;if(0===u.length)e.push(l);else for(const g of u)e.push(l.child(g))}else e.push(l)}),new Zo(e)}class hi{constructor(e,t,o,l,u,g,M){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=u,this.data=g,this.documentState=M}static newInvalidDocument(e){return new hi(e,0,Hn.min(),Hn.min(),Hn.min(),$r.empty(),0)}static newFoundDocument(e,t,o,l){return new hi(e,1,t,Hn.min(),o,l,0)}static newNoDocument(e,t){return new hi(e,2,t,Hn.min(),Hn.min(),$r.empty(),0)}static newUnknownDocument(e,t){return new hi(e,3,t,Hn.min(),Hn.min(),$r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Hn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Hn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ao{constructor(e,t){this.position=e,this.inclusive=t}}function Ys(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const u=e[l],g=i.position[l];if(o=u.field.isKeyField()?gn.comparator(gn.fromName(g.referenceValue),t.key):ja(g,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function Ks(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ua(i.position[t],e.position[t]))return!1;return!0}class nl{constructor(e,t="asc"){this.field=e,this.dir=t}}function qd(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ff{}class Gr extends ff{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new mf(e,t,o):"array-contains"===t?new Jl(e,o):"in"===t?new yf(e,o):"not-in"===t?new Ac(e,o):"array-contains-any"===t?new ec(e,o):new Gr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Yu(e,o):new Ku(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ja(t,this.value)):null!==t&&Ts(this.value)===Ts(t)&&this.matchesComparison(ja(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fi extends ff{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new fi(e,t)}matches(e){return Xl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Xl(i){return"and"===i.op}function Tl(i){return"or"===i.op}function Ql(i){return Yd(i)&&Xl(i)}function Yd(i){for(const e of i.filters)if(e instanceof fi)return!1;return!0}function Sc(i){if(i instanceof Gr)return i.field.canonicalString()+i.op.toString()+qs(i.value);if(Ql(i))return i.filters.map(e=>Sc(e)).join(",");{const e=i.filters.map(t=>Sc(t)).join(",");return`${i.op}(${e})`}}function pf(i,e){return i instanceof Gr?(t=i,(o=e)instanceof Gr&&t.op===o.op&&t.field.isEqual(o.field)&&Ua(t.value,o.value)):i instanceof fi?function(t,o){return o instanceof fi&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,u,g)=>l&&pf(u,o.filters[g]),!0)}(i,e):void Jt();var t,o}function du(i,e){const t=i.filters.concat(e);return fi.create(t,i.op)}function gf(i){return i instanceof Gr?`${(e=i).field.canonicalString()} ${e.op} ${qs(e.value)}`:i instanceof fi?function(e){return e.op.toString()+" {"+e.getFilters().map(gf).join(" ,")+"}"}(i):"Filter";var e}class mf extends Gr{constructor(e,t,o){super(e,t,o),this.key=gn.fromName(o.referenceValue)}matches(e){const t=gn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Yu extends Gr{constructor(e,t){super(e,"in",t),this.keys=vf(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ku extends Gr{constructor(e,t){super(e,"not-in",t),this.keys=vf(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vf(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>gn.fromName(o.referenceValue))}class Jl extends Gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ge(t)&&uu(t.arrayValue,this.value)}}class yf extends Gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uu(this.value.arrayValue,t)}}class Ac extends Gr{constructor(e,t){super(e,"not-in",t)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uu(this.value.arrayValue,t)}}class ec extends Gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ge(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>uu(this.value.arrayValue,o))}}class $p{constructor(e,t=null,o=[],l=[],u=null,g=null,M=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=u,this.startAt=g,this.endAt=M,this.dt=null}}function Zu(i,e=null,t=[],o=[],l=null,u=null,g=null){return new $p(i,e,t,o,l,u,g)}function Sl(i){const e=yn(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Sc(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),co(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>qs(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>qs(o)).join(",")),e.dt=t}return e.dt}function hu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!qd(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!pf(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ks(i.startAt,e.startAt)&&Ks(i.endAt,e.endAt)}function fu(i){return gn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Xu(i,e){return i.filters.filter(t=>t instanceof Gr&&t.field.isEqual(e))}function _f(i,e,t){let o=Cl,l=!0;for(const u of Xu(i,e)){let g=Cl,M=!0;switch(u.op){case"<":case"<=":g=Ln(u.value);break;case"==":case"in":case">=":g=u.value;break;case">":g=u.value,M=!1;break;case"!=":case"not-in":g=Cl}dr({value:o,inclusive:l},{value:g,inclusive:M})<0&&(o=g,l=M)}if(null!==t)for(let u=0;u<i.orderBy.length;++u)if(i.orderBy[u].field.isEqual(e)){const g=t.position[u];dr({value:o,inclusive:l},{value:g,inclusive:t.inclusive})<0&&(o=g,l=t.inclusive);break}return{value:o,inclusive:l}}function Qu(i,e,t){let o=ms,l=!0;for(const u of Xu(i,e)){let g=ms,M=!0;switch(u.op){case">=":case">":g=cr(u.value),M=!1;break;case"==":case"in":case"<=":g=u.value;break;case"<":g=u.value,M=!1;break;case"!=":case"not-in":g=ms}Ss({value:o,inclusive:l},{value:g,inclusive:M})>0&&(o=g,l=M)}if(null!==t)for(let u=0;u<i.orderBy.length;++u)if(i.orderBy[u].field.isEqual(e)){const g=t.position[u];Ss({value:o,inclusive:l},{value:g,inclusive:t.inclusive})>0&&(o=g,l=t.inclusive);break}return{value:o,inclusive:l}}class ha{constructor(e,t=null,o=[],l=[],u=null,g="F",M=null,B=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=u,this.limitType=g,this.startAt=M,this.endAt=B,this.wt=null,this._t=null}}function Kd(i,e,t,o,l,u,g,M){return new ha(i,e,t,o,l,u,g,M)}function Mc(i){return new ha(i)}function Zd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function If(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function xc(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Ju(i){return null!==i.collectionGroup}function tc(i){const e=yn(i);if(null===e.wt){e.wt=[];const t=xc(e),o=If(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new nl(t)),e.wt.push(new nl(Bi.keyField(),"asc"));else{let l=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(l=!0);if(!l){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new nl(Bi.keyField(),u))}}}return e.wt}function As(i){const e=yn(i);if(!e._t)if("F"===e.limitType)e._t=Zu(e.path,e.collectionGroup,tc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of tc(e))t.push(new nl(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new Ao(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ao(e.startAt.position,e.startAt.inclusive):null;e._t=Zu(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e._t}function nc(i,e){e.getFirstInequalityField(),xc(i);const t=i.filters.concat([e]);return new ha(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function pu(i,e,t){return new ha(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ed(i,e){return hu(As(i),As(e))&&i.limitType===e.limitType}function td(i){return`${Sl(As(i))}|lt:${i.limitType}`}function gu(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>gf(o)).join(", ")}]`),co(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>qs(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>qs(o)).join(",")),`Target(${t})`}(As(i))}; limitType=${i.limitType})`}function nd(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):gn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of tc(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,u,g){const M=Ys(l,u,g);return l.inclusive?M<=0:M<0}(t.startAt,tc(t),o)||t.endAt&&!function(l,u,g){const M=Ys(l,u,g);return l.inclusive?M>=0:M>0}(t.endAt,tc(t),o)));var t,o}function Vp(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Up(i){return(e,t)=>{let o=!1;for(const l of tc(i)){const u=jp(l,e,t);if(0!==u)return u;o=o||l.field.isKeyField()}return 0}}function jp(i,e,t){const o=i.field.isKeyField()?gn.comparator(e.key,t.key):function(l,u,g){const M=u.data.field(l),B=g.data.field(l);return null!==M&&null!==B?ja(M,B):Jt()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Jt()}}class rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,u]of o)if(this.equalsFn(l,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(t,o)=>{for(const[l,u]of o)e(l,u)})}isEmpty(){return La(this.inner)}size(){return this.innerSize}}const rd=new vi(gn.comparator);function is(){return rd}const Xd=new vi(gn.comparator);function Ha(...i){let e=Xd;for(const t of i)e=e.insert(t.key,t);return e}function Qd(i){let e=Xd;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function vs(){return Rc()}function Jd(){return Rc()}function Rc(){return new rl(i=>i.toString(),(i,e)=>i.isEqual(e))}const id=new vi(gn.comparator),od=new Xr(gn.comparator);function gr(...i){let e=od;for(const t of i)e=e.add(t);return e}const eh=new Xr(Gn);function mu(){return eh}function th(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:da(e)?"-0":e}}function nh(i){return{integerValue:""+i}}function Oc(i,e){return ru(e)?nh(e):th(i,e)}class sd{constructor(){this._=void 0}}function Zs(i,e,t){return i instanceof Pc?function(o,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Ea(l)&&(l=Ls(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}}(t,e):i instanceof il?os(i,e):i instanceof ol?ld(i,e):function(o,l){const u=ad(o,l),g=Ji(u)+Ji(o.gt);return z(u)&&z(o.gt)?nh(g):th(o.serializer,g)}(i,e)}function vu(i,e,t){return i instanceof il?os(i,e):i instanceof ol?ld(i,e):t}function ad(i,e){return i instanceof Al?z(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Pc extends sd{}class il extends sd{constructor(e){super(),this.elements=e}}function os(i,e){const t=rc(e);for(const o of i.elements)t.some(l=>Ua(l,o))||t.push(o);return{arrayValue:{values:t}}}class ol extends sd{constructor(e){super(),this.elements=e}}function ld(i,e){let t=rc(e);for(const o of i.elements)t=t.filter(l=>!Ua(l,o));return{arrayValue:{values:t}}}class Al extends sd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ji(i){return Ai(i.integerValue||i.doubleValue)}function rc(i){return ge(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Nc{constructor(e,t){this.field=e,this.transform=t}}class Hp{constructor(e,t){this.version=e,this.transformResults=t}}class Gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ss(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ic{}function cd(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new oc(i.key,Gi.none()):new sl(i.key,i.data,Gi.none());{const t=i.data,o=$r.empty();let l=new Xr(Bi.comparator);for(let u of e.fields)if(!l.has(u)){let g=t.field(u);null===g&&u.length>1&&(u=u.popLast(),g=t.field(u)),null===g?o.delete(u):o.set(u,g),l=l.add(u)}return new al(i.key,o,new Zo(l.toArray()),Gi.none())}}function Df(i,e,t){i instanceof sl?function(o,l,u){const g=o.value.clone(),M=wf(o.fieldTransforms,l,u.transformResults);g.setAll(M),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(i,e,t):i instanceof al?function(o,l,u){if(!ss(o.precondition,l))return void l.convertToUnknownDocument(u.version);const g=wf(o.fieldTransforms,l,u.transformResults),M=l.data;M.setAll(Ml(o)),M.setAll(g),l.convertToFoundDocument(u.version,M).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Xs(i,e,t,o){return i instanceof sl?function(l,u,g,M){if(!ss(l.precondition,u))return g;const B=l.value.clone(),H=bf(l.fieldTransforms,M,u);return B.setAll(H),u.convertToFoundDocument(u.version,B).setHasLocalMutations(),null}(i,e,t,o):i instanceof al?function(l,u,g,M){if(!ss(l.precondition,u))return g;const B=bf(l.fieldTransforms,M,u),H=u.data;return H.setAll(Ml(l)),H.setAll(B),u.convertToFoundDocument(u.version,H).setHasLocalMutations(),null===g?null:g.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(te=>te.field))}(i,e,t,o):(g=t,ss(i.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):g);var u,g}function yu(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),u=ad(o.transform,l||null);null!=u&&(null===t&&(t=$r.empty()),t.set(o.field,u))}return t||null}function _u(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Ia(t,o,(l,u)=>function Ef(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof il&&o instanceof il||t instanceof ol&&o instanceof ol?Ia(t.elements,o.elements,Ua):t instanceof Al&&o instanceof Al?Ua(t.gt,o.gt):t instanceof Pc&&o instanceof Pc);var t,o}(l,u))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class sl extends ic{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class al extends ic{constructor(e,t,o,l,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ml(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function wf(i,e,t){const o=new Map;ut(i.length===t.length);for(let l=0;l<t.length;l++){const u=i[l],g=u.transform,M=e.data.field(u.field);o.set(u.field,vu(g,M,t[l]))}return o}function bf(i,e,t){const o=new Map;for(const l of i){const u=l.transform,g=t.data.field(l.field);o.set(l.field,Zs(u,g,e))}return o}class oc extends ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ud extends ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&Df(u,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Xs(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Xs(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Jd();return this.mutations.forEach(l=>{const u=e.get(l.key),g=u.overlayedDocument;let M=this.applyToLocalView(g,u.mutatedFields);M=t.has(l.key)?null:M;const B=cd(g,M);null!==B&&o.set(l.key,B),g.isValidDocument()||g.convertToNoDocument(Hn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gr())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(t,o)=>_u(t,o))&&Ia(this.baseMutations,e.baseMutations,(t,o)=>_u(t,o))}}class d{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){ut(e.mutations.length===o.length);let l=id;const u=e.mutations;for(let g=0;g<u.length;g++)l=l.insert(u[g].key,o[g].version);return new d(e,t,o,l)}}class p{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class j{constructor(e,t){this.count=e,this.unchangedNames=t}}var q,Re;function dt(i){switch(i){default:return Jt();case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0}}function jt(i){if(void 0===i)return zi("GRPC error has no .code"),_t.UNKNOWN;switch(i){case q.OK:return _t.OK;case q.CANCELLED:return _t.CANCELLED;case q.UNKNOWN:return _t.UNKNOWN;case q.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case q.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case q.INTERNAL:return _t.INTERNAL;case q.UNAVAILABLE:return _t.UNAVAILABLE;case q.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case q.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case q.NOT_FOUND:return _t.NOT_FOUND;case q.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case q.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case q.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case q.ABORTED:return _t.ABORTED;case q.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case q.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case q.DATA_LOSS:return _t.DATA_LOSS;default:return Jt()}}(Re=q||(q={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";class ln{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Mn}static getOrCreateInstance(){return null===Mn&&(Mn=new ln),Mn}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Mn=null;function kn(){return new TextEncoder}const eo=new Hs([4294967295,4294967295],0);function Ms(i){const e=kn().encode(i),t=new er;return t.update(e),new Uint8Array(t.digest())}function sc(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Hs([t,o],0),new Hs([l,u],0)]}class kc{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new ac(`Invalid padding: ${t}`);if(o<0)throw new ac(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new ac(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new ac(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Hs.fromNumber(this.It)}Et(e,t,o){let l=e.add(t.multiply(Hs.fromNumber(o)));return 1===l.compare(eo)&&(l=new Hs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ms(e),[o,l]=sc(t);for(let u=0;u<this.hashCount;u++){const g=this.Et(o,l,u);if(!this.At(g))return!1}return!0}static create(e,t,o){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),g=new kc(u,l,t);return o.forEach(M=>g.insert(M)),g}insert(e){if(0===this.It)return;const t=Ms(e),[o,l]=sc(t);for(let u=0;u<this.hashCount;u++){const g=this.Et(o,l,u);this.Rt(g)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fc{constructor(e,t,o,l,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,xl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Fc(Hn.min(),l,new vi(Gn),is(),gr())}}class xl{constructor(e,t,o,l,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new xl(o,t,gr(),gr(),gr())}}class lc{constructor(e,t,o,l){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=l}}class ll{constructor(e,t){this.targetId=e,this.Vt=t}}class dd{constructor(e,t,o=uo.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class Iu{constructor(){this.St=0,this.Dt=cc(),this.Ct=uo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=gr(),t=gr(),o=gr();return this.Dt.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:Jt()}}),new xl(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=cc()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Cf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=is(),this.zt=zp(),this.Wt=new vi(Gn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:Jt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,l)=>{this.te(l)&&t(l)})}ne(e){var t;const o=e.targetId,l=e.Vt.count,u=this.se(o);if(u){const g=u.target;if(fu(g))if(0===l){const M=new gn(g.path);this.Yt(o,M,hi.newNoDocument(M,Hn.min()))}else ut(1===l);else{const M=this.ie(o);if(M!==l){const B=this.re(e,M);0!==B&&(this.ee(o),this.Wt=this.Wt.insert(o,2===B?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ln.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,te,Fe){var vt,Ot,nn,Tn,bn,wr;const ni={localCacheCount:te,existenceFilterCount:Fe.count},br=Fe.unchangedNames;return br&&(ni.bloomFilter={applied:0===H,hashCount:null!==(vt=null==br?void 0:br.hashCount)&&void 0!==vt?vt:0,bitmapLength:null!==(Tn=null===(nn=null===(Ot=null==br?void 0:br.bits)||void 0===Ot?void 0:Ot.bitmap)||void 0===nn?void 0:nn.length)&&void 0!==Tn?Tn:0,padding:null!==(wr=null===(bn=null==br?void 0:br.bits)||void 0===bn?void 0:bn.padding)&&void 0!==wr?wr:0}),ni}(B,M,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:l}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:g=0},hashCount:M=0}=o;let B,H;try{B=gs(u).toUint8Array()}catch(te){if(te instanceof Dl)return Bo("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw te}try{H=new kc(B,g,M)}catch(te){return Bo(te instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",te),1}return 0===H.It?1:l!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let l=0;return o.forEach(u=>{const g=this.Gt.ue(),M=`projects/${g.projectId}/databases/${g.database}/documents/${u.path.canonicalString()}`;t.vt(M)||(this.Yt(e,u,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((u,g)=>{const M=this.se(g);if(M){if(u.current&&fu(M.target)){const B=new gn(M.target.path);null!==this.jt.get(B)||this.ae(g,B)||this.Yt(g,B,hi.newNoDocument(B,e))}u.Mt&&(t.set(g,u.Ot()),u.Ft())}});let o=gr();this.zt.forEach((u,g)=>{let M=!0;g.forEachWhile(B=>{const H=this.se(B);return!H||"TargetPurposeLimboResolution"===H.purpose||(M=!1,!1)}),M&&(o=o.add(u))}),this.jt.forEach((u,g)=>g.setReadTime(e));const l=new Fc(e,t,this.Wt,this.jt,o);return this.jt=is(),this.zt=zp(),this.Wt=new vi(Gn),l}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Iu,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Xr(Gn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Kt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Iu),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function zp(){return new vi(gn.comparator)}function cc(){return new vi(gn.comparator)}const Gp={asc:"ASCENDING",desc:"DESCENDING"},ov={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sv={and:"AND",or:"OR"};class av{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rh(i,e){return i.useProto3Json||co(e)?e:{value:e}}function Eu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ih(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function oh(i,e){return Eu(i,e.toTimestamp())}function Uo(i){return ut(!!i),Hn.fromTimestamp(function(e){const t=Ws(e);return new Si(t.seconds,t.nanos)}(i))}function sh(i,e){return(t=i,new Nr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ah(i){const e=Nr.fromString(i);return ut(Yp(e)),e}function hd(i,e){return sh(i.databaseId,e.path)}function za(i,e){const t=ah(e);if(t.get(1)!==i.databaseId.projectId)throw new xt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new xt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new gn(cv(t))}function Du(i,e){return sh(i.databaseId,e)}function lv(i){const e=ah(i);return 4===e.length?Nr.emptyPath():cv(e)}function fd(i){return new Nr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cv(i){return ut(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function uv(i,e,t){return{name:hd(i,e),fields:t.value.mapValue.fields}}function dv(i,e,t){const o=za(i,e.name),l=Uo(e.updateTime),u=e.createTime?Uo(e.createTime):Hn.min(),g=new $r({mapValue:{fields:e.fields}}),M=hi.newFoundDocument(o,l,u,g);return t&&M.setHasCommittedMutations(),t?M.setHasCommittedMutations():M}function Lc(i,e){let t;if(e instanceof sl)t={update:uv(i,e.key,e.value)};else if(e instanceof oc)t={delete:hd(i,e.key)};else if(e instanceof al)t={update:uv(i,e.key,e.data),updateMask:gv(e.fieldMask)};else{if(!(e instanceof ud))return Jt();t={verify:hd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,u){const g=u.transform;if(g instanceof Pc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof il)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ol)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Al)return{fieldPath:u.field.canonicalString(),increment:g.gt};throw Jt()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:oh(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Jt()),t;var l}function lh(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Gi.updateTime(Uo(l.updateTime)):void 0!==l.exists?Gi.exists(l.exists):Gi.none():Gi.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(u,g){let M=null;"setToServerValue"in g?(ut("REQUEST_TIME"===g.setToServerValue),M=new Pc):"appendMissingElements"in g?M=new il(g.appendMissingElements.values||[]):"removeAllFromArray"in g?M=new ol(g.removeAllFromArray.values||[]):"increment"in g?M=new Al(u,g.increment):Jt();const B=Bi.fromServerFormat(g.fieldPath);return new Nc(B,M)}(i,l)):[];var l;if(e.update){const l=za(i,e.update.name),u=new $r({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Zo((e.updateMask.fieldPaths||[]).map(H=>Bi.fromServerFormat(H)));return new al(l,u,g,t,o)}return new sl(l,u,t,o)}if(e.delete){const l=za(i,e.delete);return new oc(l,t)}if(e.verify){const l=za(i,e.verify);return new ud(l,t)}return Jt()}function pv(i,e){return{documents:[Du(i,e.path)]}}function Wp(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Du(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Du(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(B){if(0!==B.length)return qp(fi.create(B,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(B){if(0!==B.length)return B.map(H=>{return{field:Rl((te=H).field),direction:b_(te.dir)};var te})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const g=rh(i,e.limit);var M,B;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(t.structuredQuery.endAt={before:!(B=e.endAt).inclusive,values:B.position}),t}function D_(i){let e=lv(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){ut(1===o);const te=t.from[0];te.allDescendants?l=te.collectionId:e=e.child(te.collectionId)}let u=[];t.where&&(u=function(te){const Fe=Tf(te);return Fe instanceof fi&&Ql(Fe)?Fe.getFilters():[Fe]}(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(te=>{return new nl(wu((Fe=te).field),function(vt){switch(vt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Fe.direction));var Fe}));let M=null;t.limit&&(M=function(te){let Fe;return Fe="object"==typeof te?te.value:te,co(Fe)?null:Fe}(t.limit));let B=null;var te;t.startAt&&(B=new Ao((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new Ao(te.values||[],!te.before)}(t.endAt)),Kd(e,l,g,u,M,"F",B,H)}function Tf(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wu(e.unaryFilter.field);return Gr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=wu(e.unaryFilter.field);return Gr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wu(e.unaryFilter.field);return Gr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=wu(e.unaryFilter.field);return Gr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Jt()}}(i):void 0!==i.fieldFilter?Gr.create(wu((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return fi.create(e.compositeFilter.filters.map(t=>Tf(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Jt()}}(e.compositeFilter.op))}(i):Jt();var e}function b_(i){return Gp[i]}function gd(i){return ov[i]}function Sf(i){return sv[i]}function Rl(i){return{fieldPath:i.canonicalString()}}function wu(i){return Bi.fromServerFormat(i.fieldPath)}function qp(i){return i instanceof Gr?function(e){if("=="===e.op){if(nt(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NAN"}};if(Ke(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nt(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NOT_NAN"}};if(Ke(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(e.field),op:gd(e.op),value:e.value}}}(i):i instanceof fi?function(e){const t=e.getFilters().map(o=>qp(o));return 1===t.length?t[0]:{compositeFilter:{op:Sf(e.op),filters:t}}}(i):Jt()}function gv(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Yp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class uc{constructor(e,t,o,l,u=Hn.min(),g=Hn.min(),M=uo.EMPTY_BYTE_STRING,B=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=M,this.expectedCount=B}withSequenceNumber(e){return new uc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mv{constructor(e){this.fe=e}}function vv(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Af(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:hd(l=i.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Eu(l,u.version.toTimestamp()),createTime:Eu(l,u.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:fa(e.version)};else{if(!e.isUnknownDocument())return Jt();o.unknownDocument={path:t.path.toArray(),version:fa(e.version)}}var l,u;return o}function Af(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function fa(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cl(i){const e=new Si(i.seconds,i.nanoseconds);return Hn.fromTimestamp(e)}function bu(i,e){const t=(e.baseMutations||[]).map(u=>lh(i.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>lh(i.fe,u)),l=Si.fromMillis(e.localWriteTimeMs);return new I(e.batchId,l,t,o)}function Mf(i){const e=cl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?cl(i.lastLimboFreeSnapshotVersion):Hn.min();let o;var l;return void 0!==i.query.documents?(ut(1===(l=i.query).documents.length),o=As(Mc(lv(l.documents[0])))):o=As(D_(i.query)),new uc(o,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,uo.fromBase64String(i.resumeToken))}function T_(i,e){const t=fa(e.snapshotVersion),o=fa(e.lastLimboFreeSnapshotVersion);let l;l=fu(e.target)?pv(i.fe,e.target):Wp(i.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sl(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function yv(i){const e=D_({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?pu(e,e.limit,"L"):e}function _v(i,e){return new p(e.largestBatchId,lh(i.fe,e.overlayMutation))}function S_(i,e){const t=e.path.lastSegment();return[i,Vo(e.path.popLast()),t]}function Kp(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:fa(o.readTime),documentKey:Vo(o.documentKey.path),largestBatchId:o.largestBatchId}}class A_{getBundleMetadata(e,t){return Iv(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:cl(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Iv(e).put({bundleId:(o=t).id,createTime:fa(Uo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Ev(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:yv(l.bundledQuery),readTime:cl(l.readTime)};var l})}saveNamedQuery(e,t){return Ev(e).put({name:(o=t).name,readTime:fa(Uo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Iv(i){return To(i,"bundles")}function Ev(i){return To(i,"namedQueries")}class xf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new xf(e,t.uid||"")}getOverlay(e,t){return Cu(e).get(S_(this.userId,t)).next(o=>o?_v(this.serializer,o):null)}getOverlays(e,t){const o=vs();return at.forEach(t,l=>this.getOverlay(e,l).next(u=>{null!==u&&o.set(l,u)})).next(()=>o)}saveOverlays(e,t,o){const l=[];return o.forEach((u,g)=>{const M=new p(t,g);l.push(this.we(e,M))}),at.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(g=>l.add(Vo(g.getCollectionPath())));const u=[];return l.forEach(g=>{const M=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);u.push(Cu(e).J("collectionPathOverlayIndex",M))}),at.waitFor(u)}getOverlaysForCollection(e,t,o){const l=vs(),u=Vo(t),g=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Cu(e).j("collectionPathOverlayIndex",g).next(M=>{for(const B of M){const H=_v(this.serializer,B);l.set(H.getKey(),H)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const u=vs();let g;const M=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Cu(e).X({index:"collectionGroupOverlayIndex",range:M},(B,H,te)=>{const Fe=_v(this.serializer,H);u.size()<l||Fe.largestBatchId===g?(u.set(Fe.getKey(),Fe),g=Fe.largestBatchId):te.done()}).next(()=>u)}we(e,t){return Cu(e).put(function(o,l,u){const[g,M,B]=S_(l,u.mutation.key);return{userId:l,collectionPath:M,documentId:B,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Lc(o.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Cu(i){return To(i,"documentOverlays")}class Qs{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ai(e.integerValue));else if("doubleValue"in e){const o=Ai(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),da(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(gs(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?an(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Jt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const l of Object.keys(o))this.Te(l,t),this.me(o[l],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const l of o)this.me(l,t)}ve(e,t){this.ye(t,37),gn.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function ch(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Zp(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const u=ch(255&t[l]);if(o+=u,8!==u)break}return o}(i);return Math.ceil(e/8)}Qs.Ve=new Qs;class Dv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const l=t.codePointAt(0);this.De(240|l>>>18),this.De(128|63&l>>>12),this.De(128|63&l>>>6),this.De(128|63&l)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const l=t.codePointAt(0);this.Ne(240|l>>>18),this.Ne(128|63&l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l)}}this.ke()}Oe(e){const t=this.Fe(e),o=Zp(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Le(e){const t=this.Fe(e),o=Zp(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class wv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class RI{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Rf{constructor(){this.je=new Dv,this.ze=new wv(this.je),this.We=new RI(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class md{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new md(this.indexId,this.documentKey,this.arrayValue,o)}}function Ol(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Of(i.arrayValue,e.arrayValue),0!==t?t:(t=Of(i.directionalValue,e.directionalValue),0!==t?t:gn.comparator(i.documentKey,e.documentKey)))}function Of(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class OI{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){ut(e.collectionGroup===this.collectionId);const t=A(e);if(void 0!==t&&!this.en(t))return!1;const o=O(e);let l=new Set,u=0,g=0;for(;u<o.length&&this.en(o[u]);++u)l=l.add(o[u].fieldPath.canonicalString());if(u===o.length)return!0;if(void 0!==this.Ze){if(!l.has(this.Ze.field.canonicalString())){const M=o[u];if(!this.nn(this.Ze,M)||!this.sn(this.Ye[g++],M))return!1}++u}for(;u<o.length;++u)if(g>=this.Ye.length||!this.sn(this.Ye[g++],o[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function M_(i){var e,t;if(ut(i instanceof Gr||i instanceof fi),i instanceof Gr){if(i instanceof yf){const l=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Gr.create(i.field,"==",u)))||[];return fi.create(l,"or")}return i}const o=i.filters.map(l=>M_(l));return fi.create(o,i.op)}function bv(i){if(0===i.getFilters().length)return[];const e=Jp(M_(i));return ut(Cv(e)),Xp(e)||Qp(e)?[e]:e.getFilters()}function Xp(i){return i instanceof Gr}function Qp(i){return i instanceof fi&&Ql(i)}function Cv(i){return Xp(i)||Qp(i)||function(e){if(e instanceof fi&&Tl(e)){for(const t of e.getFilters())if(!Xp(t)&&!Qp(t))return!1;return!0}return!1}(i)}function Jp(i){if(ut(i instanceof Gr||i instanceof fi),i instanceof Gr)return i;if(1===i.filters.length)return Jp(i.filters[0]);const e=i.filters.map(o=>Jp(o));let t=fi.create(e,i.op);return t=Nf(t),Cv(t)?t:(ut(t instanceof fi),ut(Xl(t)),ut(t.filters.length>1),t.filters.reduce((o,l)=>Pf(o,l)))}function Pf(i,e){let t;return ut(i instanceof Gr||i instanceof fi),ut(e instanceof Gr||e instanceof fi),t=i instanceof Gr?e instanceof Gr?fi.create([i,e],"and"):uh(i,e):e instanceof Gr?uh(e,i):function(o,l){if(ut(o.filters.length>0&&l.filters.length>0),Xl(o)&&Xl(l))return du(o,l.getFilters());const u=Tl(o)?o:l,g=Tl(o)?l:o,M=u.filters.map(B=>Pf(B,g));return fi.create(M,"or")}(i,e),Nf(t)}function uh(i,e){if(Xl(e))return du(e,i.getFilters());{const t=e.filters.map(o=>Pf(i,o));return fi.create(t,"or")}}function Nf(i){if(ut(i instanceof Gr||i instanceof fi),i instanceof Gr)return i;const e=i.getFilters();if(1===e.length)return Nf(e[0]);if(Yd(i))return i;const t=e.map(l=>Nf(l)),o=[];return t.forEach(l=>{l instanceof Gr?o.push(l):l instanceof fi&&(l.op===i.op?o.push(...l.filters):o.push(l))}),1===o.length?o[0]:fi.create(o,i.op)}class eg{constructor(){this.rn=new tg}addToCollectionParentIndex(e,t){return this.rn.add(t),at.resolve()}getCollectionParents(e,t){return at.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return at.resolve()}deleteFieldIndex(e,t){return at.resolve()}getDocumentsMatchingTarget(e,t){return at.resolve(null)}getIndexType(e,t){return at.resolve(0)}getFieldIndexes(e,t){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,t){return at.resolve(Rt.min())}getMinOffsetFromCollectionGroup(e,t){return at.resolve(Rt.min())}updateCollectionGroup(e,t,o){return at.resolve()}updateIndexEntries(e,t){return at.resolve()}}class tg{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new Xr(Nr.comparator),u=!l.has(o);return this.index[t]=l.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Xr(Nr.comparator)).toArray()}}const dc=new Uint8Array(0);class x_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new tg,this.un=new rl(o=>Sl(o),(o,l)=>hu(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:o,parent:Vo(l)};return Tv(e).put(u)}return at.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[ml(t),""],!1,!0);return Tv(e).j(l).next(u=>{for(const g of u){if(g.collectionId!==t)break;o.push(Co(g.parent))}return o})}addFieldIndex(e,t){const o=dh(e),l={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var g;delete l.indexId;const u=o.add(l);if(t.indexState){const g=hh(e);return u.next(M=>{g.put(Kp(M,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const o=dh(e),l=hh(e),u=vd(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=vd(e);let l=!0;const u=new Map;return at.forEach(this.cn(t),g=>this.an(e,g).next(M=>{l&&(l=!!M),u.set(g,M)})).next(()=>{if(l){let g=gr();const M=[];return at.forEach(u,(B,H)=>{var te;Kt("IndexedDbIndexManager",`Using index ${te=B,`id=${te.indexId}|cg=${te.collectionGroup}|f=${te.fields.map(br=>`${br.fieldPath}:${br.kind}`).join(",")}`} to execute ${Sl(t)}`);const Fe=function(br,Wi){const ro=A(Wi);if(void 0===ro)return null;for(const xi of Xu(br,ro.fieldPath))switch(xi.op){case"array-contains-any":return xi.value.arrayValue.values||[];case"array-contains":return[xi.value]}return null}(H,B),vt=function(br,Wi){const ro=new Map;for(const xi of O(Wi))for(const ls of Xu(br,xi.fieldPath))switch(ls.op){case"==":case"in":ro.set(xi.fieldPath.canonicalString(),ls.value);break;case"not-in":case"!=":return ro.set(xi.fieldPath.canonicalString(),ls.value),Array.from(ro.values())}return null}(H,B),Ot=function(br,Wi){const ro=[];let xi=!0;for(const ls of O(Wi)){const ns=0===ls.kind?_f(br,ls.fieldPath,br.startAt):Qu(br,ls.fieldPath,br.startAt);ro.push(ns.value),xi&&(xi=ns.inclusive)}return new Ao(ro,xi)}(H,B),nn=function(br,Wi){const ro=[];let xi=!0;for(const ls of O(Wi)){const ns=0===ls.kind?Qu(br,ls.fieldPath,br.endAt):_f(br,ls.fieldPath,br.endAt);ro.push(ns.value),xi&&(xi=ns.inclusive)}return new Ao(ro,xi)}(H,B),Tn=this.hn(B,H,Ot),bn=this.hn(B,H,nn),wr=this.ln(B,H,vt),ni=this.fn(B.indexId,Fe,Tn,Ot.inclusive,bn,nn.inclusive,wr);return at.forEach(ni,br=>o.H(br,t.limit).next(Wi=>{Wi.forEach(ro=>{const xi=gn.fromSegments(ro.documentKey);g.has(xi)||(g=g.add(xi),M.push(xi))})}))}).next(()=>M)}return at.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:bv(fi.create(e.filters,"and")).map(o=>Zu(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,l,u,g,M){const B=(null!=t?t.length:1)*Math.max(o.length,u.length),H=B/(null!=t?t.length:1),te=[];for(let Fe=0;Fe<B;++Fe){const vt=t?this.dn(t[Fe/H]):dc,Ot=this.wn(e,vt,o[Fe%H],l),nn=this._n(e,vt,u[Fe%H],g),Tn=M.map(bn=>this.wn(e,vt,bn,!0));te.push(...this.createRange(Ot,nn,Tn))}return te}wn(e,t,o,l){const u=new md(e,gn.empty(),t,o);return l?u:u.Je()}_n(e,t,o,l){const u=new md(e,gn.empty(),t,o);return l?u.Je():u}an(e,t){const o=new OI(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(u=>{let g=null;for(const M of u)o.tn(M)&&(!g||M.fields.length>g.fields.length)&&(g=M);return g})}getIndexType(e,t){let o=2;const l=this.cn(t);return at.forEach(l,u=>this.an(e,u).next(g=>{g?0!==o&&g.fields.length<function(M){let B=new Xr(Bi.comparator),H=!1;for(const te of M.filters)for(const Fe of te.getFlattenedFilters())Fe.field.isKeyField()||("array-contains"===Fe.op||"array-contains-any"===Fe.op?H=!0:B=B.add(Fe.field));for(const te of M.orderBy)te.field.isKeyField()||(B=B.add(te.field));return B.size+(H?1:0)}(u)&&(o=1):o=0})).next(()=>null!==t.limit&&l.length>1&&2===o?1:o)}mn(e,t){const o=new Rf;for(const l of O(e)){const u=t.data.field(l.fieldPath);if(null==u)return null;const g=o.He(l.kind);Qs.Ve._e(u,g)}return o.Qe()}dn(e){const t=new Rf;return Qs.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new Rf;return Qs.Ve._e(R(this.databaseId,t),o.He(function(l){const u=O(l);return 0===u.length?0:u[u.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let l=[];l.push(new Rf);let u=0;for(const g of O(e)){const M=o[u++];for(const B of l)if(this.yn(t,g.fieldPath)&&ge(M))l=this.pn(l,g,M);else{const H=B.He(g.kind);Qs.Ve._e(M,H)}}return this.In(l)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const l=[...e],u=[];for(const g of o.arrayValue.values||[])for(const M of l){const B=new Rf;B.seed(M.Qe()),Qs.Ve._e(g,B.He(t.kind)),u.push(B)}return u}yn(e,t){return!!e.filters.find(o=>o instanceof Gr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=dh(e),l=hh(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(u=>{const g=[];return at.forEach(u,M=>l.get([M.indexId,this.uid]).next(B=>{g.push(function(H,te){const Fe=te?new pe(te.sequenceNumber,new Rt(cl(te.readTime),new gn(Co(te.documentKey)),te.largestBatchId)):pe.empty(),vt=H.fields.map(([Ot,nn])=>new k(Bi.fromServerFormat(Ot),nn));return new w(H.indexId,H.collectionGroup,vt,Fe)}(M,B))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const u=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==u?u:Gn(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=dh(e),u=hh(e);return this.Tn(e).next(g=>l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(M=>at.forEach(M,B=>u.put(Kp(B.indexId,this.user,g,o)))))}updateIndexEntries(e,t){const o=new Map;return at.forEach(t,(l,u)=>{const g=o.get(l.collectionGroup);return(g?at.resolve(g):this.getFieldIndexes(e,l.collectionGroup)).next(M=>(o.set(l.collectionGroup,M),at.forEach(M,B=>this.En(e,l,B).next(H=>{const te=this.An(u,B);return H.isEqual(te)?at.resolve():this.vn(e,u,B,H,te)}))))})}Rn(e,t,o,l){return vd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,l){return vd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const l=vd(e);let u=new Xr(Ol);return l.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(g,M)=>{u=u.add(new md(o.indexId,t,M.arrayValue,M.directionalValue))}).next(()=>u)}An(e,t){let o=new Xr(Ol);const l=this.mn(t,e);if(null==l)return o;const u=A(t);if(null!=u){const g=e.data.field(u.fieldPath);if(ge(g))for(const M of g.arrayValue.values||[])o=o.add(new md(t.indexId,e.key,this.dn(M),l))}else o=o.add(new md(t.indexId,e.key,dc,l));return o}vn(e,t,o,l,u){Kt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(M,B,H,te,Fe){const vt=M.getIterator(),Ot=B.getIterator();let nn=Qi(vt),Tn=Qi(Ot);for(;nn||Tn;){let bn=!1,wr=!1;if(nn&&Tn){const ni=H(nn,Tn);ni<0?wr=!0:ni>0&&(bn=!0)}else null!=nn?wr=!0:bn=!0;bn?(te(Tn),Tn=Qi(Ot)):wr?(Fe(nn),nn=Qi(vt)):(nn=Qi(vt),Tn=Qi(Ot))}}(l,u,Ol,M=>{g.push(this.Rn(e,t,o,M))},M=>{g.push(this.Pn(e,t,o,M))}),at.waitFor(g)}Tn(e){let t=1;return hh(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,u)=>{u.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((g,M)=>Ol(g,M)).filter((g,M,B)=>!M||0!==Ol(g,B[M-1]));const l=[];l.push(e);for(const g of o){const M=Ol(g,e),B=Ol(g,t);if(0===M)l[0]=e.Je();else if(M>0&&B<0)l.push(g),l.push(g.Je());else if(B>0)break}l.push(t);const u=[];for(let g=0;g<l.length;g+=2){if(this.bn(l[g],l[g+1]))return[];u.push(IDBKeyRange.bound([l[g].indexId,this.uid,l[g].arrayValue,l[g].directionalValue,dc,[]],[l[g+1].indexId,this.uid,l[g+1].arrayValue,l[g+1].directionalValue,dc,[]]))}return u}bn(e,t){return Ol(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Sv)}getMinOffset(e,t){return at.mapArray(this.cn(t),o=>this.an(e,o).next(l=>l||Jt())).next(Sv)}}function Tv(i){return To(i,"collectionParents")}function vd(i){return To(i,"indexEntries")}function dh(i){return To(i,"indexConfiguration")}function hh(i){return To(i,"indexState")}function Sv(i){ut(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const l=i[o].indexState.offset;Nn(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new Rt(e.readTime,e.documentKey,t)}const Av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bs{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Bs(e,Bs.DEFAULT_COLLECTION_PERCENTILE,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ng(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),u=[],g=IDBKeyRange.only(t.batchId);let M=0;const B=o.X({range:g},(te,Fe,vt)=>(M++,vt.delete()));u.push(B.next(()=>{ut(1===M)}));const H=[];for(const te of t.mutations){const Fe=zd(e,te.key.path,t.batchId);u.push(l.delete(Fe)),H.push(te.key)}return at.waitFor(u).next(()=>H)}function rg(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Jt();e=i.noDocument}return JSON.stringify(e).length}Bs.DEFAULT_COLLECTION_PERCENTILE=10,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bs.DEFAULT=new Bs(41943040,Bs.DEFAULT_COLLECTION_PERCENTILE,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bs.DISABLED=new Bs(-1,0,0);class ig{constructor(e,t,o,l){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=l,this.Vn={}}static de(e,t,o,l){ut(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new ig(u,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vr(e).X({index:"userMutationsIndex",range:o},(l,u,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const u=Pl(e),g=Vr(e);return g.add({}).next(M=>{ut("number"==typeof M);const B=new I(M,t,o,l),H=function(vt,Ot,nn){const Tn=nn.baseMutations.map(wr=>Lc(vt.fe,wr)),bn=nn.mutations.map(wr=>Lc(vt.fe,wr));return{userId:Ot,batchId:nn.batchId,localWriteTimeMs:nn.localWriteTime.toMillis(),baseMutations:Tn,mutations:bn}}(this.serializer,this.userId,B),te=[];let Fe=new Xr((vt,Ot)=>Gn(vt.canonicalString(),Ot.canonicalString()));for(const vt of l){const Ot=zd(this.userId,vt.key.path,M);Fe=Fe.add(vt.key.path.popLast()),te.push(g.put(H)),te.push(u.put(Ot,Kl))}return Fe.forEach(vt=>{te.push(this.indexManager.addToCollectionParentIndex(e,vt))}),e.addOnCommittedListener(()=>{this.Vn[M]=B.keys()}),at.waitFor(te).next(()=>B)})}lookupMutationBatch(e,t){return Vr(e).get(t).next(o=>o?(ut(o.userId===this.userId),bu(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?at.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.Vn[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return Vr(e).X({index:"userMutationsIndex",range:l},(g,M,B)=>{M.userId===this.userId&&(ut(M.batchId>=o),u=bu(this.serializer,M)),B.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Vr(e).X({index:"userMutationsIndex",range:t,reverse:!0},(l,u,g)=>{o=u.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vr(e).j("userMutationsIndex",t).next(o=>o.map(l=>bu(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Dc(this.userId,t.path),l=IDBKeyRange.lowerBound(o),u=[];return Pl(e).X({range:l},(g,M,B)=>{const[H,te,Fe]=g,vt=Co(te);if(H===this.userId&&t.path.isEqual(vt))return Vr(e).get(Fe).next(Ot=>{if(!Ot)throw Jt();ut(Ot.userId===this.userId),u.push(bu(this.serializer,Ot))});B.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Xr(Gn);const l=[];return t.forEach(u=>{const g=Dc(this.userId,u.path),M=IDBKeyRange.lowerBound(g),B=Pl(e).X({range:M},(H,te,Fe)=>{const[vt,Ot,nn]=H,Tn=Co(Ot);vt===this.userId&&u.path.isEqual(Tn)?o=o.add(nn):Fe.done()});l.push(B)}),at.waitFor(l).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,u=Dc(this.userId,o),g=IDBKeyRange.lowerBound(u);let M=new Xr(Gn);return Pl(e).X({range:g},(B,H,te)=>{const[Fe,vt,Ot]=B,nn=Co(vt);Fe===this.userId&&o.isPrefixOf(nn)?nn.length===l&&(M=M.add(Ot)):te.done()}).next(()=>this.Dn(e,M))}Dn(e,t){const o=[],l=[];return t.forEach(u=>{l.push(Vr(e).get(u).next(g=>{if(null===g)throw Jt();ut(g.userId===this.userId),o.push(bu(this.serializer,g))}))}),at.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return ng(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),at.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return at.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Pl(e).X({range:o},(u,g,M)=>{if(u[0]===this.userId){const B=Co(u[1]);l.push(B)}else M.done()}).next(()=>{ut(0===l.length)})})}containsKey(e,t){return yd(e,this.userId,t)}xn(e){return og(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yd(i,e,t){const o=Dc(e,t.path),l=o[1],u=IDBKeyRange.lowerBound(o);let g=!1;return Pl(i).X({range:u,Y:!0},(M,B,H)=>{const[te,Fe,vt]=M;te===e&&Fe===l&&(g=!0),H.done()}).next(()=>g)}function Vr(i){return To(i,"mutations")}function Pl(i){return To(i,"documentMutations")}function og(i){return To(i,"mutationQueues")}class Bc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bc(0)}static Mn(){return new Bc(-1)}}class sg{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new Bc(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Hn.fromTimestamp(new Si(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.On(e,l)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Tu(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(ut(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let l=0;const u=[];return Tu(e).X((g,M)=>{const B=Mf(M);B.sequenceNumber<=t&&null===o.get(B.targetId)&&(l++,u.push(this.removeTargetData(e,B)))}).next(()=>at.waitFor(u)).next(()=>l)}forEachTarget(e,t){return Tu(e).X((o,l)=>{const u=Mf(l);t(u)})}$n(e){return Mv(e).get("targetGlobalKey").next(t=>(ut(null!==t),t))}On(e,t){return Mv(e).put("targetGlobalKey",t)}Fn(e,t){return Tu(e).put(T_(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Sl(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return Tu(e).X({range:l,index:"queryTargetsIndex"},(g,M,B)=>{const H=Mf(M);hu(t,H.target)&&(u=H,B.done())}).next(()=>u)}addMatchingKeys(e,t,o){const l=[],u=hc(e);return t.forEach(g=>{const M=Vo(g.path);l.push(u.put({targetId:o,path:M})),l.push(this.referenceDelegate.addReference(e,o,g))}),at.waitFor(l)}removeMatchingKeys(e,t,o){const l=hc(e);return at.forEach(t,u=>{const g=Vo(u.path);return at.waitFor([l.delete([o,g]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,t){const o=hc(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=hc(e);let u=gr();return l.X({range:o,Y:!0},(g,M,B)=>{const H=Co(g[1]),te=new gn(H);u=u.add(te)}).next(()=>u)}containsKey(e,t){const o=Vo(t.path),l=IDBKeyRange.bound([o],[ml(o)],!1,!0);let u=0;return hc(e).X({index:"documentTargetsIndex",Y:!0,range:l},([g,M],B,H)=>{0!==g&&(u++,H.done())}).next(()=>u>0)}le(e,t){return Tu(e).get(t).next(o=>o?Mf(o):null)}}function Tu(i){return To(i,"targets")}function Mv(i){return To(i,"targetGlobal")}function hc(i){return To(i,"targetDocuments")}function ag([i,e],[t,o]){const l=Gn(i,t);return 0===l?Gn(e,o):l}class kf{constructor(e){this.Ln=e,this.buffer=new Xr(ag),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();ag(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class R_{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Kt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ce.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){ks(o)?Kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield ei(o)}yield t.Qn(3e5)}))}}class lg{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return at.resolve(bo.ct);const o=new kf(t);return this.jn.forEachTarget(e,l=>o.Kn(l.sequenceNumber)).next(()=>this.jn.Wn(e,l=>o.Kn(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(Av)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Av):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,l,u,g,M,B,H;const te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Fe=>(Fe>this.params.maximumSequenceNumbersToCollect?(Kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Fe}`),l=this.params.maximumSequenceNumbersToCollect):l=Fe,g=Date.now(),this.nthSequenceNumber(e,l))).next(Fe=>(o=Fe,M=Date.now(),this.removeTargets(e,o,t))).next(Fe=>(u=Fe,B=Date.now(),this.removeOrphanedDocuments(e,o))).next(Fe=>(H=Date.now(),Gl()<=fe.in.DEBUG&&Kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-te}ms\n\tDetermined least recently used ${l} in `+(M-g)+`ms\n\tRemoved ${u} targets in `+(B-M)+`ms\n\tRemoved ${Fe} documents in `+(H-B)+`ms\nTotal Duration: ${H-te}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:Fe})))}}class cg{constructor(e,t){this.db=e,this.garbageCollector=function xv(i,e){return new lg(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,l)=>t(l))}addReference(e,t,o){return fh(e,o)}removeReference(e,t,o){return fh(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return fh(e,t)}Xn(e,t){return function(o,l){let u=!1;return og(o).Z(g=>yd(o,g,l).next(M=>(M&&(u=!0),at.resolve(!M)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let u=0;return this.Yn(e,(g,M)=>{if(M<=t){const B=this.Xn(e,g).next(H=>{if(!H)return u++,o.getEntry(e,g).next(()=>(o.removeEntry(g,Hn.min()),hc(e).delete([0,Vo(g.path)])))});l.push(B)}}).next(()=>at.waitFor(l)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return fh(e,t)}Yn(e,t){const o=hc(e);let l,u=bo.ct;return o.X({index:"documentTargetsIndex"},([g,M],{path:B,sequenceNumber:H})=>{0===g?(u!==bo.ct&&t(new gn(Co(l)),u),u=H,l=B):u=bo.ct}).next(()=>{u!==bo.ct&&t(new gn(Co(l)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fh(i,e){return hc(i).put((o=i.currentSequenceNumber,{targetId:0,path:Vo(e.path),sequenceNumber:o}));var o}class ug{constructor(){this.changes=new rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?at.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Su{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Au(e).put(o)}removeEntry(e,t,o){return Au(e).delete(function(l,u){const g=l.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],Af(u),g[g.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=hi.newInvalidDocument(t);return Au(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Mu(t))},(l,u)=>{o=this.ts(t,u)}).next(()=>o)}es(e,t){let o={size:0,document:hi.newInvalidDocument(t)};return Au(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Mu(t))},(l,u)=>{o={document:this.ts(t,u),size:rg(u)}}).next(()=>o)}getEntries(e,t){let o=is();return this.ns(e,t,(l,u)=>{const g=this.ts(l,u);o=o.insert(l,g)}).next(()=>o)}ss(e,t){let o=is(),l=new vi(gn.comparator);return this.ns(e,t,(u,g)=>{const M=this.ts(u,g);o=o.insert(u,M),l=l.insert(u,rg(g))}).next(()=>({documents:o,rs:l}))}ns(e,t,o){if(t.isEmpty())return at.resolve();let l=new Xr(ul);t.forEach(B=>l=l.add(B));const u=IDBKeyRange.bound(Mu(l.first()),Mu(l.last())),g=l.getIterator();let M=g.getNext();return Au(e).X({index:"documentKeyIndex",range:u},(B,H,te)=>{const Fe=gn.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;M&&ul(M,Fe)<0;)o(M,null),M=g.getNext();M&&M.isEqual(Fe)&&(o(M,H),M=g.hasNext()?g.getNext():null),M?te.G(Mu(M)):te.done()}).next(()=>{for(;M;)o(M,null),M=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,t,o,l){const u=t.path,g=[u.popLast().toArray(),u.lastSegment(),Af(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],M=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Au(e).j(IDBKeyRange.bound(g,M,!0)).next(B=>{let H=is();for(const te of B){const Fe=this.ts(gn.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);Fe.isFoundDocument()&&(nd(t,Fe)||l.has(Fe.key))&&(H=H.insert(Fe.key,Fe))}return H})}getAllFromCollectionGroup(e,t,o,l){let u=is();const g=gh(t,o),M=gh(t,Rt.max());return Au(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,M,!0)},(B,H,te)=>{const Fe=this.ts(gn.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);u=u.insert(Fe.key,Fe),u.size===l&&te.done()}).next(()=>u)}newChangeBuffer(e){return new dg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ph(e).get("remoteDocumentGlobalKey").next(t=>(ut(!!t),t))}Zn(e,t){return ph(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function C_(i,e){let t;if(e.document)t=dv(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=gn.fromSegments(e.noDocument.path),l=cl(e.noDocument.readTime);t=hi.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Jt();{const o=gn.fromSegments(e.unknownDocument.path),l=cl(e.unknownDocument.version);t=hi.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new Si(o[0],o[1]);return Hn.fromTimestamp(l)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(Hn.min()))return o}return hi.newInvalidDocument(e)}}function Rv(i){return new Su(i)}class dg extends ug{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new rl(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new Xr((u,g)=>Gn(u.canonicalString(),g.canonicalString()));return this.changes.forEach((u,g)=>{const M=this.us.get(u);if(t.push(this.os.removeEntry(e,u,M.readTime)),g.isValidDocument()){const B=vv(this.os.serializer,g);l=l.add(u.path.popLast());const H=rg(B);o+=H-M.size,t.push(this.os.addEntry(e,u,B))}else if(o-=M.size,this.trackRemovals){const B=vv(this.os.serializer,g.convertToNoDocument(Hn.min()));t.push(this.os.addEntry(e,u,B))}}),l.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,o)),at.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:l})=>(l.forEach((u,g)=>{this.us.set(u,{size:g,readTime:o.get(u).readTime})}),o))}}function ph(i){return To(i,"remoteDocumentGlobal")}function Au(i){return To(i,"remoteDocumentsV14")}function Mu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gh(i,e){const t=e.documentKey.path.toArray();return[i,Af(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ul(i,e){const t=i.path.toArray(),o=e.path.toArray();let l=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(l=Gn(t[u],o[u]),l)return l;return l=Gn(t.length,o.length),l||(l=Gn(t[t.length-2],o[o.length-2]),l||Gn(t[t.length-1],o[o.length-1]))}class Ff{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Lf{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&Xs(o.mutation,l,Zo.empty(),Si.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,gr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=gr()){const l=vs();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(u=>{let g=Ha();return u.forEach((M,B)=>{g=g.insert(M,B.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const o=vs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,gr()))}populateOverlays(e,t,o){const l=[];return o.forEach(u=>{t.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((g,M)=>{t.set(g,M)})})}computeViews(e,t,o,l){let u=is();const g=Rc(),M=Rc();return t.forEach((B,H)=>{const te=o.get(H.key);l.has(H.key)&&(void 0===te||te.mutation instanceof al)?u=u.insert(H.key,H):void 0!==te?(g.set(H.key,te.mutation.getFieldMask()),Xs(te.mutation,H,te.mutation.getFieldMask(),Si.now())):g.set(H.key,Zo.empty())}),this.recalculateAndSaveOverlays(e,u).next(B=>(B.forEach((H,te)=>g.set(H,te)),t.forEach((H,te)=>{var Fe;return M.set(H,new Ff(te,null!==(Fe=g.get(H))&&void 0!==Fe?Fe:null))}),M))}recalculateAndSaveOverlays(e,t){const o=Rc();let l=new vi((g,M)=>g-M),u=gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const M of g)M.keys().forEach(B=>{const H=t.get(B);if(null===H)return;let te=o.get(B)||Zo.empty();te=M.applyToLocalView(H,te),o.set(B,te);const Fe=(l.get(M.batchId)||gr()).add(B);l=l.insert(M.batchId,Fe)})}).next(()=>{const g=[],M=l.getReverseIterator();for(;M.hasNext();){const B=M.getNext(),H=B.key,te=B.value,Fe=Jd();te.forEach(vt=>{if(!u.has(vt)){const Ot=cd(t.get(vt),o.get(vt));null!==Ot&&Fe.set(vt,Ot),u=u.add(vt)}}),g.push(this.documentOverlayCache.saveOverlays(e,H,Fe))}return at.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return gn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ju(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(u=>{const g=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-u.size):at.resolve(vs());let M=-1,B=u;return g.next(H=>at.forEach(H,(te,Fe)=>(M<Fe.largestBatchId&&(M=Fe.largestBatchId),u.get(te)?at.resolve():this.remoteDocumentCache.getEntry(e,te).next(vt=>{B=B.insert(te,vt)}))).next(()=>this.populateOverlays(e,H,u)).next(()=>this.computeViews(e,B,H,gr())).next(te=>({batchId:M,changes:Qd(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gn(t)).next(o=>{let l=Ha();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let u=Ha();return this.indexManager.getCollectionParents(e,l).next(g=>at.forEach(g,M=>{const B=(H=t,te=M.child(l),new ha(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,B,o).next(H=>{H.forEach((te,Fe)=>{u=u.insert(te,Fe)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l))).next(u=>{l.forEach((M,B)=>{const H=B.getKey();null===u.get(H)&&(u=u.insert(H,hi.newInvalidDocument(H)))});let g=Ha();return u.forEach((M,B)=>{const H=l.get(M);void 0!==H&&Xs(H.mutation,B,Zo.empty(),Si.now()),nd(t,B)&&(g=g.insert(M,B))}),g})}}class O_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return at.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Uo(o.createTime)}),at.resolve()}getNamedQuery(e,t){return at.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:yv(o.bundledQuery),readTime:Uo(o.readTime)}),at.resolve();var o}}class P_{constructor(){this.overlays=new vi(gn.comparator),this.ls=new Map}getOverlay(e,t){return at.resolve(this.overlays.get(t))}getOverlays(e,t){const o=vs();return at.forEach(t,l=>this.getOverlay(e,l).next(u=>{null!==u&&o.set(l,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,u)=>{this.we(e,t,u)}),at.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.ls.get(o);return void 0!==l&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),at.resolve()}getOverlaysForCollection(e,t,o){const l=vs(),u=t.length+1,g=new gn(t.child("")),M=this.overlays.getIteratorFrom(g);for(;M.hasNext();){const B=M.getNext().value,H=B.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===u&&B.largestBatchId>o&&l.set(B.getKey(),B)}return at.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let u=new vi((H,te)=>H-te);const g=this.overlays.getIterator();for(;g.hasNext();){const H=g.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>o){let te=u.get(H.largestBatchId);null===te&&(te=vs(),u=u.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const M=vs(),B=u.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((H,te)=>M.set(H,te)),!(M.size()>=l)););return at.resolve(M)}we(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const g=this.ls.get(l.largestBatchId).delete(o.key);this.ls.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new p(t,o));let u=this.ls.get(t);void 0===u&&(u=gr(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class Bf{constructor(){this.fs=new Xr(Mo.ds),this.ws=new Xr(Mo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Mo(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Mo(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new gn(new Nr([])),o=new Mo(t,e),l=new Mo(t,e+1),u=[];return this.ws.forEachInRange([o,l],g=>{this.ys(g),u.push(g.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new gn(new Nr([])),o=new Mo(t,e),l=new Mo(t,e+1);let u=gr();return this.ws.forEachInRange([o,l],g=>{u=u.add(g.key)}),u}containsKey(e){const t=new Mo(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Mo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return gn.comparator(e.key,t.key)||Gn(e.As,t.As)}static _s(e,t){return Gn(e.As,t.As)||gn.comparator(e.key,t.key)}}class N_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Xr(Mo.ds)}checkEmpty(e){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const u=this.vs;this.vs++;const g=new I(u,t,o,l);this.mutationQueue.push(g);for(const M of l)this.Rs=this.Rs.add(new Mo(M.key,u)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return at.resolve(g)}lookupMutationBatch(e,t){return at.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),u=l<0?0:l;return at.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Mo(t,0),l=new Mo(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,l],g=>{const M=this.Ps(g.As);u.push(M)}),at.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Xr(Gn);return t.forEach(l=>{const u=new Mo(l,0),g=new Mo(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,g],M=>{o=o.add(M.As)})}),at.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let u=o;gn.isDocumentKey(u)||(u=u.child(""));const g=new Mo(new gn(u),0);let M=new Xr(Gn);return this.Rs.forEachWhile(B=>{const H=B.key.path;return!!o.isPrefixOf(H)&&(H.length===l&&(M=M.add(B.As)),!0)},g),at.resolve(this.Vs(M))}Vs(e){const t=[];return e.forEach(o=>{const l=this.Ps(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){ut(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return at.forEach(t.mutations,l=>{const u=new Mo(l.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Mo(t,0),l=this.Rs.firstAfterOrEqual(o);return at.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return at.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class k_{constructor(e){this.Ds=e,this.docs=new vi(gn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),u=l?l.size:0,g=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return at.resolve(o?o.document.mutableCopy():hi.newInvalidDocument(t))}getEntries(e,t){let o=is();return t.forEach(l=>{const u=this.docs.get(l);o=o.insert(l,u?u.document.mutableCopy():hi.newInvalidDocument(l))}),at.resolve(o)}getDocumentsMatchingQuery(e,t,o,l){let u=is();const g=t.path,M=new gn(g.child("")),B=this.docs.getIteratorFrom(M);for(;B.hasNext();){const{key:H,value:{document:te}}=B.getNext();if(!g.isPrefixOf(H.path))break;H.path.length>g.length+1||Nn(St(te),o)<=0||(l.has(te.key)||nd(t,te))&&(u=u.insert(te.key,te.mutableCopy()))}return at.resolve(u)}getAllFromCollectionGroup(e,t,o,l){Jt()}Cs(e,t){return at.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new F_(this)}getSize(e){return at.resolve(this.size)}}class F_ extends ug{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(o)}),at.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class hg{constructor(e){this.persistence=e,this.xs=new rl(t=>Sl(t),hu),this.lastRemoteSnapshotVersion=Hn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Bf,this.targetCount=0,this.Ms=Bc.kn()}forEachTarget(e,t){return this.xs.forEach((o,l)=>t(l)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),at.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Bc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,at.resolve()}updateTargetData(e,t){return this.Fn(t),at.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,t,o){let l=0;const u=[];return this.xs.forEach((g,M)=>{M.sequenceNumber<=t&&null===o.get(M.targetId)&&(this.xs.delete(g),u.push(this.removeMatchingKeysForTargetId(e,M.targetId)),l++)}),at.waitFor(u).next(()=>l)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return at.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),at.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const l=this.persistence.referenceDelegate,u=[];return l&&t.forEach(g=>{u.push(l.markPotentiallyOrphaned(e,g))}),at.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),at.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return at.resolve(o)}containsKey(e,t){return at.resolve(this.ks.containsKey(t))}}class $f{constructor(e,t){this.$s={},this.overlays={},this.Os=new bo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hg(this),this.indexManager=new eg,this.remoteDocumentCache=new k_(o=>this.referenceDelegate.Ls(o)),this.serializer=new mv(t),this.qs=new O_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new P_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new N_(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){Kt("MemoryPersistence","Starting transaction:",e);const l=new L_(this.Os.next());return this.referenceDelegate.Us(),o(l).next(u=>this.referenceDelegate.Ks(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Gs(e,t){return at.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class L_ extends tr{constructor(e){super(),this.currentSequenceNumber=e}}class mh{constructor(e){this.persistence=e,this.Qs=new Bf,this.js=null}static zs(e){return new mh(e)}get Ws(){if(this.js)return this.js;throw Jt()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),at.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),at.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),at.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Ws,o=>{const l=gn.fromPath(o);return this.Hs(e,l).next(u=>{u||t.removeEntry(l,Hn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return at.or([()=>at.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class PI{constructor(e){this.serializer=e}O(e,t,o,l){const u=new ca("createOrUpgrade",t);var M;o<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ec,{unique:!0}),M.createObjectStore("documentMutations"),B_(e),function(M){M.createObjectStore("remoteDocuments")}(e));let g=at.resolve();return o<3&&l>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),B_(e)),g=g.next(()=>function(M){const B=M.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Hn.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",H)}(u))),o<4&&l>=4&&(0!==o&&(g=g.next(()=>function(M,B){return B.store("mutations").j().next(H=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ec,{unique:!0});const te=B.store("mutations"),Fe=H.map(vt=>te.put(vt));return at.waitFor(Fe)})}(e,u))),g=g.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(g=g.next(()=>this.Ys(u))),o<6&&l>=6&&(g=g.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),o<7&&l>=7&&(g=g.next(()=>this.Zs(u))),o<8&&l>=8&&(g=g.next(()=>this.ti(e,u))),o<9&&l>=9&&(g=g.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(g=g.next(()=>this.ei(u))),o<11&&l>=11&&(g=g.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(g=g.next(()=>{!function(M){const B=M.createObjectStore("documentOverlays",{keyPath:yl});B.createIndex("collectionPathOverlayIndex",au,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Cc,{unique:!1})}(e)})),o<13&&l>=13&&(g=g.next(()=>function(M){const B=M.createObjectStore("remoteDocumentsV14",{keyPath:wc});B.createIndex("documentKeyIndex",ou),B.createIndex("collectionGroupIndex",el)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(g=g.next(()=>this.si(e,u))),o<15&&l>=15&&(g=g.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:su}).createIndex("sequenceNumberIndex",zu,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Gs}).createIndex("documentKeyIndex",hf,{unique:!1})}(e))),g}Xs(e){let t=0;return e.store("remoteDocuments").X((o,l)=>{t+=rg(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(l=>at.forEach(l,u=>{const g=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",g).next(M=>at.forEach(M,B=>{ut(B.userId===u.userId);const H=bu(this.serializer,B);return ng(e,u.userId,H).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const u=[];return o.X((g,M)=>{const B=new Nr(g),H=[0,Vo(B)];u.push(t.get(H).next(te=>te?at.resolve():t.put({targetId:0,path:Vo(B),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>at.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:bc});const o=t.store("collectionParents"),l=new tg,u=g=>{if(l.add(g)){const M=g.lastSegment(),B=g.popLast();return o.put({collectionId:M,parent:Vo(B)})}};return t.store("remoteDocuments").X({Y:!0},(g,M)=>{const B=new Nr(g);return u(B.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([g,M,B],H)=>{const te=Co(M);return u(te.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,l)=>{const u=Mf(l),g=T_(this.serializer,u);return t.put(g)})}ni(e,t){const o=t.store("remoteDocuments"),l=[];return o.X((u,g)=>{const M=t.store("remoteDocumentsV14"),B=(H=g,H.document?new gn(Nr.fromString(H.document.name).popFirst(5)):H.noDocument?gn.fromSegments(H.noDocument.path):H.unknownDocument?gn.fromSegments(H.unknownDocument.path):Jt()).path.toArray();var H;const te={prefixPath:B.slice(0,B.length-2),collectionGroup:B[B.length-2],documentId:B[B.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};l.push(M.put(te))}).next(()=>at.waitFor(l))}si(e,t){const o=t.store("mutations"),l=Rv(this.serializer),u=new $f(mh.zs,this.serializer.fe);return o.j().next(g=>{const M=new Map;return g.forEach(B=>{var H;let te=null!==(H=M.get(B.userId))&&void 0!==H?H:gr();bu(this.serializer,B).keys().forEach(Fe=>te=te.add(Fe)),M.set(B.userId,te)}),at.forEach(M,(B,H)=>{const te=new lo(H),Fe=xf.de(this.serializer,te),vt=u.getIndexManager(te),Ot=ig.de(te,this.serializer,vt,u.referenceDelegate);return new Lf(l,Ot,Fe,vt).recalculateAndSaveOverlaysForDocumentKeys(new Il(t,bo.ct),B).next()})})}}function B_(i){i.createObjectStore("targetDocuments",{keyPath:tl}).createIndex("documentTargetsIndex",Bp,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Zl,{unique:!0}),i.createObjectStore("targetGlobal")}const fg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pg{constructor(e,t,o,l,u,g,M,B,H,te,Fe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=u,this.window=g,this.document=M,this.ri=H,this.oi=te,this.ui=Fe,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=vt=>Promise.resolve(),!pg.D())throw new xt(_t.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cg(this,l),this.di=t+"main",this.serializer=new mv(B),this.wi=new mo(this.di,this.ui,new PI(this.serializer)),this.Bs=new sg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Rv(this.serializer),this.qs=new A_,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===te&&zi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xt(_t.FAILED_PRECONDITION,fg);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new bo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,ce.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ce.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ce.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ks(e))return Kt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Vf(e).get("owner").next(t=>at.resolve(this.Ri(t)))}Pi(e){return gg(e).delete(this.clientId)}bi(){var e=this;return(0,ce.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=To(o,"clientMetadata");return l.j().next(u=>{const g=e.Si(u,18e5),M=u.filter(B=>-1===g.indexOf(B));return at.forEach(M,B=>l.delete(B.clientId)).next(()=>M)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?at.resolve(!0):Vf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new xt(_t.FAILED_PRECONDITION,fg);return!1}}return!(!this.networkEnabled||!this.inForeground)||gg(e).j().next(o=>void 0===this.Si(o,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Kt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ce.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Il(t,bo.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>gg(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return ig.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new x_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return xf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){Kt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",u=15===(g=this.ui)?Gu:14===g?cu:13===g?Tc:12===g?lu:11===g?_l:void Jt();var g;let M;return this.wi.runTransaction(e,l,u,B=>(M=new Il(B,this.Os?this.Os.next():bo.ct),"readwrite-primary"===t?this.Ti(M).next(H=>!!H||this.Ei(M)).next(H=>{if(!H)throw zi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new xt(_t.FAILED_PRECONDITION,An);return o(M)}).next(H=>this.vi(M).next(()=>H)):this.Oi(M).next(()=>o(M)))).then(B=>(M.raiseOnCommittedEvent(),B))}Oi(e){return Vf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xt(_t.FAILED_PRECONDITION,fg)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vf(e).put("owner",t)}static D(){return mo.D()}Ai(e){const t=Vf(e);return t.get("owner").next(o=>this.Ri(o)?(Kt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):at.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(zi(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Ae.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Kt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return zi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){zi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vf(i){return To(i,"owner")}function gg(i){return To(i,"clientMetadata")}function Id(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class mg{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=l}static Li(e,t){let o=gr(),l=gr();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new mg(e,t.fromCache,o,l)}}class Uf{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.Ki(e,t).next(u=>u||this.Gi(e,t,l,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Zd(t))return at.resolve(null);let o=As(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=pu(t,null,"F"),o=As(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const g=gr(...u);return this.Ui.getDocuments(e,g).next(M=>this.indexManager.getMinOffset(e,o).next(B=>{const H=this.ji(t,M);return this.zi(t,H,g,B.readTime)?this.Ki(e,pu(t,null,"F")):this.Wi(e,H,t,B)}))})))}Gi(e,t,o,l){return Zd(t)||l.isEqual(Hn.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const g=this.ji(t,u);return this.zi(t,g,o,l)?this.Qi(e,t):(Gl()<=fe.in.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),gu(t)),this.Wi(e,g,t,xe(l,-1)))})}ji(e,t){let o=new Xr(Up(e));return t.forEach((l,u)=>{nd(e,u)&&(o=o.add(u))}),o}zi(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Qi(e,t){return Gl()<=fe.in.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",gu(t)),this.Ui.getDocumentsMatchingQuery(e,t,Rt.min())}Wi(e,t,o,l){return this.Ui.getDocumentsMatchingQuery(e,o,l).next(u=>(t.forEach(g=>{u=u.insert(g.key,g)}),u))}}class vg{constructor(e,t,o,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new vi(Gn),this.Yi=new rl(u=>Sl(u),hu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function xu(i,e,t,o){return new vg(i,e,t,o)}function vh(i,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,ce.Z)(function*(i,e){const t=yn(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(u=>(l=u,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const g=[],M=[];let B=gr();for(const H of l){g.push(H.batchId);for(const te of H.mutations)B=B.add(te.key)}for(const H of u){M.push(H.batchId);for(const te of H.mutations)B=B.add(te.key)}return t.localDocuments.getDocuments(o,B).next(H=>({er:H,removedBatchIds:g,addedBatchIds:M}))})})}),Ed.apply(this,arguments)}function wd(i){const e=yn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function yg(i,e,t){let o=gr(),l=gr();return t.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let g=is();return t.forEach((M,B)=>{const H=u.get(M);B.isFoundDocument()!==H.isFoundDocument()&&(l=l.add(M)),B.isNoDocument()&&B.version.isEqual(Hn.min())?(e.removeEntry(M,B.readTime),g=g.insert(M,B)):!H.isValidDocument()||B.version.compareTo(H.version)>0||0===B.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(B),g=g.insert(M,B)):Kt("LocalStore","Ignoring outdated watch update for ",M,". Current version:",H.version," Watch version:",B.version)}),{nr:g,sr:l}})}function jf(i,e){const t=yn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Nl(i,e){const t=yn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Bs.getTargetData(o,e).next(u=>u?(l=u,at.resolve(l)):t.Bs.allocateTargetId(o).next(g=>(l=new uc(e,g,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.Ji.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function _h(i,e,t){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,ce.Z)(function*(i,e,t){const o=yn(i),l=o.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,g=>o.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!ks(g))throw g;Kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(l.target)}),Ih.apply(this,arguments)}function $c(i,e,t){const o=yn(i);let l=Hn.min(),u=gr();return o.persistence.runTransaction("Execute query","readonly",g=>function(M,B,H){const te=yn(M),Fe=te.Yi.get(H);return void 0!==Fe?at.resolve(te.Ji.get(Fe)):te.Bs.getTargetData(B,H)}(o,g,As(e)).next(M=>{if(M)return l=M.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(g,M.targetId).next(B=>{u=B})}).next(()=>o.Hi.getDocumentsMatchingQuery(g,e,t?l:Hn.min(),t?u:gr())).next(M=>(Pv(o,Vp(e),M),{documents:M,ir:u})))}function Ov(i,e){const t=yn(i),o=yn(t.Bs),l=t.Ji.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",u=>o.le(u,e).next(g=>g?g.target:null))}function _g(i,e){const t=yn(i),o=t.Xi.get(e)||Hn.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Zi.getAllFromCollectionGroup(l,e,xe(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Pv(t,e,l),l))}function Pv(i,e,t){let o=i.Xi.get(e)||Hn.min();t.forEach((l,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),i.Xi.set(e,o)}function Eh(){return Eh=(0,ce.Z)(function*(i,e,t,o){const l=yn(i);let u=gr(),g=is();for(const H of t){const te=e.rr(H.metadata.name);H.document&&(u=u.add(te));const Fe=e.ur(H);Fe.setReadTime(e.cr(H.metadata.readTime)),g=g.insert(te,Fe)}const M=l.Zi.newChangeBuffer({trackRemovals:!0}),B=yield Nl(l,(H=o,As(Mc(Nr.fromString(`__bundle__/docs/${H}`)))));var H;return l.persistence.runTransaction("Apply bundle documents","readwrite",H=>yg(H,M,g).next(te=>(M.apply(H),te)).next(te=>l.Bs.removeMatchingKeysForTargetId(H,B.targetId).next(()=>l.Bs.addMatchingKeys(H,u,B.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(H,te.nr,te.sr)).next(()=>te.nr)))}),Eh.apply(this,arguments)}function Nv(i,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,ce.Z)(function*(i,e,t=gr()){const o=yield Nl(i,As(yv(e.bundledQuery))),l=yn(i);return l.persistence.runTransaction("Save named query","readwrite",u=>{const g=Uo(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return l.qs.saveNamedQuery(u,e);const M=o.withResumeToken(uo.EMPTY_BYTE_STRING,g);return l.Ji=l.Ji.insert(M.targetId,M),l.Bs.updateTargetData(u,M).next(()=>l.Bs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>l.Bs.addMatchingKeys(u,t,o.targetId)).next(()=>l.qs.saveNamedQuery(u,e))})}),Ig.apply(this,arguments)}function kv(i,e){return`firestore_clients_${i}_${e}`}function V_(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Eg(i,e){return`firestore_targets_${i}_${e}`}class Ru{constructor(e,t,o,l){this.user=e,this.batchId=t,this.state=o,this.error=l}static ar(e,t,o){const l=JSON.parse(o);let u,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(u=new xt(l.error.code,l.error.message))),g?new Ru(e,t,l.state,u):(zi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ou{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let l,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(l=new xt(o.error.code,o.error.message))),u?new Ou(e,o.state,l):(zi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let l="object"==typeof o&&o.activeTargetIds instanceof Array,u=mu();for(let g=0;l&&g<o.activeTargetIds.length;++g)l=ru(o.activeTargetIds[g]),u=u.add(o.activeTargetIds[g]);return l?new Hf(e,u):(zi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zf{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zf(t.clientId,t.onlineState):(zi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Dh{constructor(){this.activeTargetIds=mu()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bd{constructor(e,t,o,l,u){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new vi(Gn),this.started=!1,this.yr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=kv(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Dh),this.Tr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ce.Z)(function*(){const t=yield e.syncEngine.$i();for(const l of t){if(l===e.wr)continue;const u=e.getItem(kv(e.persistenceKey,l));if(u){const g=Hf.ar(l,u);g&&(e.gr=e.gr.insert(g.clientId,g))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const l=e.br(o);l&&e.Vr(l)}for(const l of e.yr)e.mr(l);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Eg(this.persistenceKey,e));if(o){const l=Ou.ar(e,o);l&&(t=l.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Eg(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(l=>{this.Cr(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Kt("SharedClientState","READ",e,t),t}setItem(e,t){Kt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Kt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Kt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void zi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ce.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const l=t.Or(o.key);return t.Fr(l,null)}{const l=t.Br(o.key,o.newValue);if(l)return t.Fr(l.clientId,l)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const l=t.Lr(o.key,o.newValue);if(l)return t.qr(l)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const l=t.Ur(o.key,o.newValue);if(l)return t.Kr(l)}}else if(o.key===t.vr){if(null!==o.newValue){const l=t.br(o.newValue);if(l)return t.Vr(l)}}else if(o.key===t.Ir){const l=function(u){let g=bo.ct;if(null!=u)try{const M=JSON.parse(u);ut("number"==typeof M),g=M}catch(M){zi("SharedClientState","Failed to read sequence number from WebStorage",M)}return g}(o.newValue);l!==bo.ct&&t.sequenceNumberHandler(l)}else if(o.key===t.Rr){const l=t.Gr(o.newValue);yield Promise.all(l.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const l=new Ru(this.currentUser,e,t,o),u=V_(this.persistenceKey,this.currentUser,e);this.setItem(u,l.hr())}Cr(e){const t=V_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const l=Eg(this.persistenceKey,e),u=new Ou(e,t,o);this.setItem(l,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return Hf.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),l=Number(o[1]);return Ru.ar(new lo(void 0!==o[2]?o[2]:null),l,t)}Ur(e,t){const o=this.Ar.exec(e),l=Number(o[1]);return Ou.ar(l,t)}br(e){return zf.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Kt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),l=this.Sr(this.gr),u=this.Sr(o),g=[],M=[];return u.forEach(B=>{l.has(B)||g.push(B)}),l.forEach(B=>{u.has(B)||M.push(B)}),this.syncEngine.Wr(g,M).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=mu();return e.forEach((o,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class Fv{constructor(){this.Hr=new Dh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Dh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lv{Yr(e){}shutdown(){}}class Bv{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let wh=null;function $v(){return null===wh?wh=268435456+Math.round(2147483648*Math.random()):wh++,"0x"+wh.toString(16)}const U_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gf{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const $s="WebChannelConnection";class Cd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,l,u){const g=$v(),M=this.To(e,t);Kt("RestConnection",`Sending RPC '${e}' ${g}:`,M,o);const B={};return this.Eo(B,l,u),this.Ao(e,M,B,o).then(H=>(Kt("RestConnection",`Received RPC '${e}' ${g}: `,H),H),H=>{throw Bo("RestConnection",`RPC '${e}' ${g} failed with error: `,H,"url: ",M,"request:",o),H})}vo(e,t,o,l,u,g){return this.Io(e,t,o,l,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,u)=>e[u]=l),o&&o.headers.forEach((l,u)=>e[u]=l)}To(e,t){return`${this.mo}/v1/${t}:${U_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,l){const u=$v();return new Promise((g,M)=>{const B=new Hl;B.setWithCredentials(!0),B.listenOnce(fs.COMPLETE,()=>{try{switch(B.getLastErrorCode()){case ao.NO_ERROR:const te=B.getResponseJson();Kt($s,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(te)),g(te);break;case ao.TIMEOUT:Kt($s,`RPC '${e}' ${u} timed out`),M(new xt(_t.DEADLINE_EXCEEDED,"Request time out"));break;case ao.HTTP_ERROR:const Fe=B.getStatus();if(Kt($s,`RPC '${e}' ${u} failed with status:`,Fe,"response text:",B.getResponseText()),Fe>0){let vt=B.getResponseJson();Array.isArray(vt)&&(vt=vt[0]);const Ot=null==vt?void 0:vt.error;if(Ot&&Ot.status&&Ot.message){const nn=function(Tn){const bn=Tn.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(bn)>=0?bn:_t.UNKNOWN}(Ot.status);M(new xt(nn,Ot.message))}else M(new xt(_t.UNKNOWN,"Server responded with status "+B.getStatus()))}else M(new xt(_t.UNAVAILABLE,"Connection failed."));break;default:Jt()}}finally{Kt($s,`RPC '${e}' ${u} completed.`)}});const H=JSON.stringify(l);Kt($s,`RPC '${e}' ${u} sending request:`,l),B.send(t,"POST",H,o,15)})}Ro(e,t,o){const l=$v(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=Ko(),M=Ki(),B={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(B.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(B.xmlHttpFactory=new xa({})),this.Eo(B.initMessageHeaders,t,o),B.encodeInitMessageHeaders=!0;const te=u.join("");Kt($s,`Creating RPC '${e}' stream ${l}: ${te}`,B);const Fe=g.createWebChannel(te,B);let vt=!1,Ot=!1;const nn=new Gf({ro:bn=>{Ot?Kt($s,`Not sending because RPC '${e}' stream ${l} is closed:`,bn):(vt||(Kt($s,`Opening RPC '${e}' stream ${l} transport.`),Fe.open(),vt=!0),Kt($s,`RPC '${e}' stream ${l} sending:`,bn),Fe.send(bn))},oo:()=>Fe.close()}),Tn=(bn,wr,ni)=>{bn.listen(wr,br=>{try{ni(br)}catch(Wi){setTimeout(()=>{throw Wi},0)}})};return Tn(Fe,Ra.EventType.OPEN,()=>{Ot||Kt($s,`RPC '${e}' stream ${l} transport opened.`)}),Tn(Fe,Ra.EventType.CLOSE,()=>{Ot||(Ot=!0,Kt($s,`RPC '${e}' stream ${l} transport closed`),nn.wo())}),Tn(Fe,Ra.EventType.ERROR,bn=>{Ot||(Ot=!0,Bo($s,`RPC '${e}' stream ${l} transport errored:`,bn),nn.wo(new xt(_t.UNAVAILABLE,"The operation could not be completed")))}),Tn(Fe,Ra.EventType.MESSAGE,bn=>{var wr;if(!Ot){const ni=bn.data[0];ut(!!ni);const Wi=ni.error||(null===(wr=ni[0])||void 0===wr?void 0:wr.error);if(Wi){Kt($s,`RPC '${e}' stream ${l} received error:`,Wi);const ro=Wi.status;let xi=function(ns){const G0=q[ns];if(void 0!==G0)return jt(G0)}(ro),ls=Wi.message;void 0===xi&&(xi=_t.INTERNAL,ls="Unknown error status: "+ro+" with message "+Wi.message),Ot=!0,nn.wo(new xt(xi,ls)),Fe.close()}else Kt($s,`RPC '${e}' stream ${l} received:`,ni),nn._o(ni)}}),Tn(M,tu.STAT_EVENT,bn=>{bn.stat===_a.PROXY?Kt($s,`RPC '${e}' stream ${l} detected buffering proxy`):bn.stat===_a.NOPROXY&&Kt($s,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{nn.fo()},0),nn}}function Td(){return typeof window<"u"?window:null}function Wf(){return typeof document<"u"?document:null}function Sd(i){return new av(i,!0)}class Dg{constructor(e,t,o=1e3,l=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=l,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-o);l>0&&Kt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Vv{constructor(e,t,o,l,u,g,M,B){this.ii=e,this.$o=o,this.Oo=l,this.connection=u,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=M,this.listener=B,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Dg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ce.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ce.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,ce.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===_t.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===_t.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Fo===t&&this.Zo(o,l)},o=>{e(()=>{const l=new xt(_t.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(l)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{o(()=>this.tu(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,ce.Z)(function*(){e.state=0,e.start()}))}tu(e){return Kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j_ extends Vv{constructor(e,t,o,l,u,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,g),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function fv(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:Jt(),l=e.targetChange.targetIds||[],u=function(B,H){return B.useProto3Json?(ut(void 0===H||"string"==typeof H),uo.fromBase64String(H||"")):(ut(void 0===H||H instanceof Uint8Array),uo.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,M=g&&function(B){const H=void 0===B.code?_t.UNKNOWN:jt(B.code);return new xt(H,B.message||"")}(g);t=new dd(o,l,u,M||null)}else if("documentChange"in e){const o=e.documentChange,l=za(i,o.document.name),u=Uo(o.document.updateTime),g=o.document.createTime?Uo(o.document.createTime):Hn.min(),M=new $r({mapValue:{fields:o.document.fields}}),B=hi.newFoundDocument(l,u,g,M);t=new lc(o.targetIds||[],o.removedTargetIds||[],B.key,B)}else if("documentDelete"in e){const o=e.documentDelete,l=za(i,o.document),u=o.readTime?Uo(o.readTime):Hn.min(),g=hi.newNoDocument(l,u);t=new lc([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,l=za(i,o.document);t=new lc([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Jt();{const o=e.filter,{count:l=0,unchangedNames:u}=o,g=new j(l,u);t=new ll(o.targetId,g)}}var B;return t}(this.serializer,e),o=function(l){if(!("targetChange"in l))return Hn.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Hn.min():u.readTime?Uo(u.readTime):Hn.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=fd(this.serializer),t.addTarget=function(l,u){let g;const M=u.target;if(g=fu(M)?{documents:pv(l,M)}:{query:Wp(l,M)},g.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){g.resumeToken=ih(l,u.resumeToken);const B=rh(l,u.expectedCount);null!==B&&(g.expectedCount=B)}else if(u.snapshotVersion.compareTo(Hn.min())>0){g.readTime=Eu(l,u.snapshotVersion.toTimestamp());const B=rh(l,u.expectedCount);null!==B&&(g.expectedCount=B)}return g}(this.serializer,e);const o=function w_(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=fd(this.serializer),t.removeTarget=e,this.Wo(t)}}class Uv extends Vv{constructor(e,t,o,l,u,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,g),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function pd(i,e){return i&&i.length>0?(ut(void 0!==e),i.map(t=>function(o,l){let u=Uo(o.updateTime?o.updateTime:l);return u.isEqual(Hn.min())&&(u=Uo(l)),new Hp(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Uo(e.commitTime);return this.listener.cu(o,t)}return ut(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=fd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Lc(this.serializer,o))};this.Wo(t)}}class jv extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new xt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Io(e,t,o,l,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xt(_t.UNKNOWN,l.toString())})}vo(e,t,o,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,g])=>this.connection.vo(e,t,o,u,g,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xt(_t.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class bg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(zi(t),this.mu=!1):Kt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class zv{constructor(e,t,o,l,u){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(M=>{o.enqueueAndForget((0,ce.Z)(function*(){var B;ys(g)&&(Kt("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,ce.Z)(function*(H){const te=yn(H);te.vu.add(4),yield Pu(te),te.bu.set("Unknown"),te.vu.delete(4),yield bh(te)}),function(H){return B.apply(this,arguments)})(g))}))}),this.bu=new bg(o,l)}}function bh(i){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,ce.Z)(function*(i){if(ys(i))for(const e of i.Ru)yield e(!0)}),Cg.apply(this,arguments)}function Pu(i){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,ce.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),Tg.apply(this,arguments)}function Ch(i,e){const t=yn(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Yf(t)?qf(t):Ah(t).Ko()&&Sg(t,e))}function Th(i,e){const t=yn(i),o=Ah(t);t.Au.delete(e),o.Ko()&&H_(t,e),0===t.Au.size&&(o.Ko()?o.jo():ys(t)&&t.bu.set("Unknown"))}function Sg(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Hn.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ah(i).su(e)}function H_(i,e){i.Vu.qt(e),Ah(i).iu(e)}function qf(i){i.Vu=new Cf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Ah(i).start(),i.bu.gu()}function Yf(i){return ys(i)&&!Ah(i).Uo()&&i.Au.size>0}function ys(i){return 0===yn(i).vu.size}function Kf(i){i.Vu=void 0}function z_(i){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,ce.Z)(function*(i){i.Au.forEach((e,t)=>{Sg(i,e)})}),Gv.apply(this,arguments)}function G_(i,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,ce.Z)(function*(i,e){Kf(i),Yf(i)?(i.bu.Iu(e),qf(i)):i.bu.set("Unknown")}),Ag.apply(this,arguments)}function Wv(i,e,t){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,ce.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof dd&&2===e.state&&e.cause)try{yield(o=(0,ce.Z)(function*(l,u){const g=u.cause;for(const M of u.targetIds)l.Au.has(M)&&(yield l.remoteSyncer.rejectListen(M,g),l.Au.delete(M),l.Vu.removeTarget(M))}),function(l,u){return o.apply(this,arguments)})(i,e)}catch(o){Kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ga(i,o)}else if(e instanceof lc?i.Vu.Ht(e):e instanceof ll?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(Hn.min()))try{const o=yield wd(i.localStore);t.compareTo(o)>=0&&(yield function(l,u){const g=l.Vu.ce(u);return g.targetChanges.forEach((M,B)=>{if(M.resumeToken.approximateByteSize()>0){const H=l.Au.get(B);H&&l.Au.set(B,H.withResumeToken(M.resumeToken,u))}}),g.targetMismatches.forEach((M,B)=>{const H=l.Au.get(M);if(!H)return;l.Au.set(M,H.withResumeToken(uo.EMPTY_BYTE_STRING,H.snapshotVersion)),H_(l,M);const te=new uc(H.target,M,B,H.sequenceNumber);Sg(l,te)}),l.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(o){Kt("RemoteStore","Failed to raise snapshot:",o),yield Ga(i,o)}var o}),Vc.apply(this,arguments)}function Ga(i,e,t){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,ce.Z)(function*(i,e,t){if(!ks(e))throw e;i.vu.add(1),yield Pu(i),i.bu.set("Offline"),t||(t=()=>wd(i.localStore)),i.asyncQueue.enqueueRetryable((0,ce.Z)(function*(){Kt("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield bh(i)}))}),Uc.apply(this,arguments)}function qv(i,e){return e().catch(t=>Ga(i,t,e))}function Ad(i){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,ce.Z)(function*(i){const e=yn(i),t=Nu(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Mg(e);)try{const l=yield jf(e.localStore,o);if(null===l){0===e.Eu.length&&t.jo();break}o=l.batchId,Sh(e,l)}catch(l){yield Ga(e,l)}xg(e)&&W_(e)}),Zf.apply(this,arguments)}function Mg(i){return ys(i)&&i.Eu.length<10}function Sh(i,e){i.Eu.push(e);const t=Nu(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function xg(i){return ys(i)&&!Nu(i).Uo()&&i.Eu.length>0}function W_(i){Nu(i).start()}function Rg(i){return jc.apply(this,arguments)}function jc(){return jc=(0,ce.Z)(function*(i){Nu(i).hu()}),jc.apply(this,arguments)}function Xf(i){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,ce.Z)(function*(i){const e=Nu(i);for(const t of i.Eu)e.uu(t.mutations)}),Qf.apply(this,arguments)}function Yv(i,e,t){return Og.apply(this,arguments)}function Og(){return Og=(0,ce.Z)(function*(i,e,t){const o=i.Eu.shift(),l=d.from(o,e,t);yield qv(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Ad(i)}),Og.apply(this,arguments)}function q_(i,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,ce.Z)(function*(i,e){var t;e&&Nu(i).ou&&(yield(t=(0,ce.Z)(function*(o,l){if(dt(u=l.code)&&u!==_t.ABORTED){const g=o.Eu.shift();Nu(o).Qo(),yield qv(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,l)),yield Ad(o)}var u}),function(o,l){return t.apply(this,arguments)})(i,e)),xg(i)&&W_(i)}),Pg.apply(this,arguments)}function Kv(i,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,ce.Z)(function*(i,e){const t=yn(i);t.asyncQueue.verifyOperationInProgress(),Kt("RemoteStore","RemoteStore received new credentials");const o=ys(t);t.vu.add(3),yield Pu(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield bh(t)}),Jf.apply(this,arguments)}function Zv(i,e){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,ce.Z)(function*(i,e){const t=yn(i);e?(t.vu.delete(2),yield bh(t)):e||(t.vu.add(2),yield Pu(t),t.bu.set("Unknown"))}),Ng.apply(this,arguments)}function Ah(i){return i.Su||(i.Su=function(e,t,o){const l=yn(e);return l.fu(),new j_(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{uo:z_.bind(null,i),ao:G_.bind(null,i),nu:Wv.bind(null,i)}),i.Ru.push(function(){var e=(0,ce.Z)(function*(t){t?(i.Su.Qo(),Yf(i)?qf(i):i.bu.set("Unknown")):(yield i.Su.stop(),Kf(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Nu(i){return i.Du||(i.Du=function(e,t,o){const l=yn(e);return l.fu(),new Uv(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{uo:Rg.bind(null,i),ao:q_.bind(null,i),au:Xf.bind(null,i),cu:Yv.bind(null,i)}),i.Ru.push(function(){var e=(0,ce.Z)(function*(t){t?(i.Du.Qo(),yield Ad(i)):(yield i.Du.stop(),i.Eu.length>0&&(Kt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class ep{constructor(e,t,o,l,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=u,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,l,u){const g=Date.now()+o,M=new ep(e,t,g,l,u);return M.start(o),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xt(_t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ku(i,e){if(zi("AsyncQueue",`${e}: ${i}`),ks(i))return new xt(_t.UNAVAILABLE,`${e}: ${i}`);throw i}class Mh{constructor(e){this.comparator=e?(t,o)=>e(t,o)||gn.comparator(t.key,o.key):(t,o)=>gn.comparator(t.key,o.key),this.keyedMap=Ha(),this.sortedSet=new vi(this.comparator)}static emptySet(e){return new Mh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=o.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Mh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class kg{constructor(){this.Cu=new vi(gn.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Jt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class kl{constructor(e,t,o,l,u,g,M,B,H){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=u,this.fromCache=g,this.syncStateChanged=M,this.excludesMetadataChanges=B,this.hasCachedResults=H}static fromInitialDocuments(e,t,o,l,u){const g=[];return t.forEach(M=>{g.push({type:0,doc:M})}),new kl(e,t,Mh.emptySet(t),g,o,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class Xv{constructor(){this.Nu=void 0,this.listeners=[]}}class Qv{constructor(){this.queries=new rl(e=>td(e),ed),this.onlineState="Unknown",this.ku=new Set}}function tp(i,e){return _r.apply(this,arguments)}function _r(){return _r=(0,ce.Z)(function*(i,e){const t=yn(i),o=e.query;let l=!1,u=t.queries.get(o);if(u||(l=!0,u=new Xv),l)try{u.Nu=yield t.onListen(o)}catch(g){const M=ku(g,`Initialization of query '${gu(e.query)}' failed`);return void e.onError(M)}t.queries.set(o,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&Fg(t)}),_r.apply(this,arguments)}function np(i,e){return rp.apply(this,arguments)}function rp(){return rp=(0,ce.Z)(function*(i,e){const t=yn(i),o=e.query;let l=!1;const u=t.queries.get(o);if(u){const g=u.listeners.indexOf(e);g>=0&&(u.listeners.splice(g,1),l=0===u.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),rp.apply(this,arguments)}function Md(i,e){const t=yn(i);let o=!1;for(const l of e){const g=t.queries.get(l.query);if(g){for(const M of g.listeners)M.$u(l)&&(o=!0);g.Nu=l}}o&&Fg(t)}function Jv(i,e,t){const o=yn(i),l=o.queries.get(e);if(l)for(const u of l.listeners)u.onError(t);o.queries.delete(e)}function Fg(i){i.ku.forEach(e=>{e.next()})}class xd{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new kl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Rd{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class ip{constructor(e){this.serializer=e}rr(e){return za(this.serializer,e)}ur(e){return e.metadata.exists?dv(this.serializer,e.document,!1):hi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Uo(e)}}class xh{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Lg(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=Nr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new ip(this.serializer);for(const l of e)if(l.metadata.queries){const u=o.rr(l.metadata.name);for(const g of l.metadata.queries){const M=(t.get(g)||gr()).add(u);t.set(g,M)}}return t}complete(){var e=this;return(0,ce.Z)(function*(){const t=yield function $_(i,e,t,o){return Eh.apply(this,arguments)}(e.localStore,new ip(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const l of e.queries)yield Nv(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Lg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class op{constructor(e){this.key=e}}class sp{constructor(e){this.key=e}}class ap{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=gr(),this.mutatedKeys=gr(),this.tc=Up(e),this.ec=new Mh(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new kg,l=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,g=l,M=!1;const B="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,H="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((te,Fe)=>{const vt=l.get(te),Ot=nd(this.query,Fe)?Fe:null,nn=!!vt&&this.mutatedKeys.has(vt.key),Tn=!!Ot&&(Ot.hasLocalMutations||this.mutatedKeys.has(Ot.key)&&Ot.hasCommittedMutations);let bn=!1;vt&&Ot?vt.data.isEqual(Ot.data)?nn!==Tn&&(o.track({type:3,doc:Ot}),bn=!0):this.rc(vt,Ot)||(o.track({type:2,doc:Ot}),bn=!0,(B&&this.tc(Ot,B)>0||H&&this.tc(Ot,H)<0)&&(M=!0)):!vt&&Ot?(o.track({type:0,doc:Ot}),bn=!0):vt&&!Ot&&(o.track({type:1,doc:vt}),bn=!0,(B||H)&&(M=!0)),bn&&(Ot?(g=g.add(Ot),u=Tn?u.add(te):u.delete(te)):(g=g.delete(te),u=u.delete(te)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const te="F"===this.query.limitType?g.last():g.first();g=g.delete(te.key),u=u.delete(te.key),o.track({type:1,doc:te})}return{ec:g,ic:o,zi:M,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((H,te)=>function(Fe,vt){const Ot=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt()}};return Ot(Fe)-Ot(vt)}(H.type,te.type)||this.tc(H.doc,te.doc)),this.oc(o);const g=t?this.uc():[],M=0===this.Zu.size&&this.current?1:0,B=M!==this.Xu;return this.Xu=M,0!==u.length||B?{snapshot:new kl(this.query,e.ec,l,u,e.mutatedKeys,0===M,B,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:g}:{cc:g}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new kg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=gr(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new sp(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new op(o))}),t}hc(e){this.Yu=e.ir,this.Zu=gr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return kl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ey{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Bg{constructor(e){this.key=e,this.fc=!1}}class Y_{constructor(e,t,o,l,u,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=g,this.dc={},this.wc=new rl(M=>td(M),ed),this._c=new Map,this.mc=new Set,this.gc=new vi(gn.comparator),this.yc=new Map,this.Ic=new Bf,this.Tc={},this.Ec=new Map,this.Ac=Bc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function K_(i,e){return $g.apply(this,arguments)}function $g(){return $g=(0,ce.Z)(function*(i,e){const t=Oh(i);let o,l;const u=t.wc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),l=u.view.lc();else{const g=yield Nl(t.localStore,As(e)),M=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,l=yield lp(t,e,o,"current"===M,g.resumeToken),t.isPrimaryClient&&Ch(t.remoteStore,g)}return l}),$g.apply(this,arguments)}function lp(i,e,t,o,l){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,ce.Z)(function*(i,e,t,o,l){i.Rc=(Fe,vt,Ot)=>{return(nn=(0,ce.Z)(function*(Tn,bn,wr,ni){let br=bn.view.sc(wr);br.zi&&(br=yield $c(Tn.localStore,bn.query,!1).then(({documents:xi})=>bn.view.sc(xi,br)));const Wi=ni&&ni.targetChanges.get(bn.targetId),ro=bn.view.applyChanges(br,Tn.isPrimaryClient,Wi);return Rh(Tn,bn.targetId,ro.cc),ro.snapshot}),function(Tn,bn,wr,ni){return nn.apply(this,arguments)})(i,Fe,vt,Ot);var nn};const u=yield $c(i.localStore,e,!0),g=new ap(e,u.ir),M=g.sc(u.documents),B=xl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,l),H=g.applyChanges(M,i.isPrimaryClient,B);Rh(i,t,H.cc);const te=new ey(e,t,g);return i.wc.set(e,te),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),H.snapshot}),Vg.apply(this,arguments)}function Z_(i,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,ce.Z)(function*(i,e){const t=yn(i),o=t.wc.get(e),l=t._c.get(o.targetId);if(l.length>1)return t._c.set(o.targetId,l.filter(u=>!ed(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield _h(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Th(t.remoteStore,o.targetId),Od(t,o.targetId)}).catch(ei))):(Od(t,o.targetId),yield _h(t.localStore,o.targetId,!0))}),Ug.apply(this,arguments)}function cp(){return cp=(0,ce.Z)(function*(i,e,t){const o=nm(i);try{const l=yield function(u,g){const M=yn(u),B=Si.now(),H=g.reduce((vt,Ot)=>vt.add(Ot.key),gr());let te,Fe;return M.persistence.runTransaction("Locally write mutations","readwrite",vt=>{let Ot=is(),nn=gr();return M.Zi.getEntries(vt,H).next(Tn=>{Ot=Tn,Ot.forEach((bn,wr)=>{wr.isValidDocument()||(nn=nn.add(bn))})}).next(()=>M.localDocuments.getOverlayedDocuments(vt,Ot)).next(Tn=>{te=Tn;const bn=[];for(const wr of g){const ni=yu(wr,te.get(wr.key).overlayedDocument);null!=ni&&bn.push(new al(wr.key,ni,So(ni.value.mapValue),Gi.exists(!0)))}return M.mutationQueue.addMutationBatch(vt,B,bn,g)}).next(Tn=>{Fe=Tn;const bn=Tn.applyToLocalDocumentSet(te,nn);return M.documentOverlayCache.saveOverlays(vt,Tn.batchId,bn)})}).then(()=>({batchId:Fe.batchId,changes:Qd(te)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(u,g,M){let B=u.Tc[u.currentUser.toKey()];B||(B=new vi(Gn)),B=B.insert(g,M),u.Tc[u.currentUser.toKey()]=B}(o,l.batchId,t),yield fc(o,l.changes),yield Ad(o.remoteStore)}catch(l){const u=ku(l,"Failed to persist write");t.reject(u)}}),cp.apply(this,arguments)}function jg(i,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,ce.Z)(function*(i,e){const t=yn(i);try{const o=yield function yh(i,e){const t=yn(i),o=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const g=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const M=[];e.targetChanges.forEach((te,Fe)=>{const vt=l.get(Fe);if(!vt)return;M.push(t.Bs.removeMatchingKeys(u,te.removedDocuments,Fe).next(()=>t.Bs.addMatchingKeys(u,te.addedDocuments,Fe)));let Ot=vt.withSequenceNumber(u.currentSequenceNumber);var nn,Tn,bn;null!==e.targetMismatches.get(Fe)?Ot=Ot.withResumeToken(uo.EMPTY_BYTE_STRING,Hn.min()).withLastLimboFreeSnapshotVersion(Hn.min()):te.resumeToken.approximateByteSize()>0&&(Ot=Ot.withResumeToken(te.resumeToken,o)),l=l.insert(Fe,Ot),Tn=Ot,bn=te,(0===(nn=vt).resumeToken.approximateByteSize()||Tn.snapshotVersion.toMicroseconds()-nn.snapshotVersion.toMicroseconds()>=3e8||bn.addedDocuments.size+bn.modifiedDocuments.size+bn.removedDocuments.size>0)&&M.push(t.Bs.updateTargetData(u,Ot))});let B=is(),H=gr();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&M.push(t.persistence.referenceDelegate.updateLimboDocument(u,te))}),M.push(yg(u,g,e.documentUpdates).next(te=>{B=te.nr,H=te.sr})),!o.isEqual(Hn.min())){const te=t.Bs.getLastRemoteSnapshotVersion(u).next(Fe=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));M.push(te)}return at.waitFor(M).next(()=>g.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,B,H)).next(()=>B)}).then(u=>(t.Ji=l,u))}(t.localStore,e);e.targetChanges.forEach((l,u)=>{const g=t.yc.get(u);g&&(ut(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.fc=!0:l.modifiedDocuments.size>0?ut(g.fc):l.removedDocuments.size>0&&(ut(g.fc),g.fc=!1))}),yield fc(t,o,e)}catch(o){yield ei(o)}}),Hg.apply(this,arguments)}function ty(i,e,t){const o=yn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.wc.forEach((u,g)=>{const M=g.view.Mu(e);M.snapshot&&l.push(M.snapshot)}),function(u,g){const M=yn(u);M.onlineState=g;let B=!1;M.queries.forEach((H,te)=>{for(const Fe of te.listeners)Fe.Mu(g)&&(B=!0)}),B&&Fg(M)}(o.eventManager,e),l.length&&o.dc.nu(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Da(i,e,t){return zg.apply(this,arguments)}function zg(){return zg=(0,ce.Z)(function*(i,e,t){const o=yn(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.yc.get(e),u=l&&l.key;if(u){let g=new vi(gn.comparator);g=g.insert(u,hi.newNoDocument(u,Hn.min()));const M=gr().add(u),B=new Fc(Hn.min(),new Map,new vi(Gn),g,M);yield jg(o,B),o.gc=o.gc.remove(u),o.yc.delete(e),Yg(o)}else yield _h(o.localStore,e,!1).then(()=>Od(o,e,t)).catch(ei)}),zg.apply(this,arguments)}function Q_(i,e){return ny.apply(this,arguments)}function ny(){return ny=(0,ce.Z)(function*(i,e){const t=yn(i),o=e.batch.batchId;try{const l=yield function Dd(i,e){const t=yn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(g,M,B,H){const te=B.batch,Fe=te.keys();let vt=at.resolve();return Fe.forEach(Ot=>{vt=vt.next(()=>H.getEntry(M,Ot)).next(nn=>{const Tn=B.docVersions.get(Ot);ut(null!==Tn),nn.version.compareTo(Tn)<0&&(te.applyToRemoteDocument(nn,B),nn.isValidDocument()&&(nn.setReadTime(B.commitVersion),H.addEntry(nn)))})}),vt.next(()=>g.mutationQueue.removeMutationBatch(M,te))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let M=gr();for(let B=0;B<g.mutationResults.length;++B)g.mutationResults[B].transformResults.length>0&&(M=M.add(g.batch.mutations[B].key));return M}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}(t.localStore,e);dp(t,o,null),qg(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield fc(t,l)}catch(l){yield ei(l)}}),ny.apply(this,arguments)}function Gg(i,e,t){return up.apply(this,arguments)}function up(){return up=(0,ce.Z)(function*(i,e,t){const o=yn(i);try{const l=yield function(u,g){const M=yn(u);return M.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let H;return M.mutationQueue.lookupMutationBatch(B,g).next(te=>(ut(null!==te),H=te.keys(),M.mutationQueue.removeMutationBatch(B,te))).next(()=>M.mutationQueue.performConsistencyCheck(B)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(B,H,g)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,H)).next(()=>M.localDocuments.getDocuments(B,H))})}(o.localStore,e);dp(o,e,t),qg(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield fc(o,l)}catch(l){yield ei(l)}}),up.apply(this,arguments)}function Wg(){return Wg=(0,ce.Z)(function*(i,e){const t=yn(i);ys(t.remoteStore)||Kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const g=yn(u);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>g.mutationQueue.getHighestUnacknowledgedBatchId(M))}(t.localStore);if(-1===o)return void e.resolve();const l=t.Ec.get(o)||[];l.push(e),t.Ec.set(o,l)}catch(o){const l=ku(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Wg.apply(this,arguments)}function qg(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function dp(i,e,t){const o=yn(i);let l=o.Tc[o.currentUser.toKey()];if(l){const u=l.get(e);u&&(t?u.reject(t):u.resolve(),l=l.remove(e)),o.Tc[o.currentUser.toKey()]=l}}function Od(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),t&&i.dc.Pc(o,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||ry(i,o)})}function ry(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Th(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),Yg(i))}function Rh(i,e,t){for(const o of t)o instanceof op?(i.Ic.addReference(o.key,e),e0(i,o)):o instanceof sp?(Kt("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||ry(i,o.key)):Jt()}function e0(i,e){const t=e.key,o=t.path.canonicalString();i.gc.get(t)||i.mc.has(o)||(Kt("SyncEngine","New document in limbo: "+t),i.mc.add(o),Yg(i))}function Yg(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new gn(Nr.fromString(e)),o=i.Ac.next();i.yc.set(o,new Bg(t)),i.gc=i.gc.insert(t,o),Ch(i.remoteStore,new uc(As(Mc(t.path)),o,"TargetPurposeLimboResolution",bo.ct))}}function fc(i,e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,ce.Z)(function*(i,e,t){const o=yn(i),l=[],u=[],g=[];var M;o.wc.isEmpty()||(o.wc.forEach((M,B)=>{g.push(o.Rc(B,e,t).then(H=>{if((H||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(B.targetId,null!=H&&H.fromCache?"not-current":"current"),H){l.push(H);const te=mg.Li(B.targetId,H);u.push(te)}}))}),yield Promise.all(g),o.dc.nu(l),yield(M=(0,ce.Z)(function*(B,H){const te=yn(B);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",Fe=>at.forEach(H,vt=>at.forEach(vt.Fi,Ot=>te.persistence.referenceDelegate.addReference(Fe,vt.targetId,Ot)).next(()=>at.forEach(vt.Bi,Ot=>te.persistence.referenceDelegate.removeReference(Fe,vt.targetId,Ot)))))}catch(Fe){if(!ks(Fe))throw Fe;Kt("LocalStore","Failed to update sequence numbers: "+Fe)}for(const Fe of H){const vt=Fe.targetId;if(!Fe.fromCache){const Ot=te.Ji.get(vt),Tn=Ot.withLastLimboFreeSnapshotVersion(Ot.snapshotVersion);te.Ji=te.Ji.insert(vt,Tn)}}}),function(B,H){return M.apply(this,arguments)})(o.localStore,u))}),Kg.apply(this,arguments)}function t0(i,e){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,ce.Z)(function*(i,e){const t=yn(i);if(!t.currentUser.isEqual(e)){Kt("SyncEngine","User change. New user:",e.toKey());const o=yield vh(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(g=>{g.forEach(M=>{M.reject(new xt(_t.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield fc(t,o.er)}var l}),Wa.apply(this,arguments)}function Zg(i,e){const t=yn(i),o=t.yc.get(e);if(o&&o.fc)return gr().add(o.key);{let l=gr();const u=t._c.get(e);if(!u)return l;for(const g of u){const M=t.wc.get(g);l=l.unionWith(M.view.nc)}return l}}function n0(i,e){return hp.apply(this,arguments)}function hp(){return hp=(0,ce.Z)(function*(i,e){const t=yn(i),o=yield $c(t.localStore,e.query,!0),l=e.view.hc(o);return t.isPrimaryClient&&Rh(t,e.targetId,l.cc),l}),hp.apply(this,arguments)}function r0(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,ce.Z)(function*(i,e){const t=yn(i);return _g(t.localStore,e).then(o=>fc(t,o))}),fp.apply(this,arguments)}function iy(i,e,t,o){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,ce.Z)(function*(i,e,t,o){const l=yn(i),u=yield function(g,M){const B=yn(g),H=yn(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",te=>H.Sn(te,M).next(Fe=>Fe?B.localDocuments.getDocuments(te,Fe):at.resolve(null)))}(l.localStore,e);var M;null!==u?("pending"===t?yield Ad(l.remoteStore):"acknowledged"===t||"rejected"===t?(dp(l,e,o||null),qg(l,e),M=e,yn(yn(l.localStore).mutationQueue).Cn(M)):Jt(),yield fc(l,u)):Kt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Pd.apply(this,arguments)}function oy(){return oy=(0,ce.Z)(function*(i,e){const t=yn(i);if(Oh(t),nm(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),l=yield Qg(t,o.toArray());t.vc=!0,yield Zv(t.remoteStore,!0);for(const u of l)Ch(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const o=[];let l=Promise.resolve();t._c.forEach((u,g)=>{t.sharedClientState.isLocalQueryTarget(g)?o.push(g):l=l.then(()=>(Od(t,g),_h(t.localStore,g,!0))),Th(t.remoteStore,g)}),yield l,yield Qg(t,o),function(u){const g=yn(u);g.yc.forEach((M,B)=>{Th(g.remoteStore,B)}),g.Ic.Ts(),g.yc=new Map,g.gc=new vi(gn.comparator)}(t),t.vc=!1,yield Zv(t.remoteStore,!1)}}),oy.apply(this,arguments)}function Qg(i,e,t){return pp.apply(this,arguments)}function pp(){return pp=(0,ce.Z)(function*(i,e,t){const o=yn(i),l=[],u=[];for(const g of e){let M;const B=o._c.get(g);if(B&&0!==B.length){M=yield Nl(o.localStore,As(B[0]));for(const H of B){const te=o.wc.get(H),Fe=yield n0(o,te);Fe.snapshot&&u.push(Fe.snapshot)}}else{const H=yield Ov(o.localStore,g);M=yield Nl(o.localStore,H),yield lp(o,Jg(H),g,!1,M.resumeToken)}l.push(M)}return o.dc.nu(u),l}),pp.apply(this,arguments)}function Jg(i){return Kd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function sy(i){const e=yn(i);return yn(yn(e.localStore).persistence).$i()}function em(i,e,t,o){return dl.apply(this,arguments)}function dl(){return dl=(0,ce.Z)(function*(i,e,t,o){const l=yn(i);if(l.vc)return void Kt("SyncEngine","Ignoring unexpected query state notification.");const u=l._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const g=yield _g(l.localStore,Vp(u[0])),M=Fc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,uo.EMPTY_BYTE_STRING);yield fc(l,g,M);break}case"rejected":yield _h(l.localStore,e,!0),Od(l,e,o);break;default:Jt()}}),dl.apply(this,arguments)}function o0(i,e,t){return tm.apply(this,arguments)}function tm(){return tm=(0,ce.Z)(function*(i,e,t){const o=Oh(i);if(o.vc){for(const l of e){if(o._c.has(l)){Kt("SyncEngine","Adding an already active target "+l);continue}const u=yield Ov(o.localStore,l),g=yield Nl(o.localStore,u);yield lp(o,Jg(u),g.targetId,!1,g.resumeToken),Ch(o.remoteStore,g)}for(const l of t)o._c.has(l)&&(yield _h(o.localStore,l,!1).then(()=>{Th(o.remoteStore,l),Od(o,l)}).catch(ei))}}),tm.apply(this,arguments)}function Oh(i){const e=yn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=jg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Da.bind(null,e),e.dc.nu=Md.bind(null,e.eventManager),e.dc.Pc=Jv.bind(null,e.eventManager),e}function nm(i){const e=yn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gg.bind(null,e),e}class Ph{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ce.Z)(function*(){t.serializer=Sd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return xu(this.persistence,new Uf,e.initialUser,this.serializer)}createPersistence(e){return new $f(mh.zs,this.serializer)}createSharedClientState(e){return new Fv}terminate(){var e=this;return(0,ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Fu extends Ph{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,ce.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield nm(o.Vc.syncEngine),yield Ad(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return xu(this.persistence,new Uf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new R_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new Fa(t,this.persistence);return new Ic(e.asyncQueue,o)}createPersistence(e){const t=Id(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Bs.withCacheSize(this.cacheSizeBytes):Bs.DEFAULT;return new pg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Td(),Wf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Fv}}class Nh extends Fu{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,ce.Z)(function*(){yield t().call(o,e);const l=o.Vc.syncEngine;o.sharedClientState instanceof bd&&(o.sharedClientState.syncEngine={jr:iy.bind(null,l),zr:em.bind(null,l),Wr:o0.bind(null,l),$i:sy.bind(null,l),Qr:r0.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var u=(0,ce.Z)(function*(g){yield function Xg(i,e){return oy.apply(this,arguments)}(o.Vc.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Td();if(!bd.D(t))throw new xt(_t.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Id(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bd(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class kh{initialize(e,t){var o=this;return(0,ce.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>ty(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=t0.bind(null,o.syncEngine),yield Zv(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qv}createDatastore(e){const t=Sd(e.databaseInfo.databaseId),o=new Cd(e.databaseInfo);return new jv(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,u=M=>ty(this.syncEngine,M,0),g=Bv.D()?new Bv:new Lv,new zv(t,o,l,u,g);var t,o,l,u,g}createSyncEngine(e,t){return function(o,l,u,g,M,B,H){const te=new Y_(o,l,u,g,M,B);return H&&(te.vc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ce.Z)(function*(t){const o=yn(t);Kt("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield Pu(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ly(i,e=10240){let t=0;return{read:()=>(0,ce.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Fh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cy{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Pr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ce.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ce.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ce.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),l=Number(o);isNaN(l)&&e.Mc(`length string (${o}) is not valid number`);const u=yield e.$c(l);return new Rd(JSON.parse(u),t.length+l)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ce.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ce.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class s0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xt(_t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,ce.Z)(function*(u,g){const M=yn(u),B=fd(M.serializer)+"/documents",H={documents:g.map(Ot=>hd(M.serializer,Ot))},te=yield M.vo("BatchGetDocuments",B,H,g.length),Fe=new Map;te.forEach(Ot=>{const nn=function hv(i,e){return"found"in e?function(t,o){ut(!!o.found);const l=za(t,o.found.name),u=Uo(o.found.updateTime),g=o.found.createTime?Uo(o.found.createTime):Hn.min(),M=new $r({mapValue:{fields:o.found.fields}});return hi.newFoundDocument(l,u,g,M)}(i,e):"missing"in e?function(t,o){ut(!!o.missing),ut(!!o.readTime);const l=za(t,o.missing),u=Uo(o.readTime);return hi.newNoDocument(l,u)}(i,e):Jt()}(M.serializer,Ot);Fe.set(nn.key.toString(),nn)});const vt=[];return g.forEach(Ot=>{const nn=Fe.get(Ot.toString());ut(!!nn),vt.push(nn)}),vt}),function(u,g){return l.apply(this,arguments)})(t.datastore,e);var l;return o.forEach(l=>t.recordVersion(l)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new oc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,l)=>{const u=gn.fromPath(l);e.mutations.push(new ud(u,e.precondition(u)))}),yield(o=(0,ce.Z)(function*(l,u){const g=yn(l),M=fd(g.serializer)+"/documents",B={writes:u.map(H=>Lc(g.serializer,H))};yield g.Io("Commit",M,B)}),function(l,u){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jt();t=Hn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new xt(_t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Hn.min())?Gi.exists(!1):Gi.updateTime(t):Gi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Hn.min()))throw new xt(_t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gi.updateTime(t)}return Gi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class a0{constructor(e,t,o,l,u){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=l,this.deferred=u,this.Bc=o.maxAttempts,this.qo=new Dg(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ce.Z)(function*(){const t=new s0(e.datastore),o=e.qc(t);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(u=>{e.Uc(u)}))}).catch(l=>{e.Uc(l)})}))}qc(e){try{const t=this.updateFunction(e);return!co(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!dt(t)}return!1}}class uy{constructor(e,t,o,l){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=lo.UNAUTHENTICATED,this.clientId=zs.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,ce.Z)(function*(M){Kt("FirestoreClient","Received user=",M.uid),yield u.authCredentialListener(M),u.user=M});return function(M){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Kt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=ku(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Lh(i,e){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,ce.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Kt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,ce.Z)(function*(u){o.isEqual(u)||(yield vh(e.localStore,u),o=u)});return function(u){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Lu.apply(this,arguments)}function rm(i,e){return mp.apply(this,arguments)}function mp(){return mp=(0,ce.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield om(i);Kt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>Kv(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,u)=>Kv(e.remoteStore,u)),i._onlineComponents=e}),mp.apply(this,arguments)}function im(i){return"FirebaseError"===i.name?i.code===_t.FAILED_PRECONDITION||i.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function om(i){return sm.apply(this,arguments)}function sm(){return sm=(0,ce.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Kt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lh(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!im(t))throw t;Bo("Error using user provided cache. Falling back to memory cache: "+t),yield Lh(i,new Ph)}}else Kt("FirestoreClient","Using default OfflineComponentProvider"),yield Lh(i,new Ph);return i._offlineComponents}),sm.apply(this,arguments)}function Hc(i){return am.apply(this,arguments)}function am(){return am=(0,ce.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Kt("FirestoreClient","Using user provided OnlineComponentProvider"),yield rm(i,i._uninitializedComponentsProvider._online)):(Kt("FirestoreClient","Using default OnlineComponentProvider"),yield rm(i,new kh))),i._onlineComponents}),am.apply(this,arguments)}function dy(i){return om(i).then(e=>e.persistence)}function vp(i){return om(i).then(e=>e.localStore)}function hy(i){return Hc(i).then(e=>e.remoteStore)}function lm(i){return Hc(i).then(e=>e.syncEngine)}function Nd(i){return cm.apply(this,arguments)}function cm(){return cm=(0,ce.Z)(function*(i){const e=yield Hc(i),t=e.eventManager;return t.onListen=K_.bind(null,e.syncEngine),t.onUnlisten=Z_.bind(null,e.syncEngine),t}),cm.apply(this,arguments)}function Bh(i,e,t={}){const o=new Pr;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(l,u,g,M,B){const H=new Fh({next:Fe=>{u.enqueueAndForget(()=>np(l,te));const vt=Fe.docs.has(g);!vt&&Fe.fromCache?B.reject(new xt(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):vt&&Fe.fromCache&&M&&"server"===M.source?B.reject(new xt(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Fe)},error:Fe=>B.reject(Fe)}),te=new xd(Mc(g.path),H,{includeMetadataChanges:!0,Ku:!0});return tp(l,te)}(yield Nd(i),i.asyncQueue,e,t,o)})),o.promise}function gy(i,e,t={}){const o=new Pr;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(l,u,g,M,B){const H=new Fh({next:Fe=>{u.enqueueAndForget(()=>np(l,te)),Fe.fromCache&&"server"===M.source?B.reject(new xt(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Fe)},error:Fe=>B.reject(Fe)}),te=new xd(g,H,{includeMetadataChanges:!0,Ku:!0});return tp(l,te)}(yield Nd(i),i.asyncQueue,e,t,o)})),o.promise}function my(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const dm=new Map;function yp(i,e,t){if(!t)throw new xt(_t.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function vy(i,e,t,o){if(!0===e&&!0===o)throw new xt(_t.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function p0(i){if(!gn.isDocumentKey(i))throw new xt(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function hm(i){if(gn.isDocumentKey(i))throw new xt(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function $h(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Jt()}function ti(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new xt(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$h(i);throw new xt(_t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Vh(i,e){if(e<=0)throw new xt(_t.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class yy{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new xt(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xt(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=my(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new xt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xt(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yy(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Li;switch(t.type){case"firstParty":return new ql(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xt(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dm.get(e);t&&(Kt("ComponentProvider","Removing Datastore"),dm.delete(e),t.terminate())}(this),Promise.resolve()}}class ho{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ho(this.firestore,e,this._key)}}class to{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class pa extends to{constructor(e,t,o){super(e,t,Mc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ho(this.firestore,null,new gn(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function xs(i,e,...t){if(i=(0,Ae.m9)(i),yp("collection","path",e),i instanceof Uh){const o=Nr.fromString(e,...t);return hm(o),new pa(i,null,o)}{if(!(i instanceof ho||i instanceof pa))throw new xt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Nr.fromString(e,...t));return hm(o),new pa(i.firestore,null,o)}}function $u(i,e,...t){if(i=(0,Ae.m9)(i),1===arguments.length&&(e=zs.A()),yp("doc","path",e),i instanceof Uh){const o=Nr.fromString(e,...t);return p0(o),new ho(i,null,new gn(o))}{if(!(i instanceof ho||i instanceof pa))throw new xt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Nr.fromString(e,...t));return p0(o),new ho(i.firestore,i instanceof pa?i.converter:null,new gn(o))}}function wa(i,e){return i=(0,Ae.m9)(i),e=(0,Ae.m9)(e),(i instanceof ho||i instanceof pa)&&(e instanceof ho||e instanceof pa)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function jh(i,e){return i=(0,Ae.m9)(i),e=(0,Ae.m9)(e),i instanceof to&&e instanceof to&&i.firestore===e.firestore&&ed(i._query,e._query)&&i.converter===e.converter}class kd{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Dg(this,"async_queue_retry"),this.Xc=()=>{const t=Wf();t&&Kt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Wf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Wf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Pr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ce.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ks(t))throw t;Kt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,zi("INTERNAL UNHANDLED ERROR: ",function(u){let g=u.message||"";return u.stack&&(g=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),g}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=ep.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(l),l}Zc(){this.Wc&&Jt()}verifyOperationInProgress(){}sa(){var e=this;return(0,ce.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function zc(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Fd{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Mi extends Uh{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new kd,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vu(this),this._firestoreClient.terminate()}}function no(i){return i._firestoreClient||Vu(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Vu(i){var e,t,o;const l=i._freezeSettings(),u=(M=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new bl(i._databaseId,M,i._persistenceKey,(H=l).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,my(H.experimentalLongPollingOptions),H.useFetchStreams));var M,H;i._firestoreClient=new uy(i._authCredentials,i._appCheckCredentials,i._queue,u),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=l.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}function fm(i,e,t){const o=new Pr;return i.asyncQueue.enqueue((0,ce.Z)(function*(){try{yield Lh(i,t),yield rm(i,e),o.resolve()}catch(l){const u=l;if(!im(u))throw u;Bo("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function Ty(i){if(i._initialized||i._terminated)throw new xt(_t.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fl(uo.fromBase64String(e))}catch(t){throw new xt(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fl(uo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xt(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uu{constructor(e){this._methodName=e}}class gm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xt(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xt(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gn(this._lat,e._lat)||Gn(this._long,e._long)}}const m0=/^__.*__$/;class v0{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new al(e,this.data,this.fieldMask,t,this.fieldTransforms):new sl(e,this.data,t,this.fieldTransforms)}}class Sy{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new al(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ep(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt()}}class Gc{constructor(e,t,o,l,u,g){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=l,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=g||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Gc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:o,la:!1});return l.fa(e),l}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:o,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Kh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ep(this.ca)&&m0.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class mm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||Sd(e)}ya(e,t,o,l=!1){return new Gc({ca:e,methodName:t,ga:o,path:Bi.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ll(i){const e=i._freezeSettings(),t=Sd(i._databaseId);return new mm(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Gh(i,e,t,o,l,u={}){const g=i.ya(u.merge||u.mergeFields?2:0,e,t,l);Em("Data must be an object, but it was:",g,o);const M=qh(o,g);let B,H;if(u.merge)B=new Zo(g.fieldMask),H=g.fieldTransforms;else if(u.mergeFields){const te=[];for(const Fe of u.mergeFields){const vt=Yh(e,Fe,t);if(!g.contains(vt))throw new xt(_t.INVALID_ARGUMENT,`Field '${vt}' is specified in your field mask but missing from your input data.`);Ay(te,vt)||te.push(vt)}B=new Zo(te),H=g.fieldTransforms.filter(Fe=>B.covers(Fe.field))}else B=null,H=g.fieldTransforms;return new v0(new $r(M),B,H)}class gc extends Uu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gc}}function vm(i,e,t){return new Gc({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ym extends Uu{_toFieldTransform(e){return new Nc(e.path,new Pc)}isEqual(e){return e instanceof ym}}class Wh extends Uu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=vm(this,e,!0),o=this.pa.map(u=>Bl(u,t)),l=new il(o);return new Nc(e.path,l)}isEqual(e){return this===e}}class y0 extends Uu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=vm(this,e,!0),o=this.pa.map(u=>Bl(u,t)),l=new ol(o);return new Nc(e.path,l)}isEqual(e){return this===e}}class _0 extends Uu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Al(e.serializer,Oc(e.serializer,this.Ia));return new Nc(e.path,t)}isEqual(e){return this===e}}function _m(i,e,t,o){const l=i.ya(1,e,t);Em("Data must be an object, but it was:",l,o);const u=[],g=$r.empty();Cs(o,(B,H)=>{const te=wp(e,B,t);H=(0,Ae.m9)(H);const Fe=l.da(te);if(H instanceof gc)u.push(te);else{const vt=Bl(H,Fe);null!=vt&&(u.push(te),g.set(te,vt))}});const M=new Zo(u);return new Sy(g,M,l.fieldTransforms)}function Im(i,e,t,o,l,u){const g=i.ya(1,e,t),M=[Yh(e,o,t)],B=[l];if(u.length%2!=0)throw new xt(_t.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let vt=0;vt<u.length;vt+=2)M.push(Yh(e,u[vt])),B.push(u[vt+1]);const H=[],te=$r.empty();for(let vt=M.length-1;vt>=0;--vt)if(!Ay(H,M[vt])){const Ot=M[vt];let nn=B[vt];nn=(0,Ae.m9)(nn);const Tn=g.da(Ot);if(nn instanceof gc)H.push(Ot);else{const bn=Bl(nn,Tn);null!=bn&&(H.push(Ot),te.set(Ot,bn))}}const Fe=new Zo(H);return new Sy(te,Fe,g.fieldTransforms)}function Dp(i,e,t,o=!1){return Bl(t,i.ya(o?4:3,e))}function Bl(i,e){if(I0(i=(0,Ae.m9)(i)))return Em("Unsupported field value:",e,i),qh(i,e);if(i instanceof Uu)return function(t,o){if(!Ep(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const l=[];let u=0;for(const g of t){let M=Bl(g,o.wa(u));null==M&&(M={nullValue:"NULL_VALUE"}),l.push(M),u++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,Ae.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Oc(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Si.fromDate(t);return{timestampValue:Eu(o.serializer,l)}}if(t instanceof Si){const l=new Si(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Eu(o.serializer,l)}}if(t instanceof gm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fl)return{bytesValue:ih(o.serializer,t._byteString)};if(t instanceof ho){const l=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(l))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:sh(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${$h(t)}`)}(i,e)}function qh(i,e){const t={};return La(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(i,(o,l)=>{const u=Bl(l,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function I0(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Si||i instanceof gm||i instanceof Fl||i instanceof ho||i instanceof Uu)}function Em(i,e,t){if(!I0(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=$h(t);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function Yh(i,e,t){if((e=(0,Ae.m9)(e))instanceof pc)return e._internalPath;if("string"==typeof e)return wp(i,e);throw Kh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Dm=new RegExp("[~\\*/\\[\\]]");function wp(i,e,t){if(e.search(Dm)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new pc(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Kh(i,e,t,o,l){const u=o&&!o.isEmpty(),g=void 0!==l;let M=`Function ${e}() called with invalid data`;t&&(M+=" (via `toFirestore()`)"),M+=". ";let B="";return(u||g)&&(B+=" (found",u&&(B+=` in field ${o}`),g&&(B+=` in document ${l}`),B+=")"),new xt(_t.INVALID_ARGUMENT,M+i+B)}function Ay(i,e){return i.some(t=>t.isEqual(e))}class Zh{constructor(e,t,o,l,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ho(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new My(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class My extends Zh{data(){return super.data()}}function Xh(i,e){return"string"==typeof e?wp(i,e):e instanceof pc?e._internalPath:e._delegate._internalPath}function wm(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new xt(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bm{}class Qh extends bm{}function Wc(i,e,...t){let o=[];e instanceof bm&&o.push(e),o=o.concat(t),function(l){const u=l.filter(M=>M instanceof qc).length,g=l.filter(M=>M instanceof Jh).length;if(u>1||u>0&&g>0)throw new xt(_t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)i=l._apply(i);return i}class Jh extends Qh{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Jh(e,t,o)}_apply(e){const t=this._parse(e);return xm(e._query,t),new to(e.firestore,e.converter,nc(e._query,t))}_parse(e){const t=Ll(e.firestore);return function(l,u,g,M,B,H,te){let Fe;if(B.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new xt(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){Cp(te,H);const vt=[];for(const Ot of te)vt.push(Oy(M,l,Ot));Fe={arrayValue:{values:vt}}}else Fe=Oy(M,l,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Cp(te,H),Fe=Dp(g,"where",te,"in"===H||"not-in"===H);return Gr.create(B,H,Fe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class qc extends bm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qc(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:fi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let u=o;const g=l.getFlattenedFilters();for(const M of g)xm(u,M),u=nc(u,M)}(e._query,t),new to(e.firestore,e.converter,nc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Bd extends Qh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Bd(e,t)}_apply(e){const t=function(o,l,u){if(null!==o.startAt)throw new xt(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new xt(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new nl(l,u);return function(M,B){if(null===If(M)){const H=xc(M);null!==H&&Tp(0,H,B.field)}}(o,g),g}(e._query,this._field,this._direction);return new to(e.firestore,e.converter,function(o,l){const u=o.explicitOrderBy.concat([l]);return new ha(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class ef extends Qh{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new ef(e,t,o)}_apply(e){return new to(e.firestore,e.converter,pu(e._query,this._limit,this._limitType))}}class bp extends Qh{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new bp(e,t,o)}_apply(e){const t=Ry(e,this.type,this._docOrFields,this._inclusive);return new to(e.firestore,e.converter,(l=t,new ha((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class $d extends Qh{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new $d(e,t,o)}_apply(e){const t=Ry(e,this.type,this._docOrFields,this._inclusive);return new to(e.firestore,e.converter,(l=t,new ha((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function Ry(i,e,t,o){if(t[0]=(0,Ae.m9)(t[0]),t[0]instanceof Zh)return function(l,u,g,M,B){if(!M)throw new xt(_t.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const H=[];for(const te of tc(l))if(te.field.isKeyField())H.push(R(u,M.key));else{const Fe=M.data.field(te.field);if(Ea(Fe))throw new xt(_t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Fe){const vt=te.field.canonicalString();throw new xt(_t.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${vt}' (used as the orderBy) does not exist.`)}H.push(Fe)}return new Ao(H,B)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=Ll(i.firestore);return function(u,g,M,B,H,te){const Fe=u.explicitOrderBy;if(H.length>Fe.length)throw new xt(_t.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const vt=[];for(let Ot=0;Ot<H.length;Ot++){const nn=H[Ot];if(Fe[Ot].field.isKeyField()){if("string"!=typeof nn)throw new xt(_t.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof nn}`);if(!Ju(u)&&-1!==nn.indexOf("/"))throw new xt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${nn}' contains a slash.`);const Tn=u.path.child(Nr.fromString(nn));if(!gn.isDocumentKey(Tn))throw new xt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${Tn}' is not because it contains an odd number of segments.`);const bn=new gn(Tn);vt.push(R(g,bn))}else{const Tn=Dp(M,B,nn);vt.push(Tn)}}return new Ao(vt,te)}(i._query,i.firestore._databaseId,l,e,t,o)}}function Oy(i,e,t){if("string"==typeof(t=(0,Ae.m9)(t))){if(""===t)throw new xt(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ju(e)&&-1!==t.indexOf("/"))throw new xt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Nr.fromString(t));if(!gn.isDocumentKey(o))throw new xt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return R(i,new gn(o))}if(t instanceof ho)return R(i,t._key);throw new xt(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(t)}.`)}function Cp(i,e){if(!Array.isArray(i)||0===i.length)throw new xt(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xm(i,e){if(e.isInequality()){const o=xc(i),l=e.field;if(null!==o&&!o.isEqual(l))throw new xt(_t.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${l.toString()}'`);const u=If(i);null!==u&&Tp(0,l,u)}const t=function(o,l){for(const u of o)for(const g of u.getFlattenedFilters())if(l.indexOf(g.op)>=0)return g.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new xt(_t.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Tp(i,e,t){if(!t.isEqual(e))throw new xt(_t.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Om{convertValue(e,t="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return Cs(e,(l,u)=>{o[l]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new gm(Ai(e.latitude),Ai(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Ls(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){const t=Ws(e);return new Si(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Nr.fromString(e);ut(Yp(o));const l=new Va(o.get(1),o.get(3)),u=new gn(o.popFirst(5));return l.isEqual(t)||zi(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function tf(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Py extends Om{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ho(this.firestore,null,t)}}class Yc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hl extends Zh{constructor(e,t,o,l,u,g){super(e,t,o,l,g),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Xh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Vd extends hl{data(e={}){return super.data(e)}}class mc{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Yc(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Vd(this._firestore,this._userDataWriter,o.key,o,new Yc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xt(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new Vd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const M=new Vd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let B=-1,H=-1;return 0!==g.type&&(B=u.indexOf(g.doc.key),u=u.delete(g.doc.key)),1!==g.type&&(u=u.add(g.doc),H=u.indexOf(g.doc.key)),{type:Ny(g.type),doc:M,oldIndex:B,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ny(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt()}}function Pm(i,e){return i instanceof hl&&e instanceof hl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof mc&&e instanceof mc&&i._firestore===e._firestore&&jh(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class vc extends Om{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ho(this.firestore,null,t)}}function By(i,e,t){i=ti(i,ho);const o=ti(i.firestore,Mi),l=tf(i.converter,e,t);return nf(o,[Gh(Ll(o),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,Gi.none())])}function Ap(i,e,t,...o){i=ti(i,ho);const l=ti(i.firestore,Mi),u=Ll(l);let g;return g="string"==typeof(e=(0,Ae.m9)(e))||e instanceof pc?Im(u,"updateDoc",i._key,e,t,o):_m(u,"updateDoc",i._key,e),nf(l,[g.toMutation(i._key,Gi.exists(!0))])}function $y(i,...e){var t,o,l;i=(0,Ae.m9)(i);let u={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||zc(e[g])||(u=e[g],g++);const M={includeMetadataChanges:u.includeMetadataChanges};if(zc(e[g])){const Fe=e[g];e[g]=null===(t=Fe.next)||void 0===t?void 0:t.bind(Fe),e[g+1]=null===(o=Fe.error)||void 0===o?void 0:o.bind(Fe),e[g+2]=null===(l=Fe.complete)||void 0===l?void 0:l.bind(Fe)}let B,H,te;if(i instanceof ho)H=ti(i.firestore,Mi),te=Mc(i._key.path),B={next:Fe=>{e[g]&&e[g](Vy(H,i,Fe))},error:e[g+1],complete:e[g+2]};else{const Fe=ti(i,to);H=ti(Fe.firestore,Mi),te=Fe._query;const vt=new vc(H);B={next:Ot=>{e[g]&&e[g](new mc(H,vt,Fe,Ot))},error:e[g+1],complete:e[g+2]},wm(i._query)}return function(Fe,vt,Ot,nn){const Tn=new Fh(nn),bn=new xd(vt,Tn,Ot);return Fe.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return tp(yield Nd(Fe),bn)})),()=>{Tn.Dc(),Fe.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return np(yield Nd(Fe),bn)}))}}(no(H),te,M,B)}function nf(i,e){return function(t,o){const l=new Pr;return t.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function X_(i,e,t){return cp.apply(this,arguments)}(yield lm(t),o,l)})),l.promise}(no(i),e)}function Vy(i,e,t){const o=t.docs.get(e._key),l=new vc(i);return new hl(i,l,e._key,o,new Yc(t.hasPendingWrites,t.fromCache),e.converter)}const P0={maxAttempts:5};class Fm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ll(e)}set(e,t,o){this._verifyNotCommitted();const l=Zc(e,this._firestore),u=tf(l.converter,t,o),g=Gh(this._dataReader,"WriteBatch.set",l._key,u,null!==l.converter,o);return this._mutations.push(g.toMutation(l._key,Gi.none())),this}update(e,t,o,...l){this._verifyNotCommitted();const u=Zc(e,this._firestore);let g;return g="string"==typeof(t=(0,Ae.m9)(t))||t instanceof pc?Im(this._dataReader,"WriteBatch.update",u._key,t,o,l):_m(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(g.toMutation(u._key,Gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zc(e,this._firestore);return this._mutations=this._mutations.concat(new oc(t._key,Gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xt(_t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zc(i,e){if((i=(0,Ae.m9)(i)).firestore!==e)throw new xt(_t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Gy extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ll(e)}get(e){const t=Zc(e,this._firestore),o=new Py(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return Jt();const u=l[0];if(u.isFoundDocument())return new Zh(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new Zh(this._firestore,o,t._key,null,t.converter);throw Jt()})}set(e,t,o){const l=Zc(e,this._firestore),u=tf(l.converter,t,o),g=Gh(this._dataReader,"Transaction.set",l._key,u,null!==l.converter,o);return this._transaction.set(l._key,g),this}update(e,t,o,...l){const u=Zc(e,this._firestore);let g;return g="string"==typeof(t=(0,Ae.m9)(t))||t instanceof pc?Im(this._dataReader,"Transaction.update",u._key,t,o,l):_m(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,g),this}delete(e){const t=Zc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zc(e,this._firestore),o=new vc(this._firestore);return super.get(e).then(l=>new hl(this._firestore,o,t._key,l._document,new Yc(!1,!1),t.converter))}}function Bm(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ky(){if(typeof Uint8Array>"u")throw new xt("unimplemented","Uint8Arrays are not available in this environment.")}function Zy(){if(!function wl(){return typeof atob<"u"}())throw new xt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Oa=ft.SDK_VERSION,(0,ft._registerComponent)(new Ze.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const u=t.getProvider("app").getImmediate(),g=new Mi(new pl(t.getProvider("auth-internal")),new wo(t.getProvider("app-check-internal")),function(M,B){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new xt(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(M.options.projectId,B)}(u,o),u);return l=Object.assign({useFetchStreams:e},l),g._setSettings(l),g},"PUBLIC").setMultipleInstances(!0)),(0,ft.registerVersion)(zl,"3.13.0",i),(0,ft.registerVersion)(zl,"3.13.0","esm2017")}();class rf{constructor(e){this._delegate=e}static fromBase64String(e){return Zy(),new rf(Fl.fromBase64String(e))}static fromUint8Array(e){return Ky(),new rf(Fl.fromUint8Array(e))}toBase64(){return Zy(),this._delegate.toBase64()}toUint8Array(){return Ky(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sf(i){return function af(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class F0{enableIndexedDbPersistence(e,t){return function _y(i,e){Ty(i=ti(i,Mi));const t=no(i);if(t._uninitializedComponentsProvider)throw new xt(_t.FAILED_PRECONDITION,"SDK cache is already specified.");Bo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=i._freezeSettings(),l=new kh;return fm(t,l,new Fu(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Iy(i){Ty(i=ti(i,Mi));const e=no(i);if(e._uninitializedComponentsProvider)throw new xt(_t.FAILED_PRECONDITION,"SDK cache is already specified.");Bo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),o=new kh;return fm(e,o,new Nh(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Ey(i){if(i._initialized&&!i._terminated)throw new xt(_t.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Pr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{yield(t=(0,ce.Z)(function*(o){if(!mo.D())return Promise.resolve();const l=o+"main";yield mo.delete(l)}),function(o){return t.apply(this,arguments)})(Id(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $m{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Va||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Bo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function _p(i,e,t,o={}){var l;const u=(i=ti(i,Uh))._getSettings(),g=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==g&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:g,ssl:!1})),o.mockUserToken){let M,B;if("string"==typeof o.mockUserToken)M=o.mockUserToken,B=lo.MOCK_USER;else{M=(0,Ae.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new xt(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");B=new lo(H)}i._authCredentials=new Na(new Pa(M,B))}}(this._delegate,e,t,o)}enableNetwork(){return function wy(i){return function py(i){return i.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield dy(i),t=yield hy(i);return e.setNetworkEnabled(!0),function(o){const l=yn(o);return l.vu.delete(0),bh(l)}(t)}))}(no(i=ti(i,Mi)))}(this._delegate)}disableNetwork(){return function by(i){return function um(i){return i.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield dy(i),t=yield hy(i);return e.setNetworkEnabled(!1),(o=(0,ce.Z)(function*(l){const u=yn(l);u.vu.add(0),yield Pu(u),u.bu.set("Offline")}),function(l){return o.apply(this,arguments)})(t);var o}))}(no(i=ti(i,Mi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,vy("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Dy(i){return function(e){const t=new Pr;return e.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function J_(i,e){return Wg.apply(this,arguments)}(yield lm(e),t)})),t.promise}(no(i=ti(i,Mi)))}(this._delegate)}onSnapshotsInSync(e){return function km(i,e){return function u0(i,e){const t=new Fh(e);return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return o=yield Nd(i),l=t,yn(o).ku.add(l),void l.next();var o,l})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return o=yield Nd(i),l=t,void yn(o).ku.delete(l);var o,l}))}}(no(i=ti(i,Mi)),zc(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hu(this,xs(this._delegate,e))}catch(t){throw Vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ya(this,$u(this._delegate,e))}catch(t){throw Vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function Bu(i,e){if(i=ti(i,Uh),yp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xt(_t.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new to(i,null,(t=e,new ha(Nr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function UI(i,e,t){i=ti(i,Mi);const o=Object.assign(Object.assign({},P0),t);return function(l){if(l.maxAttempts<1)throw new xt(_t.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(l,u,g){const M=new Pr;return l.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){const B=yield function fy(i){return Hc(i).then(e=>e.datastore)}(l);new a0(l.asyncQueue,B,g,u,M).run()})),M.promise}(no(i),l=>e(new Gy(i,l)),o)}(this._delegate,t=>e(new Vm(this,t)))}batch(){return no(this._delegate),new Um(new Fm(this._delegate,e=>nf(this._delegate,e)))}loadBundle(e){return function Cy(i,e){const t=no(i=ti(i,Mi)),o=new Fd;return function d0(i,e,t,o){const l=function(u,g){let M;return M="string"==typeof u?kn().encode(u):u,B=function(B,H){if(B instanceof Uint8Array)return ly(B,H);if(B instanceof ArrayBuffer)return ly(new Uint8Array(B),H);if(B instanceof ReadableStream)return B.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new cy(B,g);var B}(t,Sd(e));i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){!function ay(i,e,t){const o=yn(i);var l;(l=(0,ce.Z)(function*(u,g,M){try{const B=yield g.getMetadata();if(yield function(vt,Ot){const nn=yn(vt),Tn=Uo(Ot.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",bn=>nn.qs.getBundleMetadata(bn,Ot.id)).then(bn=>!!bn&&bn.createTime.compareTo(Tn)>=0)}(u.localStore,B))return yield g.close(),M._completeWith({taskState:"Success",documentsLoaded:(vt=B).totalDocuments,bytesLoaded:vt.totalBytes,totalDocuments:vt.totalDocuments,totalBytes:vt.totalBytes}),Promise.resolve(new Set);M._updateProgress(Lg(B));const H=new xh(B,u.localStore,g.serializer);let te=yield g.bc();for(;te;){const vt=yield H.zu(te);vt&&M._updateProgress(vt),te=yield g.bc()}const Fe=yield H.complete();return yield fc(u,Fe.Ju,void 0),yield function(vt,Ot){const nn=yn(vt);return nn.persistence.runTransaction("Save bundle","readwrite",Tn=>nn.qs.saveBundleMetadata(Tn,Ot))}(u.localStore,B),M._completeWith(Fe.progress),Promise.resolve(Fe.Hu)}catch(B){return Bo("SyncEngine",`Loading bundle failed with ${B}`),M._failWith(B),Promise.resolve(new Set)}var vt}),function(u,g,M){return l.apply(this,arguments)})(o,e,t).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield lm(i),l,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function pm(i,e){return function h0(i,e){return i.asyncQueue.enqueue((0,ce.Z)(function*(){return function(t,o){const l=yn(t);return l.persistence.runTransaction("Get named query","readonly",u=>l.qs.getNamedQuery(u,o))}(yield vp(i),e)}))}(no(i=ti(i,Mi)),e).then(t=>t?new to(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Us(this,t):null)}}class Mp extends Om{constructor(e){super(),this.firestore=e}convertBytes(e){return new rf(new Fl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ya.forKey(t,this.firestore,null)}}class Vm{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Mp(e)}get(e){const t=Xc(e);return this._delegate.get(t).then(o=>new lf(this._firestore,new hl(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const l=Xc(e);return o?(Bm("Transaction.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const u=Xc(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...l),this}delete(e){const t=Xc(e);return this._delegate.delete(t),this}}class Um{constructor(e){this._delegate=e}set(e,t,o){const l=Xc(e);return o?(Bm("WriteBatch.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const u=Xc(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...l),this}delete(e){const t=Xc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ul{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Vd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cf(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Ul.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let u=l.get(t);return u||(u=new Ul(e,new Mp(e),t),l.set(t,u)),u}}Ul.INSTANCES=new WeakMap;class Ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Mp(e)}static forPath(e,t,o){if(e.length%2!=0)throw new xt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ya(t,new ho(t._delegate,o,new gn(e)))}static forKey(e,t,o){return new Ya(t,new ho(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Hu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hu(this.firestore,xs(this._delegate,e))}catch(t){throw Vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ae.m9)(e))instanceof ho&&wa(this._delegate,e)}set(e,t){t=Bm("DocumentReference.set",t);try{return t?By(this._delegate,e,t):By(this._delegate,e)}catch(o){throw Vs(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Ap(this._delegate,e):Ap(this._delegate,e,t,...o)}catch(l){throw Vs(l,"updateDoc()","DocumentReference.update()")}}delete(){return function ju(i){return nf(ti(i.firestore,Mi),[new oc(i._key,Gi.none())])}(this._delegate)}onSnapshot(...e){const t=jm(e),o=Hm(e,l=>new lf(this.firestore,new hl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return $y(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Fy(i){i=ti(i,ho);const e=ti(i.firestore,Mi),t=no(e),o=new vc(e);return function l0(i,e){const t=new Pr;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(o=(0,ce.Z)(function*(l,u,g){try{const M=yield function(B,H){const te=yn(B);return te.persistence.runTransaction("read document","readonly",Fe=>te.localDocuments.getDocument(Fe,H))}(l,u);M.isFoundDocument()?g.resolve(M):M.isNoDocument()?g.resolve(null):g.reject(new xt(_t.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const B=ku(M,`Failed to get document '${u} from cache`);g.reject(B)}}),function(l,u,g){return o.apply(this,arguments)})(yield vp(i),e,t);var o})),t.promise}(t,i._key).then(l=>new hl(e,o,i._key,l,new Yc(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Ly(i){i=ti(i,ho);const e=ti(i.firestore,Mi);return Bh(no(e),i._key,{source:"server"}).then(t=>Vy(e,i,t))}(this._delegate):function ky(i){i=ti(i,ho);const e=ti(i.firestore,Mi);return Bh(no(e),i._key).then(t=>Vy(e,i,t))}(this._delegate),t.then(o=>new lf(this.firestore,new hl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Ya(this.firestore,this._delegate.withConverter(e?Ul.getInstance(this.firestore,e):null))}}function Vs(i,e,t){return i.message=i.message.replace(e,t),i}function jm(i){for(const e of i)if("object"==typeof e&&!sf(e))return e;return{}}function Hm(i,e){var t,o;let l;return l=sf(i[0])?i[0]:sf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:u=>{l.next&&l.next(e(u))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class lf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Pm(this._delegate,e._delegate)}}class cf extends lf{data(e){const t=this._delegate.data(e);return function Or(i,e){i||Jt()}(void 0!==t),t}}class Us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Mp(e)}where(e,t,o){try{return new Us(this.firestore,Wc(this._delegate,function Cm(i,e,t){const o=e,l=Xh("where",i);return Jh._create(l,o,t)}(e,t,o)))}catch(l){throw Vs(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Us(this.firestore,Wc(this._delegate,function Sm(i,e="asc"){const t=e,o=Xh("orderBy",i);return Bd._create(o,t)}(e,t)))}catch(o){throw Vs(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,Wc(this._delegate,function E0(i){return Vh("limit",i),ef._create("limit",i,"F")}(e)))}catch(t){throw Vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,Wc(this._delegate,function D0(i){return Vh("limitToLast",i),ef._create("limitToLast",i,"L")}(e)))}catch(t){throw Vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,Wc(this._delegate,function Am(...i){return bp._create("startAt",i,!0)}(...e)))}catch(t){throw Vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,Wc(this._delegate,function Mm(...i){return bp._create("startAfter",i,!1)}(...e)))}catch(t){throw Vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,Wc(this._delegate,function xy(...i){return $d._create("endBefore",i,!1)}(...e)))}catch(t){throw Vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,Wc(this._delegate,function w0(...i){return $d._create("endAt",i,!0)}(...e)))}catch(t){throw Vs(t,"endAt()","Query.endAt()")}}isEqual(e){return jh(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Kc(i){i=ti(i,to);const e=ti(i.firestore,Mi),t=no(e),o=new vc(e);return function c0(i,e){const t=new Pr;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(o=(0,ce.Z)(function*(l,u,g){try{const M=yield $c(l,u,!0),B=new ap(u,M.ir),H=B.sc(M.documents),te=B.applyChanges(H,!1);g.resolve(te.snapshot)}catch(M){const B=ku(M,`Failed to execute query '${u} against cache`);g.reject(B)}}),function(l,u,g){return o.apply(this,arguments)})(yield vp(i),e,t);var o})),t.promise}(t,i._query).then(l=>new mc(e,o,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function M0(i){i=ti(i,to);const e=ti(i.firestore,Mi),t=no(e),o=new vc(e);return gy(t,i._query,{source:"server"}).then(l=>new mc(e,o,i,l))}(this._delegate):function Sp(i){i=ti(i,to);const e=ti(i.firestore,Mi),t=no(e),o=new vc(e);return wm(i._query),gy(t,i._query).then(l=>new mc(e,o,i,l))}(this._delegate),t.then(o=>new Rp(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=jm(e),o=Hm(e,l=>new Rp(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return $y(this._delegate,t,o)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?Ul.getInstance(this.firestore,e):null))}}class xp{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new cf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new xp(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new cf(this._firestore,o))})}isEqual(e){return Pm(this._delegate,e._delegate)}}class Hu extends Us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ya(this.firestore,e):null}doc(e){try{return new Ya(this.firestore,void 0===e?$u(this._delegate):$u(this._delegate,e))}catch(t){throw Vs(t,"doc()","CollectionReference.doc()")}}add(e){return function Nm(i,e){const t=ti(i.firestore,Mi),o=$u(i),l=tf(i.converter,e);return nf(t,[Gh(Ll(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,Gi.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new Ya(this.firestore,t))}isEqual(e){return wa(this._delegate,e._delegate)}withConverter(e){return new Hu(this.firestore,this._delegate.withConverter(e?Ul.getInstance(this.firestore,e):null))}}function Xc(i){return ti(i,ho)}class Op{constructor(...e){this._delegate=new pc(...e)}static documentId(){return new Op(Bi.keyField().canonicalString())}isEqual(e){return(e=(0,Ae.m9)(e))instanceof pc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Qc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Lm(){return new ym("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Qc(e)}static delete(){const e=function Wy(){return new gc("deleteField")}();return e._methodName="FieldValue.delete",new Qc(e)}static arrayUnion(...e){const t=function $l(...i){return new Wh("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Qc(t)}static arrayRemove(...e){const t=function N0(...i){return new y0("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Qc(t)}static increment(e){const t=function k0(i){return new _0("increment",i)}(e);return t._methodName="FieldValue.increment",new Qc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Xy={Firestore:$m,GeoPoint:gm,Timestamp:Si,Blob:rf,Transaction:Vm,WriteBatch:Um,DocumentReference:Ya,DocumentSnapshot:lf,Query:Us,QueryDocumentSnapshot:cf,QuerySnapshot:Rp,CollectionReference:Hu,FieldPath:Op,FieldValue:Qc,setLogLevel:function L0(i){!function Ds(i){Zi.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Jy(i){(function Qy(i,e){i.INTERNAL.registerComponent(new Ze.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},Xy)))})(i,(e,t)=>new $m(e,t,new F0)),i.registerVersion("@firebase/firestore-compat","0.3.12")}(Ie.Z);var Jc=L(6796),B0=L(8697),$0=L(7142);function e_(i,e){return function V0(i,e=v.z){return new W.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function zm(i,e){return e_(i,e).pipe((0,ee.U)(t=>({payload:t,type:"query"})))}function Pp(i,e){return zm(i,e).pipe((0,le.O)(void 0),me(),(0,ee.U)(([t,o])=>{const l=o.payload.docChanges(),u=l.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,M)=>{const B=l.find(te=>te.doc.ref.isEqual(g.ref)),H=null==t?void 0:t.payload.docs.find(te=>te.ref.isEqual(g.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(g.metadata)||!B&&H&&JSON.stringify(H.metadata)===JSON.stringify(g.metadata)||u.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:g}})}),u}))}function t_(i,e,t){return Pp(i,t).pipe((0,be.R)((o,l)=>function j0(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function H0(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Gm(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Gm(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Gm(i,e.oldIndex,1)}return i}(i,o))}),i}(o,l.map(u=>u.payload),e),[]),(0,ue.x)(),(0,ee.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function Gm(i,e,t,...o){const l=i.slice();return l.splice(e,t,...o),l}function n_(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class r_{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Pp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ee.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,le.O)(void 0),me(),(0,Te.h)(([o,l])=>l.length>0||!o),(0,ee.U)(([o,l])=>l),_e.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=n_(e);return t_(this.query,t,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return zm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),_e.iC)}get(e){return(0,ie.D)(this.query.get(e)).pipe(_e.iC)}add(e){return this.ref.add(e)}doc(e){return new i_(this.ref.doc(e),this.afs)}}class i_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:l,query:u}=Wm(o,t);return new r_(l,u,this.afs)}snapshotChanges(){return function U0(i,e){return e_(i,e).pipe((0,le.O)(void 0),me(),(0,ee.U)(([t,o])=>o.exists?null!=t&&t.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ee.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ie.D)(this.ref.get(e)).pipe(_e.iC)}}class z0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Pp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Te.h)(t=>t.length>0),_e.iC):Pp(this.query,this.afs.schedulers.outsideAngular).pipe(_e.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=n_(e);return t_(this.query,t,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return zm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(o=>o.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),_e.iC)}get(e){return(0,ie.D)(this.query.get(e)).pipe(_e.iC)}}const o_=new m.OlP("angularfire2.enableFirestorePersistence"),s_=new m.OlP("angularfire2.firestore.persistenceSettings"),a_=new m.OlP("angularfire2.firestore.settings"),l_=new m.OlP("angularfire2.firestore.use-emulator");function Wm(i,e=(t=>t)){return{query:e(i),ref:i}}let qm=(()=>{class i{constructor(t,o,l,u,g,M,B,H,te,Fe,vt,Ot,nn,Tn,bn,wr,ni){this.schedulers=B;const br=(0,je.on)(t,M,o),Wi=te;Fe&&(0,Jc.nw)(br,M,vt,nn,Tn,bn,Ot,wr),[this.firestore,this.persistenceEnabled$]=(0,je.cc)(`${br.name}.firestore`,"AngularFirestore",br.name,()=>{const ro=M.runOutsideAngular(()=>br.firestore());if(u&&ro.settings(u),Wi&&ro.useEmulator(...Wi),l&&!(0,ot.PM)(g)){const xi=()=>{try{return(0,ie.D)(ro.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(ls){return typeof console<"u"&&console.warn(ls),(0,Ee.of)(!1)}};return[ro,M.runOutsideAngular(xi)]}return[ro,(0,Ee.of)(!1)]},[u,Wi,l])}collection(t,o){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:g}=Wm(l,o),M=this.schedulers.ngZone.run(()=>u);return new r_(M,g,this)}collectionGroup(t,o){const l=o||(g=>g),u=this.firestore.collectionGroup(t);return new z0(l(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>o);return new i_(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(je.Dh),m.LFG(je.xv,8),m.LFG(o_,8),m.LFG(a_,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(_e.HU),m.LFG(s_,8),m.LFG(l_,8),m.LFG(Jc.zQ,8),m.LFG(Jc.Qv,8),m.LFG(Jc.L6,8),m.LFG(Jc._Q,8),m.LFG(Jc.rT,8),m.LFG(Jc.lh,8),m.LFG(Jc.f7,8),m.LFG(B0.nm,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),c_=(()=>{class i{constructor(){$0.Z.registerVersion("angularfire",_e.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:o_,useValue:!0},{provide:s_,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[qm]}),i})()},6304:(Wt,Qe,L)=>{"use strict";L.d(Qe,{Dh:()=>Ue,GT:()=>_e,cc:()=>Te,hO:()=>ue,on:()=>me,pX:()=>Ee,xv:()=>Ne});var m=L(5879),v=L(7142),W=L(8186);Wt=L.hmd(Wt);const ie=["ngOnDestroy"],Ee=(Ie,ce,ft,Ze={})=>new Proxy(Ie,{get:(fe,Ae)=>ft.runOutsideAngular(()=>{var Be;if(Ie[Ae])return!(null===(Be=null==Ze?void 0:Ze.spy)||void 0===Be)&&Be.get&&Ze.spy.get(Ae,Ie[Ae]),Ie[Ae];if(ie.indexOf(Ae)>-1)return()=>{};const ve=ce.toPromise().then(De=>{const ke=De&&De[Ae];return"function"==typeof ke?ke.bind(De):ke&&ke.then?ke.then($e=>ft.run(()=>$e)):ft.run(()=>ke)});return new Proxy(()=>{},{get:(De,ke)=>ve[ke],apply:(De,ke,$e)=>ve.then(it=>{var st;const pt=it&&it(...$e);return!(null===(st=null==Ze?void 0:Ze.spy)||void 0===st)&&st.apply&&Ze.spy.apply(Ae,$e,pt),pt})})})}),_e=(Ie,ce)=>{ce.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(Ze=>{Object.defineProperty(Ie.prototype,Ze,Object.getOwnPropertyDescriptor(ft.prototype||ft,Ze))})})};class le{constructor(ce){return ce}}const Ue=new m.OlP("angularfire2.app.options"),Ne=new m.OlP("angularfire2.app.name");function me(Ie,ce,ft){const fe="object"==typeof ft&&ft||{};fe.name=fe.name||"string"==typeof ft&&ft||"[DEFAULT]";const Be=v.Z.apps.filter(ve=>ve&&ve.name===fe.name)[0]||ce.runOutsideAngular(()=>v.Z.initializeApp(Ie,fe));try{JSON.stringify(Ie)!==JSON.stringify(Be.options)&&ee("error",`${Be.name} Firebase App already initialized with different options${Wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(Be)}const ee=(Ie,...ce)=>{(0,m.X6Q)()&&typeof console<"u"&&console[Ie](...ce)},be={provide:le,useFactory:me,deps:[Ue,m.R0b,[new m.FiY,Ne]]};let ue=(()=>{class Ie{constructor(ft){v.Z.registerVersion("angularfire",W.q4.full,"core"),v.Z.registerVersion("angularfire",W.q4.full,"app-compat"),v.Z.registerVersion("angular",m.q4F.full,ft.toString())}static initializeApp(ft,Ze){return{ngModule:Ie,providers:[{provide:Ue,useValue:ft},{provide:Ne,useValue:Ze}]}}}return Ie.\u0275fac=function(ft){return new(ft||Ie)(m.LFG(m.Lbi))},Ie.\u0275mod=m.oAB({type:Ie}),Ie.\u0275inj=m.cJS({providers:[be]}),Ie})();function Te(Ie,ce,ft,Ze,fe){const[,Ae,Be]=globalThis.\u0275AngularfireInstanceCache.find(ve=>ve[0]===Ie)||[];if(Ae)return function je(Ie,ce){try{return Ie.toString()===ce.toString()}catch{return Ie===ce}}(fe,Be)||(we("error",`${ce} was already initialized on the ${ft} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:fe,was:Be})),Ae;{const ve=Ze();return globalThis.\u0275AngularfireInstanceCache.push([Ie,ve,fe]),ve}}const ot=!!Wt.hot,we=(Ie,...ce)=>{(0,m.X6Q)()&&typeof console<"u"&&console[Ie](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Wt,Qe,L)=>{"use strict";L.d(Qe,{q4:()=>yo,iC:()=>ja,HU:()=>Va,vb:()=>Ea,JM:()=>gs});var m=L(5879),v=L(3182),W=L(5861),ie=L(534),Ee=L(9058),_e=L(4537),le=L(7879);const Ue=(S,R)=>R.some(z=>S instanceof z);let Ne,me;const ue=new WeakMap,Te=new WeakMap,je=new WeakMap,ot=new WeakMap,we=new WeakMap;let ft={get(S,R,z){if(S instanceof IDBTransaction){if("done"===R)return Te.get(S);if("objectStoreNames"===R)return S.objectStoreNames||je.get(S);if("store"===R)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return Be(S[R])},set:(S,R,z)=>(S[R]=z,!0),has:(S,R)=>S instanceof IDBTransaction&&("done"===R||"store"===R)||R in S};function Ae(S){return"function"==typeof S?function fe(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...R){return S.apply(ve(this),R),Be(ue.get(this))}:function(...R){return Be(S.apply(ve(this),R))}:function(R,...z){const ge=S.call(ve(this),R,...z);return je.set(ge,R.sort?R.sort():[R]),Be(ge)}}(S):(S instanceof IDBTransaction&&function ce(S){if(Te.has(S))return;const R=new Promise((z,ge)=>{const Ke=()=>{S.removeEventListener("complete",nt),S.removeEventListener("error",bt),S.removeEventListener("abort",bt)},nt=()=>{z(),Ke()},bt=()=>{ge(S.error||new DOMException("AbortError","AbortError")),Ke()};S.addEventListener("complete",nt),S.addEventListener("error",bt),S.addEventListener("abort",bt)});Te.set(S,R)}(S),Ue(S,function ee(){return Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,ft):S)}function Be(S){if(S instanceof IDBRequest)return function Ie(S){const R=new Promise((z,ge)=>{const Ke=()=>{S.removeEventListener("success",nt),S.removeEventListener("error",bt)},nt=()=>{z(Be(S.result)),Ke()},bt=()=>{ge(S.error),Ke()};S.addEventListener("success",nt),S.addEventListener("error",bt)});return R.then(z=>{z instanceof IDBCursor&&ue.set(z,S)}).catch(()=>{}),we.set(R,S),R}(S);if(ot.has(S))return ot.get(S);const R=Ae(S);return R!==S&&(ot.set(S,R),we.set(R,S)),R}const ve=S=>we.get(S),$e=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],st=new Map;function pt(S,R){if(!(S instanceof IDBDatabase)||R in S||"string"!=typeof R)return;if(st.get(R))return st.get(R);const z=R.replace(/FromIndex$/,""),ge=R!==z,Ke=it.includes(z);if(!(z in(ge?IDBIndex:IDBObjectStore).prototype)||!Ke&&!$e.includes(z))return;const nt=function(){var bt=(0,W.Z)(function*(dn,...an){const Ln=this.transaction(dn,Ke?"readwrite":"readonly");let cr=Ln.store;return ge&&(cr=cr.index(an.shift())),(yield Promise.all([cr[z](...an),Ke&&Ln.done]))[0]});return function(an){return bt.apply(this,arguments)}}();return st.set(R,nt),nt}!function Ze(S){ft=S(ft)}(S=>({...S,get:(R,z,ge)=>pt(R,z)||S.get(R,z,ge),has:(R,z)=>!!pt(R,z)||S.has(R,z)}));const Ht="@firebase/installations",xn="0.6.4",qt=1e4,lt=`w:${xn}`,se="FIS_v2",de="https://firebaseinstallations.googleapis.com/v1",Me=36e5,Bt=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ct(S){return S instanceof Ee.ZR&&S.code.includes("request-failed")}function ct({projectId:S}){return`${de}/projects/${S}/installations`}function ht(S){return{token:S.token,requestStatus:2,expiresIn:En(S.expiresIn),creationTime:Date.now()}}function Oe(S,R){return It.apply(this,arguments)}function It(){return(It=(0,W.Z)(function*(S,R){const ge=(yield R.json()).error;return Bt.create("request-failed",{requestName:S,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function Dt({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function mn(S){return cn.apply(this,arguments)}function cn(){return(cn=(0,W.Z)(function*(S){const R=yield S();return R.status>=500&&R.status<600?S():R})).apply(this,arguments)}function En(S){return Number(S.replace("s","000"))}function Dn(){return(Dn=(0,W.Z)(function*({appConfig:S,heartbeatServiceProvider:R},{fid:z}){const ge=ct(S),Ke=Dt(S),nt=R.getImmediate({optional:!0});if(nt){const Ln=yield nt.getHeartbeatsHeader();Ln&&Ke.append("x-firebase-client",Ln)}const dn={method:"POST",headers:Ke,body:JSON.stringify({fid:z,authVersion:se,appId:S.appId,sdkVersion:lt})},an=yield mn(()=>fetch(ge,dn));if(an.ok){const Ln=yield an.json();return{fid:Ln.fid||z,registrationStatus:2,refreshToken:Ln.refreshToken,authToken:ht(Ln.authToken)}}throw yield Oe("Create Installation",an)})).apply(this,arguments)}function Vn(S){return new Promise(R=>{setTimeout(R,S)})}const hr=/^[cdef][\w-]{21}$/,Ir="";function rn(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const z=function Rn(S){return function Br(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return hr.test(z)?z:Ir}catch{return Ir}}function or(S){return`${S.appName}!${S.appId}`}const un=new Map;function Sr(S,R){const z=or(S);Ur(z,R),function Mt(S,R){const z=function zn(){return!jr&&"BroadcastChannel"in self&&(jr=new BroadcastChannel("[Firebase] FID Change"),jr.onmessage=S=>{Ur(S.data.key,S.data.fid)}),jr}();z&&z.postMessage({key:S,fid:R}),function ai(){0===un.size&&jr&&(jr.close(),jr=null)}()}(z,R)}function Ur(S,R){const z=un.get(S);if(z)for(const ge of z)ge(R)}let jr=null;const ri="firebase-installations-database",_i=1,Lr="firebase-installations-store";let Ii=null;function qr(){return Ii||(Ii=function De(S,R,{blocked:z,upgrade:ge,blocking:Ke,terminated:nt}={}){const bt=indexedDB.open(S,R),dn=Be(bt);return ge&&bt.addEventListener("upgradeneeded",an=>{ge(Be(bt.result),an.oldVersion,an.newVersion,Be(bt.transaction))}),z&&bt.addEventListener("blocked",()=>z()),dn.then(an=>{nt&&an.addEventListener("close",()=>nt()),Ke&&an.addEventListener("versionchange",()=>Ke())}).catch(()=>{}),dn}(ri,_i,{upgrade:(S,R)=>{0===R&&S.createObjectStore(Lr)}})),Ii}function kr(S,R){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,W.Z)(function*(S,R){const z=or(S),Ke=(yield qr()).transaction(Lr,"readwrite"),nt=Ke.objectStore(Lr),bt=yield nt.get(z);return yield nt.put(R,z),yield Ke.done,(!bt||bt.fid!==R.fid)&&Sr(S,R.fid),R})).apply(this,arguments)}function Hr(S){return fr.apply(this,arguments)}function fr(){return(fr=(0,W.Z)(function*(S){const R=or(S),ge=(yield qr()).transaction(Lr,"readwrite");yield ge.objectStore(Lr).delete(R),yield ge.done})).apply(this,arguments)}function Cr(S,R){return nr.apply(this,arguments)}function nr(){return(nr=(0,W.Z)(function*(S,R){const z=or(S),Ke=(yield qr()).transaction(Lr,"readwrite"),nt=Ke.objectStore(Lr),bt=yield nt.get(z),dn=R(bt);return void 0===dn?yield nt.delete(z):yield nt.put(dn,z),yield Ke.done,dn&&(!bt||bt.fid!==dn.fid)&&Sr(S,dn.fid),dn})).apply(this,arguments)}function Pe(S){return Z.apply(this,arguments)}function Z(){return Z=(0,W.Z)(function*(S){let R;const z=yield Cr(S.appConfig,ge=>{const Ke=function Y(S){return hn(S||{fid:rn(),registrationStatus:0})}(ge),nt=function Ce(S,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(Bt.create("app-offline"))};const z={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},ge=function X(S,R){return ze.apply(this,arguments)}(S,z);return{installationEntry:z,registrationPromise:ge}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:yt(S)}:{installationEntry:R}}(S,Ke);return R=nt.registrationPromise,nt.installationEntry});return z.fid===Ir?{installationEntry:yield R}:{installationEntry:z,registrationPromise:R}}),Z.apply(this,arguments)}function ze(){return ze=(0,W.Z)(function*(S,R){try{const z=yield function On(S,R){return Dn.apply(this,arguments)}(S,R);return kr(S.appConfig,z)}catch(z){throw Ct(z)&&409===z.customData.serverCode?yield Hr(S.appConfig):yield kr(S.appConfig,{fid:R.fid,registrationStatus:0}),z}}),ze.apply(this,arguments)}function yt(S){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,W.Z)(function*(S){let R=yield sn(S.appConfig);for(;1===R.registrationStatus;)yield Vn(100),R=yield sn(S.appConfig);if(0===R.registrationStatus){const{installationEntry:z,registrationPromise:ge}=yield Pe(S);return ge||z}return R})).apply(this,arguments)}function sn(S){return Cr(S,R=>{if(!R)throw Bt.create("installation-not-found");return hn(R)})}function hn(S){return function en(S){return 1===S.registrationStatus&&S.registrationTime+qt<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function vr(){return(vr=(0,W.Z)(function*({appConfig:S,heartbeatServiceProvider:R},z){const ge=function Mr(S,{fid:R}){return`${ct(S)}/${R}/authTokens:generate`}(S,z),Ke=function $t(S,{refreshToken:R}){const z=Dt(S);return z.append("Authorization",function Pn(S){return`${se} ${S}`}(R)),z}(S,z),nt=R.getImmediate({optional:!0});if(nt){const Ln=yield nt.getHeartbeatsHeader();Ln&&Ke.append("x-firebase-client",Ln)}const dn={method:"POST",headers:Ke,body:JSON.stringify({installation:{sdkVersion:lt,appId:S.appId}})},an=yield mn(()=>fetch(ge,dn));if(an.ok)return ht(yield an.json());throw yield Oe("Generate Auth Token",an)})).apply(this,arguments)}function Ei(S){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,W.Z)(function*(S,R=!1){let z;const ge=yield Cr(S.appConfig,nt=>{if(!Qt(nt))throw Bt.create("not-registered");const bt=nt.authToken;if(!R&&function Yn(S){return 2===S.requestStatus&&!function Dr(S){const R=Date.now();return R<S.creationTime||S.creationTime+S.expiresIn<R+Me}(S)}(bt))return nt;if(1===bt.requestStatus)return z=function gt(S,R){return rt.apply(this,arguments)}(S,R),nt;{if(!navigator.onLine)throw Bt.create("app-offline");const dn=function Tr(S){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:R})}(nt);return z=function pn(S,R){return fn.apply(this,arguments)}(S,dn),dn}});return z?yield z:ge.authToken}),Qr.apply(this,arguments)}function rt(){return(rt=(0,W.Z)(function*(S,R){let z=yield Ft(S.appConfig);for(;1===z.authToken.requestStatus;)yield Vn(100),z=yield Ft(S.appConfig);const ge=z.authToken;return 0===ge.requestStatus?Ei(S,R):ge})).apply(this,arguments)}function Ft(S){return Cr(S,R=>{if(!Qt(R))throw Bt.create("not-registered");return function ur(S){return 1===S.requestStatus&&S.requestTime+qt<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function fn(){return fn=(0,W.Z)(function*(S,R){try{const z=yield function Sn(S,R){return vr.apply(this,arguments)}(S,R),ge=Object.assign(Object.assign({},R),{authToken:z});return yield kr(S.appConfig,ge),z}catch(z){if(!Ct(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const ge=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield kr(S.appConfig,ge)}else yield Hr(S.appConfig);throw z}}),fn.apply(this,arguments)}function Qt(S){return void 0!==S&&2===S.registrationStatus}function Xn(){return(Xn=(0,W.Z)(function*(S){const R=S,{installationEntry:z,registrationPromise:ge}=yield Pe(R);return ge?ge.catch(console.error):Ei(R).catch(console.error),z.fid})).apply(this,arguments)}function xo(){return xo=(0,W.Z)(function*(S,R=!1){const z=S;return yield function Ri(S){return li.apply(this,arguments)}(z),(yield Ei(z,R)).token}),xo.apply(this,arguments)}function li(){return(li=(0,W.Z)(function*(S){const{registrationPromise:R}=yield Pe(S);R&&(yield R)})).apply(this,arguments)}function K(S){return Bt.create("missing-app-config-values",{valueName:S})}const he="installations",Se=S=>{const R=S.getProvider("app").getImmediate(),z=function io(S){if(!S||!S.options)throw K("App Configuration");if(!S.name)throw K("App Name");const R=["projectId","apiKey","appId"];for(const z of R)if(!S.options[z])throw K(z);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(R);return{app:R,appConfig:z,heartbeatServiceProvider:(0,ie._getProvider)(R,"heartbeat"),_delete:()=>Promise.resolve()}},Ye=S=>{const R=S.getProvider("app").getImmediate(),z=(0,ie._getProvider)(R,he).getImmediate();return{getId:()=>function Zn(S){return Xn.apply(this,arguments)}(z),getToken:Ke=>function _o(S){return xo.apply(this,arguments)}(z,Ke)}};(function Je(){(0,ie._registerComponent)(new _e.wA(he,Se,"PUBLIC")),(0,ie._registerComponent)(new _e.wA("installations-internal",Ye,"PRIVATE"))})(),(0,ie.registerVersion)(Ht,xn),(0,ie.registerVersion)(Ht,xn,"esm2017");const mt="@firebase/remote-config",In=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yt{constructor(R,z,ge,Ke){this.client=R,this.storage=z,this.storageCache=ge,this.logger=Ke}isCachedDataFresh(R,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-z,Ke=ge<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${Ke}.`),Ke}fetch(R){var z=this;return(0,W.Z)(function*(){const[ge,Ke]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(Ke&&z.isCachedDataFresh(R.cacheMaxAgeMillis,ge))return Ke;R.eTag=Ke&&Ke.eTag;const nt=yield z.client.fetch(R),bt=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===nt.status&&bt.push(z.storage.setLastSuccessfulFetchResponse(nt)),yield Promise.all(bt),nt})()}}function qn(S=navigator){return S.languages&&S.languages[0]||S.language}class ir{constructor(R,z,ge,Ke,nt,bt){this.firebaseInstallations=R,this.sdkVersion=z,this.namespace=ge,this.projectId=Ke,this.apiKey=nt,this.appId=bt}fetch(R){var z=this;return(0,W.Z)(function*(){const[ge,Ke]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),bt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,dn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},an={sdk_version:z.sdkVersion,app_instance_id:ge,app_instance_id_token:Ke,app_id:z.appId,language_code:qn()},Ln={method:"POST",headers:dn,body:JSON.stringify(an)},cr=fetch(bt,Ln),dr=new Promise((Ys,Ks)=>{R.signal.addEventListener(()=>{const nl=new Error("The operation was aborted.");nl.name="AbortError",Ks(nl)})});let Ss;try{yield Promise.race([cr,dr]),Ss=yield cr}catch(Ys){let Ks="fetch-client-network";throw"AbortError"===(null==Ys?void 0:Ys.name)&&(Ks="fetch-timeout"),In.create(Ks,{originalErrorMessage:null==Ys?void 0:Ys.message})}let $r=Ss.status;const So=Ss.headers.get("ETag")||void 0;let hi,Ao;if(200===Ss.status){let Ys;try{Ys=yield Ss.json()}catch(Ks){throw In.create("fetch-client-parse",{originalErrorMessage:null==Ks?void 0:Ks.message})}hi=Ys.entries,Ao=Ys.state}if("INSTANCE_STATE_UNSPECIFIED"===Ao?$r=500:"NO_CHANGE"===Ao?$r=304:("NO_TEMPLATE"===Ao||"EMPTY_CONFIG"===Ao)&&(hi={}),304!==$r&&200!==$r)throw In.create("fetch-status",{httpStatus:$r});return{status:$r,eTag:So,config:hi}})()}}class Jr{constructor(R,z){this.client=R,this.storage=z}fetch(R){var z=this;return(0,W.Z)(function*(){const ge=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(R,ge)})()}attemptFetch(R,{throttleEndTimeMillis:z,backoffCount:ge}){var Ke=this;return(0,W.Z)(function*(){yield function Pi(S,R){return new Promise((z,ge)=>{const Ke=Math.max(R-Date.now(),0),nt=setTimeout(z,Ke);S.addEventListener(()=>{clearTimeout(nt),ge(In.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,z);try{const nt=yield Ke.client.fetch(R);return yield Ke.storage.deleteThrottleMetadata(),nt}catch(nt){if(!function Ho(S){if(!(S instanceof Ee.ZR&&S.customData))return!1;const R=Number(S.customData.httpStatus);return 429===R||500===R||503===R||504===R}(nt))throw nt;const bt={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(ge),backoffCount:ge+1};return yield Ke.storage.setThrottleMetadata(bt),Ke.attemptFetch(R,bt)}})()}}class Po{constructor(R,z,ge,Ke,nt){this.app=R,this._client=z,this._storageCache=ge,this._storage=Ke,this._logger=nt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mi(S,R){const z=S.target.error||void 0;return In.create(R,{originalErrorMessage:z&&(null==z?void 0:z.message)})}const wn="app_namespace_store";class Qn{constructor(R,z,ge,Ke=function Io(){return new Promise((S,R)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=ge=>{R(mi(ge,"storage-open"))},z.onsuccess=ge=>{S(ge.target.result)},z.onupgradeneeded=ge=>{0===ge.oldVersion&&ge.target.result.createObjectStore(wn,{keyPath:"compositeKey"})}}catch(z){R(In.create("storage-open",{originalErrorMessage:null==z?void 0:z.message}))}})}()){this.appId=R,this.appName=z,this.namespace=ge,this.openDbPromise=Ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var z=this;return(0,W.Z)(function*(){const ge=yield z.openDbPromise;return new Promise((Ke,nt)=>{const dn=ge.transaction([wn],"readonly").objectStore(wn),an=z.createCompositeKey(R);try{const Ln=dn.get(an);Ln.onerror=cr=>{nt(mi(cr,"storage-get"))},Ln.onsuccess=cr=>{const dr=cr.target.result;Ke(dr?dr.value:void 0)}}catch(Ln){nt(In.create("storage-get",{originalErrorMessage:null==Ln?void 0:Ln.message}))}})})()}set(R,z){var ge=this;return(0,W.Z)(function*(){const Ke=yield ge.openDbPromise;return new Promise((nt,bt)=>{const an=Ke.transaction([wn],"readwrite").objectStore(wn),Ln=ge.createCompositeKey(R);try{const cr=an.put({compositeKey:Ln,value:z});cr.onerror=dr=>{bt(mi(dr,"storage-set"))},cr.onsuccess=()=>{nt()}}catch(cr){bt(In.create("storage-set",{originalErrorMessage:null==cr?void 0:cr.message}))}})})()}delete(R){var z=this;return(0,W.Z)(function*(){const ge=yield z.openDbPromise;return new Promise((Ke,nt)=>{const dn=ge.transaction([wn],"readwrite").objectStore(wn),an=z.createCompositeKey(R);try{const Ln=dn.delete(an);Ln.onerror=cr=>{nt(mi(cr,"storage-delete"))},Ln.onsuccess=()=>{Ke()}}catch(Ln){nt(In.create("storage-delete",{originalErrorMessage:null==Ln?void 0:Ln.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class Xo{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,W.Z)(function*(){const z=R.storage.getLastFetchStatus(),ge=R.storage.getLastSuccessfulFetchTimestampMillis(),Ke=R.storage.getActiveConfig(),nt=yield z;nt&&(R.lastFetchStatus=nt);const bt=yield ge;bt&&(R.lastSuccessfulFetchTimestampMillis=bt);const dn=yield Ke;dn&&(R.activeConfig=dn)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function Rs(){return fo.apply(this,arguments)}function fo(){return(fo=(0,W.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}!function Vi(){(0,ie._registerComponent)(new _e.wA("remote-config",function S(R,{instanceIdentifier:z}){const ge=R.getProvider("app").getImmediate(),Ke=R.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw In.create("registration-window");if(!(0,Ee.hl)())throw In.create("indexed-db-unavailable");const{projectId:nt,apiKey:bt,appId:dn}=ge.options;if(!nt)throw In.create("registration-project-id");if(!bt)throw In.create("registration-api-key");if(!dn)throw In.create("registration-app-id");const an=new Qn(dn,ge.name,z=z||"firebase"),Ln=new Xo(an),cr=new le.Yd(mt);cr.logLevel=le.in.ERROR;const dr=new ir(Ke,ie.SDK_VERSION,z,nt,bt,dn),Ss=new Jr(dr,an),$r=new Yt(Ss,an,Ln,cr),So=new Po(ge,$r,Ln,an,cr);return function Wn(S){const R=(0,Ee.m9)(S);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(So),So},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(mt,"0.4.4"),(0,ie.registerVersion)(mt,"0.4.4","esm2017")}();const Ui=(S,R)=>R.some(z=>S instanceof z);let rs,po;const ko=new WeakMap,Do=new WeakMap,ji=new WeakMap,ii=new WeakMap,Fo=new WeakMap;let _s={get(S,R,z){if(S instanceof IDBTransaction){if("done"===R)return Do.get(S);if("objectStoreNames"===R)return S.objectStoreNames||ji.get(S);if("store"===R)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return Ci(S[R])},set:(S,R,z)=>(S[R]=z,!0),has:(S,R)=>S instanceof IDBTransaction&&("done"===R||"store"===R)||R in S};function us(S){return"function"==typeof S?function di(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qi(){return po||(po=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...R){return S.apply(Lo(this),R),Ci(ko.get(this))}:function(...R){return Ci(S.apply(Lo(this),R))}:function(R,...z){const ge=S.call(Lo(this),R,...z);return ji.set(ge,R.sort?R.sort():[R]),Ci(ge)}}(S):(S instanceof IDBTransaction&&function Di(S){if(Do.has(S))return;const R=new Promise((z,ge)=>{const Ke=()=>{S.removeEventListener("complete",nt),S.removeEventListener("error",bt),S.removeEventListener("abort",bt)},nt=()=>{z(),Ke()},bt=()=>{ge(S.error||new DOMException("AbortError","AbortError")),Ke()};S.addEventListener("complete",nt),S.addEventListener("error",bt),S.addEventListener("abort",bt)});Do.set(S,R)}(S),Ui(S,function Un(){return rs||(rs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,_s):S)}function Ci(S){if(S instanceof IDBRequest)return function Go(S){const R=new Promise((z,ge)=>{const Ke=()=>{S.removeEventListener("success",nt),S.removeEventListener("error",bt)},nt=()=>{z(Ci(S.result)),Ke()},bt=()=>{ge(S.error),Ke()};S.addEventListener("success",nt),S.addEventListener("error",bt)});return R.then(z=>{z instanceof IDBCursor&&ko.set(z,S)}).catch(()=>{}),Fo.set(R,S),R}(S);if(ii.has(S))return ii.get(S);const R=us(S);return R!==S&&(ii.set(S,R),Fo.set(R,S)),R}const Lo=S=>Fo.get(S);function Ni(S,R,{blocked:z,upgrade:ge,blocking:Ke,terminated:nt}={}){const bt=indexedDB.open(S,R),dn=Ci(bt);return ge&&bt.addEventListener("upgradeneeded",an=>{ge(Ci(bt.result),an.oldVersion,an.newVersion,Ci(bt.transaction))}),z&&bt.addEventListener("blocked",()=>z()),dn.then(an=>{nt&&an.addEventListener("close",()=>nt()),Ke&&an.addEventListener("versionchange",()=>Ke())}).catch(()=>{}),dn}function ds(S,{blocked:R}={}){const z=indexedDB.deleteDatabase(S);return R&&z.addEventListener("blocked",()=>R()),Ci(z).then(()=>{})}const Js=["get","getKey","getAll","getAllKeys","count"],ga=["put","add","delete","clear"],ea=new Map;function Os(S,R){if(!(S instanceof IDBDatabase)||R in S||"string"!=typeof R)return;if(ea.get(R))return ea.get(R);const z=R.replace(/FromIndex$/,""),ge=R!==z,Ke=ga.includes(z);if(!(z in(ge?IDBIndex:IDBObjectStore).prototype)||!Ke&&!Js.includes(z))return;const nt=function(){var bt=(0,W.Z)(function*(dn,...an){const Ln=this.transaction(dn,Ke?"readwrite":"readonly");let cr=Ln.store;return ge&&(cr=cr.index(an.shift())),(yield Promise.all([cr[z](...an),Ke&&Ln.done]))[0]});return function(an){return bt.apply(this,arguments)}}();return ea.set(R,nt),nt}!function ui(S){_s=S(_s)}(S=>({...S,get:(R,z,ge)=>Os(R,z)||S.get(R,z,ge),has:(R,z)=>!!Os(R,z)||S.has(R,z)}));const Is="/firebase-messaging-sw.js",js="/firebase-cloud-messaging-push-scope",ta="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ta="https://fcmregistrations.googleapis.com/v1",xr="google.c.a.c_id",Wo="google.c.a.c_l",Za="google.c.a.ts";var re=function(S){return S.PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",S}(re||{});function h(S){const R=new Uint8Array(S);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function T(S){const z=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob(z),Ke=new Uint8Array(ge.length);for(let nt=0;nt<ge.length;++nt)Ke[nt]=ge.charCodeAt(nt);return Ke}const _="fcm_token_details_db",N=5,J="fcm_token_object_Store";function on(){return on=(0,W.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(nt=>nt.name).includes(_))return null;let R=null;return(yield Ni(_,N,{upgrade:(ge=(0,W.Z)(function*(Ke,nt,bt,dn){var an;if(nt<2||!Ke.objectStoreNames.contains(J))return;const Ln=dn.objectStore(J),cr=yield Ln.index("fcmSenderId").get(S);if(yield Ln.clear(),cr)if(2===nt){const dr=cr;if(!dr.auth||!dr.p256dh||!dr.endpoint)return;R={token:dr.fcmToken,createTime:null!==(an=dr.createTime)&&void 0!==an?an:Date.now(),subscriptionOptions:{auth:dr.auth,p256dh:dr.p256dh,endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:"string"==typeof dr.vapidKey?dr.vapidKey:h(dr.vapidKey)}}}else if(3===nt){const dr=cr;R={token:dr.fcmToken,createTime:dr.createTime,subscriptionOptions:{auth:h(dr.auth),p256dh:h(dr.p256dh),endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:h(dr.vapidKey)}}}else if(4===nt){const dr=cr;R={token:dr.fcmToken,createTime:dr.createTime,subscriptionOptions:{auth:h(dr.auth),p256dh:h(dr.p256dh),endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:h(dr.vapidKey)}}}}),function(nt,bt,dn,an){return ge.apply(this,arguments)})})).close(),yield ds(_),yield ds("fcm_vapid_details_db"),yield ds("undefined"),function tn(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:R}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}(R)?R:null;var ge}),on.apply(this,arguments)}const Fn="firebase-messaging-database",sr=1,oi="firebase-messaging-store";let go=null;function ki(){return go||(go=Ni(Fn,sr,{upgrade:(S,R)=>{0===R&&S.createObjectStore(oi)}})),go}function Qo(S){return Yi.apply(this,arguments)}function Yi(){return Yi=(0,W.Z)(function*(S){const R=Ns(S),ge=yield(yield ki()).transaction(oi).objectStore(oi).get(R);if(ge)return ge;{const Ke=yield function Et(S){return on.apply(this,arguments)}(S.appConfig.senderId);if(Ke)return yield hs(S,Ke),Ke}}),Yi.apply(this,arguments)}function hs(S,R){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,W.Z)(function*(S,R){const z=Ns(S),Ke=(yield ki()).transaction(oi,"readwrite");return yield Ke.objectStore(oi).put(R,z),yield Ke.done,R})).apply(this,arguments)}function qo(){return(qo=(0,W.Z)(function*(S){const R=Ns(S),ge=(yield ki()).transaction(oi,"readwrite");yield ge.objectStore(oi).delete(R),yield ge.done})).apply(this,arguments)}function Ns({appConfig:S}){return S.appId}const Xi=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function va(S,R){return na.apply(this,arguments)}function na(){return(na=(0,W.Z)(function*(S,R){const z=yield Jo(S),ge=aa(R),Ke={method:"POST",headers:z,body:JSON.stringify(ge)};let nt;try{nt=yield(yield fetch(sa(S.appConfig),Ke)).json()}catch(bt){throw Xi.create("token-subscribe-failed",{errorInfo:null==bt?void 0:bt.toString()})}if(nt.error)throw Xi.create("token-subscribe-failed",{errorInfo:nt.error.message});if(!nt.token)throw Xi.create("token-subscribe-no-token");return nt.token})).apply(this,arguments)}function ia(){return(ia=(0,W.Z)(function*(S,R){const z=yield Jo(S),ge=aa(R.subscriptionOptions),Ke={method:"PATCH",headers:z,body:JSON.stringify(ge)};let nt;try{nt=yield(yield fetch(`${sa(S.appConfig)}/${R.token}`,Ke)).json()}catch(bt){throw Xi.create("token-update-failed",{errorInfo:null==bt?void 0:bt.toString()})}if(nt.error)throw Xi.create("token-update-failed",{errorInfo:nt.error.message});if(!nt.token)throw Xi.create("token-update-no-token");return nt.token})).apply(this,arguments)}function oa(S,R){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,W.Z)(function*(S,R){const ge={method:"DELETE",headers:yield Jo(S)};try{const nt=yield(yield fetch(`${sa(S.appConfig)}/${R}`,ge)).json();if(nt.error)throw Xi.create("token-unsubscribe-failed",{errorInfo:nt.error.message})}catch(Ke){throw Xi.create("token-unsubscribe-failed",{errorInfo:null==Ke?void 0:Ke.toString()})}})).apply(this,arguments)}function sa({projectId:S}){return`${Ta}/projects/${S}/registrations`}function Jo(S){return ya.apply(this,arguments)}function ya(){return(ya=(0,W.Z)(function*({appConfig:S,installations:R}){const z=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function aa({p256dh:S,auth:R,endpoint:z,vapidKey:ge}){const Ke={web:{endpoint:z,auth:R,p256dh:S}};return ge!==ta&&(Ke.web.applicationPubKey=ge),Ke}const Sa=6048e5;function la(){return la=(0,W.Z)(function*(S){const R=yield function es(S,R){return C.apply(this,arguments)}(S.swRegistration,S.vapidKey),z={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:R.endpoint,auth:h(R.getKey("auth")),p256dh:h(R.getKey("p256dh"))},ge=yield Qo(S.firebaseDependencies);if(ge){if(function V(S,R){return R.vapidKey===S.vapidKey&&R.endpoint===S.endpoint&&R.auth===S.auth&&R.p256dh===S.p256dh}(ge.subscriptionOptions,z))return Date.now()>=ge.createTime+Sa?function fl(S,R){return Es.apply(this,arguments)}(S,{token:ge.token,createTime:Date.now(),subscriptionOptions:z}):ge.token;try{yield oa(S.firebaseDependencies,ge.token)}catch(Ke){console.warn(Ke)}return Ma(S.firebaseDependencies,z)}return Ma(S.firebaseDependencies,z)}),la.apply(this,arguments)}function Aa(){return Aa=(0,W.Z)(function*(S){const R=yield Qo(S.firebaseDependencies);R&&(yield oa(S.firebaseDependencies,R.token),yield function ma(S){return qo.apply(this,arguments)}(S.firebaseDependencies));const z=yield S.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()}),Aa.apply(this,arguments)}function Es(){return Es=(0,W.Z)(function*(S,R){try{const z=yield function ra(S,R){return ia.apply(this,arguments)}(S.firebaseDependencies,R),ge=Object.assign(Object.assign({},R),{token:z,createTime:Date.now()});return yield hs(S.firebaseDependencies,ge),z}catch(z){throw yield function Yo(S){return Aa.apply(this,arguments)}(S),z}}),Es.apply(this,arguments)}function Ma(S,R){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,W.Z)(function*(S,R){const ge={token:yield va(S,R),createTime:Date.now(),subscriptionOptions:R};return yield hs(S,ge),ge.token})).apply(this,arguments)}function C(){return(C=(0,W.Z)(function*(S,R){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:T(R)})})).apply(this,arguments)}function ye(S){const R={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function F(S,R){if(!R.notification)return;S.notification={};const z=R.notification.title;z&&(S.notification.title=z);const ge=R.notification.body;ge&&(S.notification.body=ge);const Ke=R.notification.image;Ke&&(S.notification.image=Ke);const nt=R.notification.icon;nt&&(S.notification.icon=nt)}(R,S),function oe(S,R){R.data&&(S.data=R.data)}(R,S),function Le(S,R){var z,ge,Ke,nt,bt;if(!(R.fcmOptions||null!==(z=R.notification)&&void 0!==z&&z.click_action))return;S.fcmOptions={};const dn=null!==(Ke=null===(ge=R.fcmOptions)||void 0===ge?void 0:ge.link)&&void 0!==Ke?Ke:null===(nt=R.notification)||void 0===nt?void 0:nt.click_action;dn&&(S.fcmOptions.link=dn);const an=null===(bt=R.fcmOptions)||void 0===bt?void 0:bt.analytics_label;an&&(S.fcmOptions.analyticsLabel=an)}(R,S),R}function zt(S,R){const z=[];for(let ge=0;ge<S.length;ge++)z.push(S.charAt(ge)),ge<R.length&&z.push(R.charAt(ge));return z.join("")}function Cn(S){return Xi.create("missing-app-config-values",{valueName:S})}zt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jn{constructor(R,z,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ke=function ar(S){if(!S||!S.options)throw Cn("App Configuration Object");if(!S.name)throw Cn("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:z}=S;for(const ge of R)if(!z[ge])throw Cn(ge);return{appName:S.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:Ke,installations:z,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function lr(){return(lr=(0,W.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Is,{scope:js}),S.swRegistration.update().catch(()=>{})}catch(R){throw Xi.create("failed-service-worker-registration",{browserErrorMessage:null==R?void 0:R.message})}})).apply(this,arguments)}function Zr(){return(Zr=(0,W.Z)(function*(S,R){if(!R&&!S.swRegistration&&(yield function Bn(S){return lr.apply(this,arguments)}(S)),R||!S.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw Xi.create("invalid-sw-registration");S.swRegistration=R}})).apply(this,arguments)}function si(){return(si=(0,W.Z)(function*(S,R){R?S.vapidKey=R:S.vapidKey||(S.vapidKey=ta)})).apply(this,arguments)}function Ko(){return Ko=(0,W.Z)(function*(S,R){if(!navigator)throw Xi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xi.create("permission-blocked");return yield function Ti(S,R){return si.apply(this,arguments)}(S,null==R?void 0:R.vapidKey),yield function Rr(S,R){return Zr.apply(this,arguments)}(S,null==R?void 0:R.serviceWorkerRegistration),function _c(S){return la.apply(this,arguments)}(S)}),Ko.apply(this,arguments)}function ao(){return(ao=(0,W.Z)(function*(S,R,z){const ge=function fs(S){switch(S){case re.NOTIFICATION_CLICKED:return"notification_open";case re.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(R);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(ge,{message_id:z[xr],message_name:z[Wo],message_time:z[Za],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _a(){return _a=(0,W.Z)(function*(S,R){const z=R.data;if(!z.isFirebaseMessaging)return;S.onMessageHandler&&z.messageType===re.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(ye(z)):S.onMessageHandler.next(ye(z)));const ge=z.data;(function wt(S){return"object"==typeof S&&!!S&&xr in S})(ge)&&"1"===ge["google.c.a.e"]&&(yield function Ki(S,R,z){return ao.apply(this,arguments)}(S,z.messageType,ge))}),_a.apply(this,arguments)}const xa="@firebase/messaging",Hl=S=>{const R=new Jn(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function tu(S,R){return _a.apply(this,arguments)}(R,z)),R},er=S=>{const R=S.getProvider("messaging").getImmediate();return{getToken:ge=>function ts(S,R){return Ko.apply(this,arguments)}(R,ge)}};function zl(){return lo.apply(this,arguments)}function lo(){return(lo=(0,W.Z)(function*(){try{yield(0,Ee.eu)()}catch{return!1}return typeof window<"u"&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Hs(){(0,ie._registerComponent)(new _e.wA("messaging",Hl,"PUBLIC")),(0,ie._registerComponent)(new _e.wA("messaging-internal",er,"PRIVATE")),(0,ie.registerVersion)(xa,"0.12.4"),(0,ie.registerVersion)(xa,"0.12.4","esm2017")}();const Jt="analytics",ut="firebase_id",Or="origin",yn=6e4,_t="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xt="https://www.googletagmanager.com/gtag/js",Pr=new le.Yd("@firebase/analytics"),Li=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Na(S){if(!S.startsWith(xt)){const R=Li.create("invalid-gtag-resource",{gtagURL:S});return Pr.warn(R.message),""}return S}function pl(S){return Promise.all(S.map(R=>R.catch(z=>z)))}function ws(){return(ws=(0,W.Z)(function*(S,R,z,ge,Ke,nt){const bt=ge[Ke];try{if(bt)yield R[bt];else{const an=(yield pl(z)).find(Ln=>Ln.measurementId===Ke);an&&(yield R[an.appId])}}catch(dn){Pr.error(dn)}S("config",Ke,nt)})).apply(this,arguments)}function zs(){return(zs=(0,W.Z)(function*(S,R,z,ge,Ke){try{let nt=[];if(Ke&&Ke.send_to){let bt=Ke.send_to;Array.isArray(bt)||(bt=[bt]);const dn=yield pl(z);for(const an of bt){const Ln=dn.find(dr=>dr.measurementId===an),cr=Ln&&R[Ln.appId];if(!cr){nt=[];break}nt.push(cr)}}0===nt.length&&(nt=Object.values(R)),yield Promise.all(nt),S("event",ge,Ke||{})}catch(nt){Pr.error(nt)}})).apply(this,arguments)}const Si=30,Nr=new class bs{constructor(R={},z=1e3){this.throttleMetadata=R,this.intervalMillis=z}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,z){this.throttleMetadata[R]=z}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function nu(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function gn(){return(gn=(0,W.Z)(function*(S){var R;const{appId:z,apiKey:ge}=S,Ke={method:"GET",headers:nu(ge)},nt=_t.replace("{app-id}",z),bt=yield fetch(nt,Ke);if(200!==bt.status&&304!==bt.status){let dn="";try{const an=yield bt.json();null!==(R=an.error)&&void 0!==R&&R.message&&(dn=an.error.message)}catch{}throw Li.create("config-fetch-failed",{httpStatus:bt.status,responseMessage:dn})}return bt.json()})).apply(this,arguments)}function A(){return(A=(0,W.Z)(function*(S,R=Nr,z){const{appId:ge,apiKey:Ke,measurementId:nt}=S.options;if(!ge)throw Li.create("no-app-id");if(!Ke){if(nt)return{measurementId:nt,appId:ge};throw Li.create("no-api-key")}const bt=R.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dn=new pe;return setTimeout((0,W.Z)(function*(){dn.abort()}),void 0!==z?z:yn),O({appId:ge,apiKey:Ke,measurementId:nt},bt,dn,R)})).apply(this,arguments)}function O(S,R,z){return D.apply(this,arguments)}function D(){return D=(0,W.Z)(function*(S,{throttleEndTimeMillis:R,backoffCount:z},ge,Ke=Nr){var nt;const{appId:bt,measurementId:dn}=S;try{yield function k(S,R){return new Promise((z,ge)=>{const Ke=Math.max(R-Date.now(),0),nt=setTimeout(z,Ke);S.addEventListener(()=>{clearTimeout(nt),ge(Li.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(ge,R)}catch(an){if(dn)return Pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dn} provided in the "measurementId" field in the local Firebase config. [${null==an?void 0:an.message}]`),{appId:bt,measurementId:dn};throw an}try{const an=yield function Bi(S){return gn.apply(this,arguments)}(S);return Ke.deleteThrottleMetadata(bt),an}catch(an){const Ln=an;if(!function Q(S){if(!(S instanceof Ee.ZR&&S.customData))return!1;const R=Number(S.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Ln)){if(Ke.deleteThrottleMetadata(bt),dn)return Pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dn} provided in the "measurementId" field in the local Firebase config. [${null==Ln?void 0:Ln.message}]`),{appId:bt,measurementId:dn};throw an}const cr=503===Number(null===(nt=null==Ln?void 0:Ln.customData)||void 0===nt?void 0:nt.httpStatus)?(0,Ee.$s)(z,Ke.intervalMillis,Si):(0,Ee.$s)(z,Ke.intervalMillis),dr={throttleEndTimeMillis:Date.now()+cr,backoffCount:z+1};return Ke.setThrottleMetadata(bt,dr),Pr.debug(`Calling attemptFetch again in ${cr} millis`),O(S,dr,ge,Ke)}}),D.apply(this,arguments)}class pe{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let xe,ks;function Rt(){return(Rt=(0,W.Z)(function*(S,R,z,ge,Ke){if(Ke&&Ke.global)S("event",z,ge);else{const nt=yield R;S("event",z,Object.assign(Object.assign({},ge),{send_to:nt}))}})).apply(this,arguments)}function Ja(){return(Ja=(0,W.Z)(function*(){if(!(0,Ee.hl)())return Pr.warn(Li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(S){return Pr.warn(Li.create("indexeddb-unavailable",{errorInfo:null==S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Fa(){return Fa=(0,W.Z)(function*(S,R,z,ge,Ke,nt,bt){var dn;const an=function w(S){return A.apply(this,arguments)}(S);an.then($r=>{z[$r.measurementId]=$r.appId,S.options.measurementId&&$r.measurementId!==S.options.measurementId&&Pr.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${$r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($r=>Pr.error($r)),R.push(an);const Ln=function Qa(){return Ja.apply(this,arguments)}().then($r=>{if($r)return ge.getId()}),[cr,dr]=yield Promise.all([an,Ln]);(function ml(S){const R=window.document.getElementsByTagName("script");for(const z of Object.values(R))if(z.src&&z.src.includes(xt)&&z.src.includes(S))return z;return null})(nt)||function ql(S,R){const z=function ka(S,R){let z;return window.trustedTypes&&(z=window.trustedTypes.createPolicy(S,R)),z}("firebase-js-sdk-policy",{createScriptURL:Na}),ge=document.createElement("script"),Ke=`${xt}?l=${S}&id=${R}`;ge.src=z?null==z?void 0:z.createScriptURL(Ke):Ke,ge.async=!0,document.head.appendChild(ge)}(nt,cr.measurementId),ks&&(Ke("consent","default",ks),function Fs(S){ks=S}(void 0)),Ke("js",new Date);const Ss=null!==(dn=null==bt?void 0:bt.config)&&void 0!==dn?dn:{};return Ss[Or]="firebase",Ss.update=!0,null!=dr&&(Ss[ut]=dr),Ke("config",cr.measurementId,Ss),xe&&(Ke("set",xe),function ps(S){xe=S}(void 0)),cr.measurementId}),Fa.apply(this,arguments)}class bo{constructor(R){this.app=R}_delete(){return delete co[this.app.options.appId],Promise.resolve()}}let co={},da=[];const ru={};let iu,Co,Vo="dataLayer",Ec=!1;function Kl(S,R,z){!function zd(){const S=[];if((0,Ee.ru)()&&S.push("This is a browser extension environment."),(0,Ee.zI)()||S.push("Cookies are not available."),S.length>0){const R=S.map((ge,Ke)=>`(${Ke+1}) ${ge}`).join(" "),z=Li.create("invalid-analytics-context",{errorInfo:R});Pr.warn(z.message)}}();const ge=S.options.appId;if(!ge)throw Li.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Li.create("no-api-key");Pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=co[ge])throw Li.create("already-exists",{id:ge});if(!Ec){!function Yl(S){let R=[];Array.isArray(window[S])?R=window[S]:window[S]=R}(Vo);const{wrappedGtag:nt,gtagCore:bt}=function Ia(S,R,z,ge,Ke){let nt=function(...bt){window[ge].push(arguments)};return window[Ke]&&"function"==typeof window[Ke]&&(nt=window[Ke]),window[Ke]=function Gn(S,R,z,ge){function nt(){return nt=(0,W.Z)(function*(bt,...dn){try{if("event"===bt){const[an,Ln]=dn;yield function gl(S,R,z,ge,Ke){return zs.apply(this,arguments)}(S,R,z,an,Ln)}else if("config"===bt){const[an,Ln]=dn;yield function wo(S,R,z,ge,Ke,nt){return ws.apply(this,arguments)}(S,R,z,ge,an,Ln)}else if("consent"===bt){const[an]=dn;S("consent","update",an)}else if("get"===bt){const[an,Ln,cr]=dn;S("get",an,Ln,cr)}else if("set"===bt){const[an]=dn;S("set",an)}else S(bt,...dn)}catch(an){Pr.error(an)}}),nt.apply(this,arguments)}return function Ke(bt){return nt.apply(this,arguments)}}(nt,S,R,z),{gtagCore:nt,wrappedGtag:window[Ke]}}(co,da,ru,Vo,"gtag");Co=nt,iu=bt,Ec=!0}return co[ge]=function Ic(S,R,z,ge,Ke,nt,bt){return Fa.apply(this,arguments)}(S,da,ru,R,iu,Vo,z),new bo(S)}function el(){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,W.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}const Cc="@firebase/analytics";!function lu(){(0,ie._registerComponent)(new _e.wA(Jt,(R,{options:z})=>Kl(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,ie._registerComponent)(new _e.wA("analytics-internal",function S(R){try{const z=R.getProvider(Jt).getImmediate();return{logEvent:(ge,Ke,nt)=>function yl(S,R,z,ge){S=(0,Ee.m9)(S),function St(S,R,z,ge,Ke){return Rt.apply(this,arguments)}(Co,co[S.app.options.appId],R,z,ge).catch(Ke=>Pr.error(Ke))}(z,ge,Ke,nt)}}catch(z){throw Li.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,ie.registerVersion)(Cc,"0.10.0"),(0,ie.registerVersion)(Cc,"0.10.0","esm2017")}();var Tc=L(1954),Gu=L(2631);const To=new class Il extends Gu.v{}(class cu extends Tc.o{constructor(R,z){super(R,z),this.scheduler=R,this.work=z}schedule(R,z=0){return z>0?super.schedule(R,z):(this.delay=z,this.state=R,this.scheduler.flush(this),this)}execute(R,z){return z>0||this.closed?super.execute(R,z):this._execute(R,z)}requestAsyncId(R,z,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(R,z,ge):(R.flush(this),0)}});var Cs=L(6321),La=L(9397),vi=L(5137),Ba=L(3093);const yo=new m.GfV("7.6.1"),Xr="__angularfire_symbol__analyticsIsSupportedValue",El="__angularfire_symbol__analyticsIsSupported",Qi="__angularfire_symbol__remoteConfigIsSupportedValue",Zo="__angularfire_symbol__remoteConfigIsSupported",Dl="__angularfire_symbol__messagingIsSupportedValue",wl="__angularfire_symbol__messagingIsSupported";function gs(S,R,z){if(R){if(1===R.length)return R[0];const nt=R.filter(bt=>bt.app===z);if(1===nt.length)return nt[0]}return z.container.getProvider(S).getImmediate({optional:!0})}globalThis[El]||(globalThis[El]=el().then(S=>globalThis[Xr]=S).catch(()=>globalThis[Xr]=!1)),globalThis[wl]||(globalThis[wl]=zl().then(S=>globalThis[Dl]=S).catch(()=>globalThis[Dl]=!1)),globalThis[Zo]||(globalThis[Zo]=Rs().then(S=>globalThis[Qi]=S).catch(()=>globalThis[Qi]=!1));const Ea=(S,R)=>{const z=R?[R]:(0,v.C6)(),ge=[];return z.forEach(Ke=>{Ke.container.getProvider(S).instances.forEach(bt=>{ge.includes(bt)||ge.push(bt)})}),ge};function Ls(){}class $a{constructor(R,z=To){this.zone=R,this.delegate=z}now(){return this.delegate.now()}schedule(R,z,ge){const Ke=this.zone;return this.delegate.schedule(function(bt){Ke.runGuarded(()=>{R.apply(this,[bt])})},z,ge)}}class bl{constructor(R){this.zone=R,this.task=null}call(R,z){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls)),z.pipe((0,La.b)({next:ge,complete:ge,error:ge})).subscribe(R).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Va=(()=>{class S{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new $a(Zone.current)),this.insideAngular=z.run(()=>new $a(Zone.current,Cs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(z){return new(z||S)(m.LFG(m.R0b))},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function ms(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function ja(S){return ms(),function Wd(S){return function(z){return(z=z.lift(new bl(S.ngZone))).pipe((0,vi.R)(S.outsideAngular),(0,Ba.Q)(S.insideAngular))}}(ms())(S)}},9058:(Wt,Qe,L)=>{"use strict";L.d(Qe,{$s:()=>Hr,BH:()=>Ae,G6:()=>lt,L:()=>Ne,LL:()=>qe,Pz:()=>fe,Sg:()=>Be,UG:()=>ke,US:()=>_e,ZB:()=>be,ZR:()=>Xe,aH:()=>Ze,b$:()=>st,eu:()=>de,hl:()=>se,jU:()=>$e,m9:()=>nr,ne:()=>or,pd:()=>rn,r3:()=>cn,ru:()=>it,tV:()=>me,uI:()=>De,vZ:()=>Dn,w1:()=>Ht,xO:()=>hr,xb:()=>Pn,z$:()=>ve,zI:()=>Me,zd:()=>Ir});const ie=function(Pe){const Z=[];let Y=0;for(let Ce=0;Ce<Pe.length;Ce++){let X=Pe.charCodeAt(Ce);X<128?Z[Y++]=X:X<2048?(Z[Y++]=X>>6|192,Z[Y++]=63&X|128):55296==(64512&X)&&Ce+1<Pe.length&&56320==(64512&Pe.charCodeAt(Ce+1))?(X=65536+((1023&X)<<10)+(1023&Pe.charCodeAt(++Ce)),Z[Y++]=X>>18|240,Z[Y++]=X>>12&63|128,Z[Y++]=X>>6&63|128,Z[Y++]=63&X|128):(Z[Y++]=X>>12|224,Z[Y++]=X>>6&63|128,Z[Y++]=63&X|128)}return Z},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Pe,Z){if(!Array.isArray(Pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let X=0;X<Pe.length;X+=3){const ze=Pe[X],yt=X+1<Pe.length,Lt=yt?Pe[X+1]:0,sn=X+2<Pe.length,hn=sn?Pe[X+2]:0;let vr=(15&Lt)<<2|hn>>6,Mr=63&hn;sn||(Mr=64,yt||(vr=64)),Ce.push(Y[ze>>2],Y[(3&ze)<<4|Lt>>4],Y[vr],Y[Mr])}return Ce.join("")},encodeString(Pe,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(Pe):this.encodeByteArray(ie(Pe),Z)},decodeString(Pe,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(Pe):function(Pe){const Z=[];let Y=0,Ce=0;for(;Y<Pe.length;){const X=Pe[Y++];if(X<128)Z[Ce++]=String.fromCharCode(X);else if(X>191&&X<224){const ze=Pe[Y++];Z[Ce++]=String.fromCharCode((31&X)<<6|63&ze)}else if(X>239&&X<365){const sn=((7&X)<<18|(63&Pe[Y++])<<12|(63&Pe[Y++])<<6|63&Pe[Y++])-65536;Z[Ce++]=String.fromCharCode(55296+(sn>>10)),Z[Ce++]=String.fromCharCode(56320+(1023&sn))}else{const ze=Pe[Y++],yt=Pe[Y++];Z[Ce++]=String.fromCharCode((15&X)<<12|(63&ze)<<6|63&yt)}}return Z.join("")}(this.decodeStringToByteArray(Pe,Z))},decodeStringToByteArray(Pe,Z){this.init_();const Y=Z?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let X=0;X<Pe.length;){const ze=Y[Pe.charAt(X++)],Lt=X<Pe.length?Y[Pe.charAt(X)]:0;++X;const hn=X<Pe.length?Y[Pe.charAt(X)]:64;++X;const Sn=X<Pe.length?Y[Pe.charAt(X)]:64;if(++X,null==ze||null==Lt||null==hn||null==Sn)throw new le;Ce.push(ze<<2|Lt>>4),64!==hn&&(Ce.push(Lt<<4&240|hn>>2),64!==Sn&&Ce.push(hn<<6&192|Sn))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Pe=0;Pe<this.ENCODED_VALS.length;Pe++)this.byteToCharMap_[Pe]=this.ENCODED_VALS.charAt(Pe),this.charToByteMap_[this.byteToCharMap_[Pe]]=Pe,this.byteToCharMapWebSafe_[Pe]=this.ENCODED_VALS_WEBSAFE.charAt(Pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pe]]=Pe,Pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pe)]=Pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pe)]=Pe)}}};class le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ne=function(Pe){return function(Pe){const Z=ie(Pe);return _e.encodeByteArray(Z,!0)}(Pe).replace(/\./g,"")},me=function(Pe){try{return _e.decodeString(Pe,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function be(Pe,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===Pe&&(Pe={});break;case Array:Pe=[];break;default:return Z}for(const Y in Z)!Z.hasOwnProperty(Y)||!ue(Y)||(Pe[Y]=be(Pe[Y],Z[Y]));return Pe}function ue(Pe){return"__proto__"!==Pe}const Ie=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Pe=process.env.__FIREBASE_DEFAULTS__;return Pe?JSON.parse(Pe):void 0})()||(()=>{if(typeof document>"u")return;let Pe;try{Pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Z=Pe&&me(Pe[1]);return Z&&JSON.parse(Z)})()}catch(Pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Pe}`)}},Ze=()=>{var Pe;return null===(Pe=Ie())||void 0===Pe?void 0:Pe.config},fe=Pe=>{var Z;return null===(Z=Ie())||void 0===Z?void 0:Z[`_${Pe}`]};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,Y)=>{this.resolve=Z,this.reject=Y})}wrapCallback(Z){return(Y,Ce)=>{Y?this.reject(Y):this.resolve(Ce),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(Y):Z(Y,Ce))}}}function Be(Pe,Z){if(Pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=Z||"demo-project",X=Pe.iat||0,ze=Pe.sub||Pe.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:X,exp:X+3600,auth_time:X,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},Pe);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(yt)),""].join(".")}function ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function ke(){var Pe;const Z=null===(Pe=Ie())||void 0===Pe?void 0:Pe.forceEnvironment;if("node"===Z)return!0;if("browser"===Z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function it(){const Pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pe&&void 0!==Pe.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ht(){const Pe=ve();return Pe.indexOf("MSIE ")>=0||Pe.indexOf("Trident/")>=0}function lt(){return!ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function de(){return new Promise((Pe,Z)=>{try{let Y=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(Ce);X.onsuccess=()=>{X.result.close(),Y||self.indexedDB.deleteDatabase(Ce),Pe(!0)},X.onupgradeneeded=()=>{Y=!1},X.onerror=()=>{var ze;Z((null===(ze=X.error)||void 0===ze?void 0:ze.message)||"")}}catch(Y){Z(Y)}})}function Me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xe extends Error{constructor(Z,Y,Ce){super(Y),this.code=Z,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(Z,Y,Ce){this.service=Z,this.serviceName=Y,this.errors=Ce}create(Z,...Y){const Ce=Y[0]||{},X=`${this.service}/${Z}`,ze=this.errors[Z],yt=ze?function Bt(Pe,Z){return Pe.replace(Ct,(Y,Ce)=>{const X=Z[Ce];return null!=X?String(X):`<${Ce}?>`})}(ze,Ce):"Error";return new Xe(X,`${this.serviceName}: ${yt} (${X}).`,Ce)}}const Ct=/\{\$([^}]+)}/g;function cn(Pe,Z){return Object.prototype.hasOwnProperty.call(Pe,Z)}function Pn(Pe){for(const Z in Pe)if(Object.prototype.hasOwnProperty.call(Pe,Z))return!1;return!0}function Dn(Pe,Z){if(Pe===Z)return!0;const Y=Object.keys(Pe),Ce=Object.keys(Z);for(const X of Y){if(!Ce.includes(X))return!1;const ze=Pe[X],yt=Z[X];if(Vn(ze)&&Vn(yt)){if(!Dn(ze,yt))return!1}else if(ze!==yt)return!1}for(const X of Ce)if(!Y.includes(X))return!1;return!0}function Vn(Pe){return null!==Pe&&"object"==typeof Pe}function hr(Pe){const Z=[];for(const[Y,Ce]of Object.entries(Pe))Array.isArray(Ce)?Ce.forEach(X=>{Z.push(encodeURIComponent(Y)+"="+encodeURIComponent(X))}):Z.push(encodeURIComponent(Y)+"="+encodeURIComponent(Ce));return Z.length?"&"+Z.join("&"):""}function Ir(Pe){const Z={};return Pe.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[X,ze]=Ce.split("=");Z[decodeURIComponent(X)]=decodeURIComponent(ze)}}),Z}function rn(Pe){const Z=Pe.indexOf("?");if(!Z)return"";const Y=Pe.indexOf("#",Z);return Pe.substring(Z,Y>0?Y:void 0)}function or(Pe,Z){const Y=new un(Pe,Z);return Y.subscribe.bind(Y)}class un{constructor(Z,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{Z(this)}).catch(Ce=>{this.error(Ce)})}next(Z){this.forEachObserver(Y=>{Y.next(Z)})}error(Z){this.forEachObserver(Y=>{Y.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,Y,Ce){let X;if(void 0===Z&&void 0===Y&&void 0===Ce)throw new Error("Missing Observer.");X=function Er(Pe,Z){if("object"!=typeof Pe||null===Pe)return!1;for(const Y of Z)if(Y in Pe&&"function"==typeof Pe[Y])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:Y,complete:Ce},void 0===X.next&&(X.next=Xt),void 0===X.error&&(X.error=Xt),void 0===X.complete&&(X.complete=Xt);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),ze}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,Z)}sendOne(Z,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{Y(this.observers[Z])}catch(Ce){typeof console<"u"&&console.error&&console.error(Ce)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xt(){}const Ii=1e3,qr=2,kr=144e5,Ar=.5;function Hr(Pe,Z=Ii,Y=qr){const Ce=Z*Math.pow(Y,Pe),X=Math.round(Ar*Ce*(Math.random()-.5)*2);return Math.min(kr,Ce+X)}function nr(Pe){return Pe&&Pe._delegate?Pe._delegate:Pe}},6506:(Wt,Qe,L)=>{"use strict";L.d(Qe,{c:()=>ot});var m=L(7643),v=L(544);let W;const Ee=we=>we.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_e=we=>(void 0===W&&(W=void 0===we.style.animationName&&void 0!==we.style.webkitAnimationName?"-webkit-":""),W),le=(we,Ie,ce)=>{const ft=Ie.startsWith("animation")?_e(we):"";we.style.setProperty(ft+Ie,ce)},Ue=(we,Ie)=>{const ce=Ie.startsWith("animation")?_e(we):"";we.style.removeProperty(ce+Ie)},ee=[],je=(we=[],Ie)=>{if(void 0!==Ie){const ce=Array.isArray(Ie)?Ie:[Ie];return[...we,...ce]}return we},ot=we=>{let Ie,ce,ft,Ze,fe,Ae,$e,se,de,Me,Ge,Ct,ct,Be=[],ve=[],De=[],ke=!1,it={},st=[],pt=[],Ht={},xn=0,qt=!1,lt=!1,Xe=!0,qe=!1,Bt=!0,ht=!1;const Oe=we,It=[],Dt=[],$t=[],mn=[],cn=[],En=[],Pn=[],On=[],Dn=[],Vn=[],Br="function"==typeof AnimationEffect||void 0!==m.w&&"function"==typeof m.w.AnimationEffect,hr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Br,rn=()=>Vn,Er=(ne,Se)=>((null!=Se&&Se.oneTimeCallback?Dt:It).push({c:ne,o:Se}),ct),Ur=()=>{if(hr)Vn.forEach(ne=>{ne.cancel()}),Vn.length=0;else{const ne=$t.slice();(0,v.r)(()=>{ne.forEach(Se=>{Ue(Se,"animation-name"),Ue(Se,"animation-duration"),Ue(Se,"animation-timing-function"),Ue(Se,"animation-iteration-count"),Ue(Se,"animation-delay"),Ue(Se,"animation-play-state"),Ue(Se,"animation-fill-mode"),Ue(Se,"animation-direction")})})}},Mt=()=>{cn.forEach(ne=>{null!=ne&&ne.parentNode&&ne.parentNode.removeChild(ne)}),cn.length=0},Cr=()=>void 0!==fe?fe:$e?$e.getFill():"both",nr=()=>void 0!==de?de:void 0!==Ae?Ae:$e?$e.getDirection():"normal",Pe=()=>qt?"linear":void 0!==ft?ft:$e?$e.getEasing():"linear",Z=()=>lt?0:void 0!==Me?Me:void 0!==ce?ce:$e?$e.getDuration():0,Y=()=>void 0!==Ze?Ze:$e?$e.getIterations():1,Ce=()=>void 0!==Ge?Ge:void 0!==Ie?Ie:$e?$e.getDelay():0,Ft=()=>{0!==xn&&(xn--,0===xn&&((()=>{Oi(),On.forEach(mt=>mt()),Dn.forEach(mt=>mt());const ne=Xe?1:0,Se=st,Ye=pt,Je=Ht;$t.forEach(mt=>{const At=mt.classList;Se.forEach(Pt=>At.add(Pt)),Ye.forEach(Pt=>At.remove(Pt));for(const Pt in Je)Je.hasOwnProperty(Pt)&&le(mt,Pt,Je[Pt])}),It.forEach(mt=>mt.c(ne,ct)),Dt.forEach(mt=>mt.c(ne,ct)),Dt.length=0,Bt=!0,Xe&&(qe=!0),Xe=!0})(),$e&&$e.animationFinish()))},pn=(ne=!0)=>{Mt();const Se=(we=>(we.forEach(Ie=>{for(const ce in Ie)if(Ie.hasOwnProperty(ce)){const ft=Ie[ce];if("easing"===ce)Ie["animation-timing-function"]=ft,delete Ie[ce];else{const Ze=Ee(ce);Ze!==ce&&(Ie[Ze]=ft,delete Ie[ce])}}}),we))(Be);$t.forEach(Ye=>{if(Se.length>0){const Je=((we=[])=>we.map(Ie=>{const ce=Ie.offset,ft=[];for(const Ze in Ie)Ie.hasOwnProperty(Ze)&&"offset"!==Ze&&ft.push(`${Ze}: ${Ie[Ze]};`);return`${100*ce}% { ${ft.join(" ")} }`}).join(" "))(Se);Ct=void 0!==we?we:(we=>{let Ie=ee.indexOf(we);return Ie<0&&(Ie=ee.push(we)-1),`ion-animation-${Ie}`})(Je);const mt=((we,Ie,ce)=>{var ft;const Ze=(we=>{const Ie=void 0!==we.getRootNode?we.getRootNode():we;return Ie.head||Ie})(ce),fe=_e(ce),Ae=Ze.querySelector("#"+we);if(Ae)return Ae;const Be=(null!==(ft=ce.ownerDocument)&&void 0!==ft?ft:document).createElement("style");return Be.id=we,Be.textContent=`@${fe}keyframes ${we} { ${Ie} } @${fe}keyframes ${we}-alt { ${Ie} }`,Ze.appendChild(Be),Be})(Ct,Je,Ye);cn.push(mt),le(Ye,"animation-duration",`${Z()}ms`),le(Ye,"animation-timing-function",Pe()),le(Ye,"animation-delay",`${Ce()}ms`),le(Ye,"animation-fill-mode",Cr()),le(Ye,"animation-direction",nr());const At=Y()===1/0?"infinite":Y().toString();le(Ye,"animation-iteration-count",At),le(Ye,"animation-play-state","paused"),ne&&le(Ye,"animation-name",`${mt.id}-alt`),(0,v.r)(()=>{le(Ye,"animation-name",mt.id||null)})}})},Qt=(ne=!0)=>{(()=>{En.forEach(Je=>Je()),Pn.forEach(Je=>Je());const ne=ve,Se=De,Ye=it;$t.forEach(Je=>{const mt=Je.classList;ne.forEach(At=>mt.add(At)),Se.forEach(At=>mt.remove(At));for(const At in Ye)Ye.hasOwnProperty(At)&&le(Je,At,Ye[At])})})(),Be.length>0&&(hr?($t.forEach(ne=>{const Se=ne.animate(Be,{id:Oe,delay:Ce(),duration:Z(),easing:Pe(),iterations:Y(),fill:Cr(),direction:nr()});Se.pause(),Vn.push(Se)}),Vn.length>0&&(Vn[0].onfinish=()=>{Ft()})):pn(ne)),ke=!0},Yn=ne=>{if(ne=Math.min(Math.max(ne,0),.9999),hr)Vn.forEach(Se=>{Se.currentTime=Se.effect.getComputedTiming().delay+Z()*ne,Se.pause()});else{const Se=`-${Z()*ne}ms`;$t.forEach(Ye=>{Be.length>0&&(le(Ye,"animation-delay",Se),le(Ye,"animation-play-state","paused"))})}},Dr=ne=>{Vn.forEach(Se=>{Se.effect.updateTiming({delay:Ce(),duration:Z(),easing:Pe(),iterations:Y(),fill:Cr(),direction:nr()})}),void 0!==ne&&Yn(ne)},Tr=(ne=!0,Se)=>{(0,v.r)(()=>{$t.forEach(Ye=>{le(Ye,"animation-name",Ct||null),le(Ye,"animation-duration",`${Z()}ms`),le(Ye,"animation-timing-function",Pe()),le(Ye,"animation-delay",void 0!==Se?`-${Se*Z()}ms`:`${Ce()}ms`),le(Ye,"animation-fill-mode",Cr()||null),le(Ye,"animation-direction",nr()||null);const Je=Y()===1/0?"infinite":Y().toString();le(Ye,"animation-iteration-count",Je),ne&&le(Ye,"animation-name",`${Ct}-alt`),(0,v.r)(()=>{le(Ye,"animation-name",Ct||null)})})})},ur=(ne=!1,Se=!0,Ye)=>(ne&&mn.forEach(Je=>{Je.update(ne,Se,Ye)}),hr?Dr(Ye):Tr(Se,Ye),ct),xo=()=>{ke&&(hr?Vn.forEach(ne=>{ne.pause()}):$t.forEach(ne=>{le(ne,"animation-play-state","paused")}),ht=!0)},li=()=>{se=void 0,Ft()},Oi=()=>{se&&clearTimeout(se)},pi=ne=>new Promise(Se=>{null!=ne&&ne.sync&&(lt=!0,Er(()=>lt=!1,{oneTimeCallback:!0})),ke||Qt(),qe&&(hr?(Yn(0),Dr()):Tr(),qe=!1),Bt&&(xn=mn.length+1,Bt=!1),Er(()=>Se(),{oneTimeCallback:!0}),mn.forEach(Ye=>{Ye.play()}),hr?(Vn.forEach(ne=>{ne.play()}),(0===Be.length||0===$t.length)&&Ft()):(()=>{if(Oi(),(0,v.r)(()=>{$t.forEach(ne=>{Be.length>0&&le(ne,"animation-play-state","running")})}),0===Be.length||0===$t.length)Ft();else{const ne=Ce()||0,Se=Z()||0,Ye=Y()||1;isFinite(Ye)&&(se=setTimeout(li,ne+Se*Ye+100)),((we,Ie)=>{let ce;const ft={passive:!0},fe=Ae=>{we===Ae.target&&(ce&&ce(),Oi(),(0,v.r)(()=>{$t.forEach(ne=>{Ue(ne,"animation-duration"),Ue(ne,"animation-delay"),Ue(ne,"animation-play-state")}),(0,v.r)(Ft)}))};we&&(we.addEventListener("webkitAnimationEnd",fe,ft),we.addEventListener("animationend",fe,ft),ce=()=>{we.removeEventListener("webkitAnimationEnd",fe,ft),we.removeEventListener("animationend",fe,ft)})})($t[0])}})(),ht=!1}),io=(ne,Se)=>{const Ye=Be[0];return void 0===Ye||void 0!==Ye.offset&&0!==Ye.offset?Be=[{offset:0,[ne]:Se},...Be]:Ye[ne]=Se,ct};return ct={parentAnimation:$e,elements:$t,childAnimations:mn,id:Oe,animationFinish:Ft,from:io,to:(ne,Se)=>{const Ye=Be[Be.length-1];return void 0===Ye||void 0!==Ye.offset&&1!==Ye.offset?Be=[...Be,{offset:1,[ne]:Se}]:Ye[ne]=Se,ct},fromTo:(ne,Se,Ye)=>io(ne,Se).to(ne,Ye),parent:ne=>($e=ne,ct),play:pi,pause:()=>(mn.forEach(ne=>{ne.pause()}),xo(),ct),stop:()=>{mn.forEach(ne=>{ne.stop()}),ke&&(Ur(),ke=!1),qt=!1,lt=!1,Bt=!0,de=void 0,Me=void 0,Ge=void 0,xn=0,qe=!1,Xe=!0,ht=!1},destroy:ne=>(mn.forEach(Se=>{Se.destroy(ne)}),(ne=>{Ur(),ne&&Mt()})(ne),$t.length=0,mn.length=0,Be.length=0,It.length=0,Dt.length=0,ke=!1,Bt=!0,ct),keyframes:ne=>{const Se=Be!==ne;return Be=ne,Se&&(ne=>{hr?rn().forEach(Se=>{if(Se.effect.setKeyframes)Se.effect.setKeyframes(ne);else{const Ye=new KeyframeEffect(Se.effect.target,ne,Se.effect.getTiming());Se.effect=Ye}}):pn()})(Be),ct},addAnimation:ne=>{if(null!=ne)if(Array.isArray(ne))for(const Se of ne)Se.parent(ct),mn.push(Se);else ne.parent(ct),mn.push(ne);return ct},addElement:ne=>{if(null!=ne)if(1===ne.nodeType)$t.push(ne);else if(ne.length>=0)for(let Se=0;Se<ne.length;Se++)$t.push(ne[Se]);else console.error("Invalid addElement value");return ct},update:ur,fill:ne=>(fe=ne,ur(!0),ct),direction:ne=>(Ae=ne,ur(!0),ct),iterations:ne=>(Ze=ne,ur(!0),ct),duration:ne=>(!hr&&0===ne&&(ne=1),ce=ne,ur(!0),ct),easing:ne=>(ft=ne,ur(!0),ct),delay:ne=>(Ie=ne,ur(!0),ct),getWebAnimations:rn,getKeyframes:()=>Be,getFill:Cr,getDirection:nr,getDelay:Ce,getIterations:Y,getEasing:Pe,getDuration:Z,afterAddRead:ne=>(On.push(ne),ct),afterAddWrite:ne=>(Dn.push(ne),ct),afterClearStyles:(ne=[])=>{for(const Se of ne)Ht[Se]="";return ct},afterStyles:(ne={})=>(Ht=ne,ct),afterRemoveClass:ne=>(pt=je(pt,ne),ct),afterAddClass:ne=>(st=je(st,ne),ct),beforeAddRead:ne=>(En.push(ne),ct),beforeAddWrite:ne=>(Pn.push(ne),ct),beforeClearStyles:(ne=[])=>{for(const Se of ne)it[Se]="";return ct},beforeStyles:(ne={})=>(it=ne,ct),beforeRemoveClass:ne=>(De=je(De,ne),ct),beforeAddClass:ne=>(ve=je(ve,ne),ct),onFinish:Er,isRunning:()=>0!==xn&&!ht,progressStart:(ne=!1,Se)=>(mn.forEach(Ye=>{Ye.progressStart(ne,Se)}),xo(),qt=ne,ke||Qt(),ur(!1,!0,Se),ct),progressStep:ne=>(mn.forEach(Se=>{Se.progressStep(ne)}),Yn(ne),ct),progressEnd:(ne,Se,Ye)=>(qt=!1,mn.forEach(Je=>{Je.progressEnd(ne,Se,Ye)}),void 0!==Ye&&(Me=Ye),qe=!1,Xe=!0,0===ne?(de="reverse"===nr()?"normal":"reverse","reverse"===de&&(Xe=!1),hr?(ur(),Yn(1-Se)):(Ge=(1-Se)*Z()*-1,ur(!1,!1))):1===ne&&(hr?(ur(),Yn(Se)):(Ge=Se*Z()*-1,ur(!1,!1))),void 0!==ne&&(Er(()=>{Me=void 0,de=void 0,Ge=void 0},{oneTimeCallback:!0}),$e||pi()),ct)}}},1273:(Wt,Qe,L)=>{"use strict";L.d(Qe,{E:()=>me,a:()=>m,s:()=>Ue});const m=ee=>{try{if(ee instanceof le)return ee.value;if(!ie()||"string"!=typeof ee||""===ee)return ee;if(ee.includes("onload="))return"";const be=document.createDocumentFragment(),ue=document.createElement("div");be.appendChild(ue),ue.innerHTML=ee,_e.forEach(we=>{const Ie=be.querySelectorAll(we);for(let ce=Ie.length-1;ce>=0;ce--){const ft=Ie[ce];ft.parentNode?ft.parentNode.removeChild(ft):be.removeChild(ft);const Ze=W(ft);for(let fe=0;fe<Ze.length;fe++)v(Ze[fe])}});const Te=W(be);for(let we=0;we<Te.length;we++)v(Te[we]);const je=document.createElement("div");je.appendChild(be);const ot=je.querySelector("div");return null!==ot?ot.innerHTML:je.innerHTML}catch(be){return console.error(be),""}},v=ee=>{if(ee.nodeType&&1!==ee.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ee.attributes instanceof NamedNodeMap))return void ee.remove();for(let ue=ee.attributes.length-1;ue>=0;ue--){const Te=ee.attributes.item(ue),je=Te.name;if(!Ee.includes(je.toLowerCase())){ee.removeAttribute(je);continue}const ot=Te.value,we=ee[je];(null!=ot&&ot.toLowerCase().includes("javascript:")||null!=we&&we.toLowerCase().includes("javascript:"))&&ee.removeAttribute(je)}const be=W(ee);for(let ue=0;ue<be.length;ue++)v(be[ue])},W=ee=>null!=ee.children?ee.children:ee.childNodes,ie=()=>{var ee;const be=window,ue=null===(ee=null==be?void 0:be.Ionic)||void 0===ee?void 0:ee.config;return!ue||(ue.get?ue.get("sanitizerEnabled",!0):!0===ue.sanitizerEnabled||void 0===ue.sanitizerEnabled)},Ee=["class","id","href","src","name","slot"],_e=["script","style","iframe","meta","link","object","embed"];class le{constructor(be){this.value=be}}const Ue=ee=>{const be=window,ue=be.Ionic;if(!ue||!ue.config||"Object"===ue.config.constructor.name)return be.Ionic=be.Ionic||{},be.Ionic.config=Object.assign(Object.assign({},be.Ionic.config),ee),be.Ionic.config},me=!1},9439:(Wt,Qe,L)=>{"use strict";L.d(Qe,{C:()=>Ee,a:()=>W,d:()=>ie});var m=L(5861),v=L(544);const W=function(){var _e=(0,m.Z)(function*(le,Ue,Ne,me,ee,be){var ue;if(le)return le.attachViewToDom(Ue,Ne,ee,me);if(!(be||"string"==typeof Ne||Ne instanceof HTMLElement))throw new Error("framework delegate is missing");const Te="string"==typeof Ne?null===(ue=Ue.ownerDocument)||void 0===ue?void 0:ue.createElement(Ne):Ne;return me&&me.forEach(je=>Te.classList.add(je)),ee&&Object.assign(Te,ee),Ue.appendChild(Te),yield new Promise(je=>(0,v.c)(Te,je)),Te});return function(Ue,Ne,me,ee,be,ue){return _e.apply(this,arguments)}}(),ie=(_e,le)=>{if(le){if(_e)return _e.removeViewFromDom(le.parentElement,le);le.remove()}return Promise.resolve()},Ee=()=>{let _e,le;return{attachViewToDom:function(){var me=(0,m.Z)(function*(ee,be,ue={},Te=[]){var je,ot;if(_e=ee,be){const Ie="string"==typeof be?null===(je=_e.ownerDocument)||void 0===je?void 0:je.createElement(be):be;Te.forEach(ce=>Ie.classList.add(ce)),Object.assign(Ie,ue),_e.appendChild(Ie),yield new Promise(ce=>(0,v.c)(Ie,ce))}else if(_e.children.length>0&&("ION-MODAL"===_e.tagName||"ION-POPOVER"===_e.tagName)&&!_e.children[0].classList.contains("ion-delegate-host")){const ce=null===(ot=_e.ownerDocument)||void 0===ot?void 0:ot.createElement("div");ce.classList.add("ion-delegate-host"),Te.forEach(ft=>ce.classList.add(ft)),ce.append(..._e.children),_e.appendChild(ce)}const we=document.querySelector("ion-app")||document.body;return le=document.createComment("ionic teleport"),_e.parentNode.insertBefore(le,_e),we.appendChild(_e),_e});return function(be,ue){return me.apply(this,arguments)}}(),removeViewFromDom:()=>(_e&&le&&(le.parentNode.insertBefore(_e,le),le.remove()),Promise.resolve())}}},4587:(Wt,Qe,L)=>{"use strict";L.d(Qe,{G:()=>Ee});class v{constructor(le,Ue,Ne,me,ee){this.id=Ue,this.name=Ne,this.disableScroll=ee,this.priority=1e6*me+Ue,this.ctrl=le}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const le=this.ctrl.capture(this.name,this.id,this.priority);return le&&this.disableScroll&&this.ctrl.disableScroll(this.id),le}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class W{constructor(le,Ue,Ne,me){this.id=Ue,this.disable=Ne,this.disableScroll=me,this.ctrl=le}block(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.disableGesture(le,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.enableGesture(le,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ie="backdrop-no-scroll",Ee=new class m{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(le){var Ue;return new v(this,this.newID(),le.name,null!==(Ue=le.priority)&&void 0!==Ue?Ue:0,!!le.disableScroll)}createBlocker(le={}){return new W(this,this.newID(),le.disable,!!le.disableScroll)}start(le,Ue,Ne){return this.canStart(le)?(this.requestedStart.set(Ue,Ne),!0):(this.requestedStart.delete(Ue),!1)}capture(le,Ue,Ne){if(!this.start(le,Ue,Ne))return!1;const me=this.requestedStart;let ee=-1e4;if(me.forEach(be=>{ee=Math.max(ee,be)}),ee===Ne){this.capturedId=Ue,me.clear();const be=new CustomEvent("ionGestureCaptured",{detail:{gestureName:le}});return document.dispatchEvent(be),!0}return me.delete(Ue),!1}release(le){this.requestedStart.delete(le),this.capturedId===le&&(this.capturedId=void 0)}disableGesture(le,Ue){let Ne=this.disabledGestures.get(le);void 0===Ne&&(Ne=new Set,this.disabledGestures.set(le,Ne)),Ne.add(Ue)}enableGesture(le,Ue){const Ne=this.disabledGestures.get(le);void 0!==Ne&&Ne.delete(Ue)}disableScroll(le){this.disabledScroll.add(le),1===this.disabledScroll.size&&document.body.classList.add(ie)}enableScroll(le){this.disabledScroll.delete(le),0===this.disabledScroll.size&&document.body.classList.remove(ie)}canStart(le){return!(void 0!==this.capturedId||this.isDisabled(le))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(le){const Ue=this.disabledGestures.get(le);return!!(Ue&&Ue.size>0)}newID(){return this.gestureId++,this.gestureId}}},5421:(Wt,Qe,L)=>{"use strict";L.r(Qe),L.d(Qe,{MENU_BACK_BUTTON_PRIORITY:()=>Ee,OVERLAY_BACK_BUTTON_PRIORITY:()=>ie,blockHardwareBackButton:()=>v,startHardwareBackButton:()=>W});var m=L(5861);const v=()=>{document.addEventListener("backbutton",()=>{})},W=()=>{const _e=document;let le=!1;_e.addEventListener("backbutton",()=>{if(le)return;let Ue=0,Ne=[];const me=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ue,Te){Ne.push({priority:ue,handler:Te,id:Ue++})}}});_e.dispatchEvent(me);const ee=function(){var ue=(0,m.Z)(function*(Te){try{if(null!=Te&&Te.handler){const je=Te.handler(be);null!=je&&(yield je)}}catch(je){console.error(je)}});return function(je){return ue.apply(this,arguments)}}(),be=()=>{if(Ne.length>0){let ue={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ne.forEach(Te=>{Te.priority>=ue.priority&&(ue=Te)}),le=!0,Ne=Ne.filter(Te=>Te.id!==ue.id),ee(ue).then(()=>le=!1)}};be()})},ie=100,Ee=99},544:(Wt,Qe,L)=>{"use strict";L.d(Qe,{a:()=>Ue,b:()=>Ne,c:()=>W,d:()=>ot,e:()=>je,f:()=>Te,g:()=>me,h:()=>ue,i:()=>le,j:()=>fe,k:()=>Ee,l:()=>we,m:()=>ie,n:()=>be,o:()=>Ie,p:()=>Ze,q:()=>Ae,r:()=>ee,s:()=>Be,t:()=>m,u:()=>ce,v:()=>ft});const m=(ve,De=0)=>new Promise(ke=>{v(ve,De,ke)}),v=(ve,De=0,ke)=>{let $e,it;const st={passive:!0},Ht=()=>{$e&&$e()},xn=qt=>{(void 0===qt||ve===qt.target)&&(Ht(),ke(qt))};return ve&&(ve.addEventListener("webkitTransitionEnd",xn,st),ve.addEventListener("transitionend",xn,st),it=setTimeout(xn,De+500),$e=()=>{it&&(clearTimeout(it),it=void 0),ve.removeEventListener("webkitTransitionEnd",xn,st),ve.removeEventListener("transitionend",xn,st)}),Ht},W=(ve,De)=>{ve.componentOnReady?ve.componentOnReady().then(ke=>De(ke)):ee(()=>De(ve))},ie=ve=>void 0!==ve.componentOnReady,Ee=(ve,De=[])=>{const ke={};return De.forEach($e=>{ve.hasAttribute($e)&&(null!==ve.getAttribute($e)&&(ke[$e]=ve.getAttribute($e)),ve.removeAttribute($e))}),ke},_e=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],le=(ve,De)=>{let ke=_e;return De&&De.length>0&&(ke=ke.filter($e=>!De.includes($e))),Ee(ve,ke)},Ue=(ve,De,ke,$e)=>{var it;if(typeof window<"u"){const st=window,pt=null===(it=null==st?void 0:st.Ionic)||void 0===it?void 0:it.config;if(pt){const Ht=pt.get("_ael");if(Ht)return Ht(ve,De,ke,$e);if(pt._ael)return pt._ael(ve,De,ke,$e)}}return ve.addEventListener(De,ke,$e)},Ne=(ve,De,ke,$e)=>{var it;if(typeof window<"u"){const st=window,pt=null===(it=null==st?void 0:st.Ionic)||void 0===it?void 0:it.config;if(pt){const Ht=pt.get("_rel");if(Ht)return Ht(ve,De,ke,$e);if(pt._rel)return pt._rel(ve,De,ke,$e)}}return ve.removeEventListener(De,ke,$e)},me=(ve,De=ve)=>ve.shadowRoot||De,ee=ve=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ve):"function"==typeof requestAnimationFrame?requestAnimationFrame(ve):setTimeout(ve),be=ve=>!!ve.shadowRoot&&!!ve.attachShadow,ue=ve=>{const De=ve.closest("ion-item");return De?De.querySelector("ion-label"):null},Te=ve=>{if(ve.focus(),ve.classList.contains("ion-focusable")){const De=ve.closest("ion-app");De&&De.setFocus([ve])}},je=(ve,De)=>{let ke;const $e=ve.getAttribute("aria-labelledby"),it=ve.id;let st=null!==$e&&""!==$e.trim()?$e:De+"-lbl",pt=null!==$e&&""!==$e.trim()?document.getElementById($e):ue(ve);return pt?(null===$e&&(pt.id=st),ke=pt.textContent,pt.setAttribute("aria-hidden","true")):""!==it.trim()&&(pt=document.querySelector(`label[for="${it}"]`),pt&&(""!==pt.id?st=pt.id:pt.id=st=`${it}-lbl`,ke=pt.textContent)),{label:pt,labelId:st,labelText:ke}},ot=(ve,De,ke,$e,it)=>{if(ve||be(De)){let st=De.querySelector("input.aux-input");st||(st=De.ownerDocument.createElement("input"),st.type="hidden",st.classList.add("aux-input"),De.appendChild(st)),st.disabled=it,st.name=ke,st.value=$e||""}},we=(ve,De,ke)=>Math.max(ve,Math.min(De,ke)),Ie=(ve,De)=>{if(!ve){const ke="ASSERT: "+De;throw console.error(ke),new Error(ke)}},ce=ve=>ve.timeStamp||Date.now(),ft=ve=>{if(ve){const De=ve.changedTouches;if(De&&De.length>0){const ke=De[0];return{x:ke.clientX,y:ke.clientY}}if(void 0!==ve.pageX)return{x:ve.pageX,y:ve.pageY}}return{x:0,y:0}},Ze=ve=>{const De="rtl"===document.dir;switch(ve){case"start":return De;case"end":return!De;default:throw new Error(`"${ve}" is not a valid value for [side]. Use "start" or "end" instead.`)}},fe=(ve,De)=>{const ke=ve._original||ve;return{_original:ve,emit:Ae(ke.emit.bind(ke),De)}},Ae=(ve,De=0)=>{let ke;return(...$e)=>{clearTimeout(ke),ke=setTimeout(ve,De,...$e)}},Be=(ve,De)=>{if(null!=ve||(ve={}),null!=De||(De={}),ve===De)return!0;const ke=Object.keys(ve);if(ke.length!==Object.keys(De).length)return!1;for(const $e of ke)if(!($e in De)||ve[$e]!==De[$e])return!1;return!0}},6953:(Wt,Qe,L)=>{"use strict";L.d(Qe,{B:()=>ee,H:()=>Ht,a:()=>_o,b:()=>hn,c:()=>qe,d:()=>ht,e:()=>Ro,f:()=>ct,g:()=>Bt,h:()=>st,i:()=>fr,j:()=>be,p:()=>Ri,r:()=>rt,w:()=>io});var m=L(5861);let W,ie,Ee,_e=!1,le=!1,Ue=!1,Ne=!1,me=!1;const ee={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},be=K=>{const he=new URL(K,Xn.$resourcesUrl$);return he.origin!==ur.location.origin?he.href:he.pathname},ce="s-id",ft="sty-id",Ae="http://www.w3.org/1999/xlink",Be={},$e=K=>"object"==(K=typeof K)||"function"===K;function it(K){var he,ne,Se;return null!==(Se=null===(ne=null===(he=K.head)||void 0===he?void 0:he.querySelector('meta[name="csp-nonce"]'))||void 0===ne?void 0:ne.getAttribute("content"))&&void 0!==Se?Se:void 0}const st=(K,he,...ne)=>{let Se=null,Ye=null,Je=null,mt=!1,At=!1;const Pt=[],Nt=In=>{for(let Kn=0;Kn<In.length;Kn++)Se=In[Kn],Array.isArray(Se)?Nt(Se):null!=Se&&"boolean"!=typeof Se&&((mt="function"!=typeof K&&!$e(Se))&&(Se=String(Se)),mt&&At?Pt[Pt.length-1].$text$+=Se:Pt.push(mt?pt(null,Se):Se),At=mt)};if(Nt(ne),he){he.key&&(Ye=he.key),he.name&&(Je=he.name);{const In=he.className||he.class;In&&(he.class="object"!=typeof In?In:Object.keys(In).filter(Kn=>In[Kn]).join(" "))}}if("function"==typeof K)return K(null===he?{}:he,Pt,qt);const vn=pt(K,null);return vn.$attrs$=he,Pt.length>0&&(vn.$children$=Pt),vn.$key$=Ye,vn.$name$=Je,vn},pt=(K,he)=>({$flags$:0,$tag$:K,$text$:he,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Ht={},qt={forEach:(K,he)=>K.map(lt).forEach(he),map:(K,he)=>K.map(lt).map(he).map(se)},lt=K=>({vattrs:K.$attrs$,vchildren:K.$children$,vkey:K.$key$,vname:K.$name$,vtag:K.$tag$,vtext:K.$text$}),se=K=>{if("function"==typeof K.vtag){const ne=Object.assign({},K.vattrs);return K.vkey&&(ne.key=K.vkey),K.vname&&(ne.name=K.vname),st(K.vtag,ne,...K.vchildren||[])}const he=pt(K.vtag,K.vtext);return he.$attrs$=K.vattrs,he.$children$=K.vchildren,he.$key$=K.vkey,he.$name$=K.vname,he},Me=(K,he,ne,Se,Ye,Je,mt)=>{let At,Pt,Nt,vn;if(1===Je.nodeType){for(At=Je.getAttribute("c-id"),At&&(Pt=At.split("."),(Pt[0]===mt||"0"===Pt[0])&&(Nt={$flags$:0,$hostId$:Pt[0],$nodeId$:Pt[1],$depth$:Pt[2],$index$:Pt[3],$tag$:Je.tagName.toLowerCase(),$elm$:Je,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},he.push(Nt),Je.removeAttribute("c-id"),K.$children$||(K.$children$=[]),K.$children$[Nt.$index$]=Nt,K=Nt,Se&&"0"===Nt.$depth$&&(Se[Nt.$index$]=Nt.$elm$))),vn=Je.childNodes.length-1;vn>=0;vn--)Me(K,he,ne,Se,Ye,Je.childNodes[vn],mt);if(Je.shadowRoot)for(vn=Je.shadowRoot.childNodes.length-1;vn>=0;vn--)Me(K,he,ne,Se,Ye,Je.shadowRoot.childNodes[vn],mt)}else if(8===Je.nodeType)Pt=Je.nodeValue.split("."),(Pt[1]===mt||"0"===Pt[1])&&(At=Pt[0],Nt={$flags$:0,$hostId$:Pt[1],$nodeId$:Pt[2],$depth$:Pt[3],$index$:Pt[4],$elm$:Je,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===At?(Nt.$elm$=Je.nextSibling,Nt.$elm$&&3===Nt.$elm$.nodeType&&(Nt.$text$=Nt.$elm$.textContent,he.push(Nt),Je.remove(),K.$children$||(K.$children$=[]),K.$children$[Nt.$index$]=Nt,Se&&"0"===Nt.$depth$&&(Se[Nt.$index$]=Nt.$elm$))):Nt.$hostId$===mt&&("s"===At?(Nt.$tag$="slot",Je["s-sn"]=Pt[5]?Nt.$name$=Pt[5]:"",Je["s-sr"]=!0,Se&&(Nt.$elm$=Zn.createElement(Nt.$tag$),Nt.$name$&&Nt.$elm$.setAttribute("name",Nt.$name$),Je.parentNode.insertBefore(Nt.$elm$,Je),Je.remove(),"0"===Nt.$depth$&&(Se[Nt.$index$]=Nt.$elm$)),ne.push(Nt),K.$children$||(K.$children$=[]),K.$children$[Nt.$index$]=Nt):"r"===At&&(Se?Je.remove():(Ye["s-cr"]=Je,Je["s-cn"]=!0))));else if(K&&"style"===K.$tag$){const In=pt(null,Je.textContent);In.$elm$=Je,In.$index$="0",K.$children$=[In]}},Ge=(K,he)=>{if(1===K.nodeType){let ne=0;for(;ne<K.childNodes.length;ne++)Ge(K.childNodes[ne],he);if(K.shadowRoot)for(ne=0;ne<K.shadowRoot.childNodes.length;ne++)Ge(K.shadowRoot.childNodes[ne],he)}else if(8===K.nodeType){const ne=K.nodeValue.split(".");"o"===ne[0]&&(he.set(ne[1]+"."+ne[2],K),K.nodeValue="",K["s-en"]=ne[3])}},qe=K=>Tr.push(K),Bt=K=>gt(K).$modeName$,ct=K=>gt(K).$hostElement$,ht=(K,he,ne)=>{const Se=ct(K);return{emit:Ye=>Oe(Se,he,{bubbles:!!(4&ne),composed:!!(2&ne),cancelable:!!(1&ne),detail:Ye})}},Oe=(K,he,ne)=>{const Se=Xn.ce(he,ne);return K.dispatchEvent(Se),Se},It=new WeakMap,Dt=(K,he,ne)=>{let Se=Dr.get(K);li&&ne?(Se=Se||new CSSStyleSheet,"string"==typeof Se?Se=he:Se.replaceSync(he)):Se=he,Dr.set(K,Se)},$t=(K,he,ne,Se)=>{var Ye;let Je=cn(he,ne);const mt=Dr.get(Je);if(K=11===K.nodeType?K:Zn,mt)if("string"==typeof mt){let Pt,At=It.get(K=K.head||K);if(At||It.set(K,At=new Set),!At.has(Je)){if(K.host&&(Pt=K.querySelector(`[${ft}="${Je}"]`)))Pt.innerHTML=mt;else{Pt=Zn.createElement("style"),Pt.innerHTML=mt;const Nt=null!==(Ye=Xn.$nonce$)&&void 0!==Ye?Ye:it(Zn);null!=Nt&&Pt.setAttribute("nonce",Nt),K.insertBefore(Pt,K.querySelector("link"))}At&&At.add(Je)}}else K.adoptedStyleSheets.includes(mt)||(K.adoptedStyleSheets=[...K.adoptedStyleSheets,mt]);return Je},cn=(K,he)=>"sc-"+(he&&32&K.$flags$?K.$tagName$+"-"+he:K.$tagName$),En=K=>K.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Pn=(K,he,ne,Se,Ye,Je)=>{if(ne!==Se){let mt=pn(K,he),At=he.toLowerCase();if("class"===he){const Pt=K.classList,Nt=Dn(ne),vn=Dn(Se);Pt.remove(...Nt.filter(In=>In&&!vn.includes(In))),Pt.add(...vn.filter(In=>In&&!Nt.includes(In)))}else if("style"===he){for(const Pt in ne)(!Se||null==Se[Pt])&&(Pt.includes("-")?K.style.removeProperty(Pt):K.style[Pt]="");for(const Pt in Se)(!ne||Se[Pt]!==ne[Pt])&&(Pt.includes("-")?K.style.setProperty(Pt,Se[Pt]):K.style[Pt]=Se[Pt])}else if("key"!==he)if("ref"===he)Se&&Se(K);else if(mt||"o"!==he[0]||"n"!==he[1]){const Pt=$e(Se);if((mt||Pt&&null!==Se)&&!Ye)try{if(K.tagName.includes("-"))K[he]=Se;else{const vn=null==Se?"":Se;"list"===he?mt=!1:(null==ne||K[he]!=vn)&&(K[he]=vn)}}catch{}let Nt=!1;At!==(At=At.replace(/^xlink\:?/,""))&&(he=At,Nt=!0),null==Se||!1===Se?(!1!==Se||""===K.getAttribute(he))&&(Nt?K.removeAttributeNS(Ae,he):K.removeAttribute(he)):(!mt||4&Je||Ye)&&!Pt&&(Se=!0===Se?"":Se,Nt?K.setAttributeNS(Ae,he,Se):K.setAttribute(he,Se))}else he="-"===he[2]?he.slice(3):pn(ur,At)?At.slice(2):At[2]+he.slice(3),ne&&Xn.rel(K,he,ne,!1),Se&&Xn.ael(K,he,Se,!1)}},On=/\s/,Dn=K=>K?K.split(On):[],Vn=(K,he,ne,Se)=>{const Ye=11===he.$elm$.nodeType&&he.$elm$.host?he.$elm$.host:he.$elm$,Je=K&&K.$attrs$||Be,mt=he.$attrs$||Be;for(Se in Je)Se in mt||Pn(Ye,Se,Je[Se],void 0,ne,he.$flags$);for(Se in mt)Pn(Ye,Se,Je[Se],mt[Se],ne,he.$flags$)},Br=(K,he,ne,Se)=>{const Ye=he.$children$[ne];let mt,At,Pt,Je=0;if(_e||(Ue=!0,"slot"===Ye.$tag$&&(W&&Se.classList.add(W+"-s"),Ye.$flags$|=Ye.$children$?2:1)),null!==Ye.$text$)mt=Ye.$elm$=Zn.createTextNode(Ye.$text$);else if(1&Ye.$flags$)mt=Ye.$elm$=Zn.createTextNode("");else{if(Ne||(Ne="svg"===Ye.$tag$),mt=Ye.$elm$=Zn.createElementNS(Ne?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ye.$flags$?"slot-fb":Ye.$tag$),Ne&&"foreignObject"===Ye.$tag$&&(Ne=!1),Vn(null,Ye,Ne),(K=>null!=K)(W)&&mt["s-si"]!==W&&mt.classList.add(mt["s-si"]=W),Ye.$children$)for(Je=0;Je<Ye.$children$.length;++Je)At=Br(K,Ye,Je,mt),At&&mt.appendChild(At);"svg"===Ye.$tag$?Ne=!1:"foreignObject"===mt.tagName&&(Ne=!0)}return mt["s-hn"]=Ee,3&Ye.$flags$&&(mt["s-sr"]=!0,mt["s-cr"]=ie,mt["s-sn"]=Ye.$name$||"",Pt=K&&K.$children$&&K.$children$[ne],Pt&&Pt.$tag$===Ye.$tag$&&K.$elm$&&hr(K.$elm$,!1)),mt},hr=(K,he)=>{Xn.$flags$|=1;const ne=K.childNodes;for(let Se=ne.length-1;Se>=0;Se--){const Ye=ne[Se];Ye["s-hn"]!==Ee&&Ye["s-ol"]&&(Sr(Ye).insertBefore(Ye,un(Ye)),Ye["s-ol"].remove(),Ye["s-ol"]=void 0,Ue=!0),he&&hr(Ye,he)}Xn.$flags$&=-2},Ir=(K,he,ne,Se,Ye,Je)=>{let At,mt=K["s-cr"]&&K["s-cr"].parentNode||K;for(mt.shadowRoot&&mt.tagName===Ee&&(mt=mt.shadowRoot);Ye<=Je;++Ye)Se[Ye]&&(At=Br(null,ne,Ye,K),At&&(Se[Ye].$elm$=At,mt.insertBefore(At,un(he))))},rn=(K,he,ne)=>{for(let Se=he;Se<=ne;++Se){const Ye=K[Se];if(Ye){const Je=Ye.$elm$;zn(Ye),Je&&(le=!0,Je["s-ol"]?Je["s-ol"].remove():hr(Je,!0),Je.remove())}}},or=(K,he)=>K.$tag$===he.$tag$&&("slot"===K.$tag$?K.$name$===he.$name$:K.$key$===he.$key$),un=K=>K&&K["s-ol"]||K,Sr=K=>(K["s-ol"]?K["s-ol"]:K).parentNode,Er=(K,he)=>{const ne=he.$elm$=K.$elm$,Se=K.$children$,Ye=he.$children$,Je=he.$tag$,mt=he.$text$;let At;null===mt?(Ne="svg"===Je||"foreignObject"!==Je&&Ne,"slot"===Je||Vn(K,he,Ne),null!==Se&&null!==Ye?((K,he,ne,Se)=>{let gi,We,Ye=0,Je=0,mt=0,At=0,Pt=he.length-1,Nt=he[0],vn=he[Pt],In=Se.length-1,Kn=Se[0],yr=Se[In];for(;Ye<=Pt&&Je<=In;)if(null==Nt)Nt=he[++Ye];else if(null==vn)vn=he[--Pt];else if(null==Kn)Kn=Se[++Je];else if(null==yr)yr=Se[--In];else if(or(Nt,Kn))Er(Nt,Kn),Nt=he[++Ye],Kn=Se[++Je];else if(or(vn,yr))Er(vn,yr),vn=he[--Pt],yr=Se[--In];else if(or(Nt,yr))("slot"===Nt.$tag$||"slot"===yr.$tag$)&&hr(Nt.$elm$.parentNode,!1),Er(Nt,yr),K.insertBefore(Nt.$elm$,vn.$elm$.nextSibling),Nt=he[++Ye],yr=Se[--In];else if(or(vn,Kn))("slot"===Nt.$tag$||"slot"===yr.$tag$)&&hr(vn.$elm$.parentNode,!1),Er(vn,Kn),K.insertBefore(vn.$elm$,Nt.$elm$),vn=he[--Pt],Kn=Se[++Je];else{for(mt=-1,At=Ye;At<=Pt;++At)if(he[At]&&null!==he[At].$key$&&he[At].$key$===Kn.$key$){mt=At;break}mt>=0?(We=he[mt],We.$tag$!==Kn.$tag$?gi=Br(he&&he[Je],ne,mt,K):(Er(We,Kn),he[mt]=void 0,gi=We.$elm$),Kn=Se[++Je]):(gi=Br(he&&he[Je],ne,Je,K),Kn=Se[++Je]),gi&&Sr(Nt.$elm$).insertBefore(gi,un(Nt.$elm$))}Ye>Pt?Ir(K,null==Se[In+1]?null:Se[In+1].$elm$,ne,Se,Je,In):Je>In&&rn(he,Ye,Pt)})(ne,Se,he,Ye):null!==Ye?(null!==K.$text$&&(ne.textContent=""),Ir(ne,null,he,Ye,0,Ye.length-1)):null!==Se&&rn(Se,0,Se.length-1),Ne&&"svg"===Je&&(Ne=!1)):(At=ne["s-cr"])?At.parentNode.textContent=mt:K.$text$!==mt&&(ne.data=mt)},Xt=K=>{const he=K.childNodes;let ne,Se,Ye,Je,mt,At;for(Se=0,Ye=he.length;Se<Ye;Se++)if(ne=he[Se],1===ne.nodeType){if(ne["s-sr"])for(mt=ne["s-sn"],ne.hidden=!1,Je=0;Je<Ye;Je++)if(At=he[Je].nodeType,he[Je]["s-hn"]!==ne["s-hn"]||""!==mt){if(1===At&&mt===he[Je].getAttribute("slot")){ne.hidden=!0;break}}else if(1===At||3===At&&""!==he[Je].textContent.trim()){ne.hidden=!0;break}Xt(ne)}},Ur=[],Mt=K=>{let he,ne,Se,Ye,Je,mt,At=0;const Pt=K.childNodes,Nt=Pt.length;for(;At<Nt;At++){if(he=Pt[At],he["s-sr"]&&(ne=he["s-cr"])&&ne.parentNode)for(Se=ne.parentNode.childNodes,Ye=he["s-sn"],mt=Se.length-1;mt>=0;mt--)ne=Se[mt],!ne["s-cn"]&&!ne["s-nr"]&&ne["s-hn"]!==he["s-hn"]&&(jr(ne,Ye)?(Je=Ur.find(vn=>vn.$nodeToRelocate$===ne),le=!0,ne["s-sn"]=ne["s-sn"]||Ye,Je?Je.$slotRefNode$=he:Ur.push({$slotRefNode$:he,$nodeToRelocate$:ne}),ne["s-sr"]&&Ur.map(vn=>{jr(vn.$nodeToRelocate$,ne["s-sn"])&&(Je=Ur.find(In=>In.$nodeToRelocate$===ne),Je&&!vn.$slotRefNode$&&(vn.$slotRefNode$=Je.$slotRefNode$))})):Ur.some(vn=>vn.$nodeToRelocate$===ne)||Ur.push({$nodeToRelocate$:ne}));1===he.nodeType&&Mt(he)}},jr=(K,he)=>1===K.nodeType?null===K.getAttribute("slot")&&""===he||K.getAttribute("slot")===he:K["s-sn"]===he||""===he,zn=K=>{K.$attrs$&&K.$attrs$.ref&&K.$attrs$.ref(null),K.$children$&&K.$children$.map(zn)},ri=(K,he)=>{he&&!K.$onRenderResolve$&&he["s-p"]&&he["s-p"].push(new Promise(ne=>K.$onRenderResolve$=ne))},_i=(K,he)=>{if(K.$flags$|=16,!(4&K.$flags$))return ri(K,K.$ancestorComponent$),io(()=>Lr(K,he));K.$flags$|=512},Lr=(K,he)=>{const Se=K.$lazyInstance$;let Ye;return he&&(K.$flags$|=256,K.$queuedListeners$&&(K.$queuedListeners$.map(([Je,mt])=>nr(Se,Je,mt)),K.$queuedListeners$=void 0),Ye=nr(Se,"componentWillLoad")),Ye=Ii(Ye,()=>nr(Se,"componentWillRender")),Ii(Ye,()=>kr(K,Se,he))},Ii=(K,he)=>qr(K)?K.then(he):he(),qr=K=>K instanceof Promise||K&&K.then&&"function"==typeof K.then,kr=function(){var K=(0,m.Z)(function*(he,ne,Se){var Ye;const Je=he.$hostElement$,At=Je["s-rc"];Se&&(K=>{const he=K.$cmpMeta$,ne=K.$hostElement$,Se=he.$flags$,Je=$t(ne.shadowRoot?ne.shadowRoot:ne.getRootNode(),he,K.$modeName$);10&Se&&(ne["s-sc"]=Je,ne.classList.add(Je+"-h"),2&Se&&ne.classList.add(Je+"-s"))})(he);Ar(he,ne),At&&(At.map(Nt=>Nt()),Je["s-rc"]=void 0);{const Nt=null!==(Ye=Je["s-p"])&&void 0!==Ye?Ye:[],vn=()=>Hr(he);0===Nt.length?vn():(Promise.all(Nt).then(vn),he.$flags$|=4,Nt.length=0)}});return function(ne,Se,Ye){return K.apply(this,arguments)}}(),Ar=(K,he,ne)=>{try{he=he.render&&he.render(),K.$flags$&=-17,K.$flags$|=2,((K,he)=>{const ne=K.$hostElement$,Se=K.$cmpMeta$,Ye=K.$vnode$||pt(null,null),Je=(K=>K&&K.$tag$===Ht)(he)?he:st(null,null,he);if(Ee=ne.tagName,Se.$attrsToReflect$&&(Je.$attrs$=Je.$attrs$||{},Se.$attrsToReflect$.map(([mt,At])=>Je.$attrs$[At]=ne[mt])),Je.$tag$=null,Je.$flags$|=4,K.$vnode$=Je,Je.$elm$=Ye.$elm$=ne.shadowRoot||ne,W=ne["s-sc"],ie=ne["s-cr"],_e=0!=(1&Se.$flags$),le=!1,Er(Ye,Je),Xn.$flags$|=1,Ue){Mt(Je.$elm$);let mt,At,Pt,Nt,vn,In,Kn=0;for(;Kn<Ur.length;Kn++)mt=Ur[Kn],At=mt.$nodeToRelocate$,At["s-ol"]||(Pt=Zn.createTextNode(""),Pt["s-nr"]=At,At.parentNode.insertBefore(At["s-ol"]=Pt,At));for(Kn=0;Kn<Ur.length;Kn++)if(mt=Ur[Kn],At=mt.$nodeToRelocate$,mt.$slotRefNode$){for(Nt=mt.$slotRefNode$.parentNode,vn=mt.$slotRefNode$.nextSibling,Pt=At["s-ol"];Pt=Pt.previousSibling;)if(In=Pt["s-nr"],In&&In["s-sn"]===At["s-sn"]&&Nt===In.parentNode&&(In=In.nextSibling,!In||!In["s-nr"])){vn=In;break}(!vn&&Nt!==At.parentNode||At.nextSibling!==vn)&&At!==vn&&(!At["s-hn"]&&At["s-ol"]&&(At["s-hn"]=At["s-ol"].parentNode.nodeName),Nt.insertBefore(At,vn))}else 1===At.nodeType&&(At.hidden=!0)}le&&Xt(Je.$elm$),Xn.$flags$&=-2,Ur.length=0})(K,he)}catch(Se){fn(Se,K.$hostElement$)}return null},Hr=K=>{const ne=K.$hostElement$,Ye=K.$lazyInstance$,Je=K.$ancestorComponent$;nr(Ye,"componentDidRender"),64&K.$flags$?nr(Ye,"componentDidUpdate"):(K.$flags$|=64,Pe(ne),nr(Ye,"componentDidLoad"),K.$onReadyResolve$(ne),Je||Cr()),K.$onInstanceResolve$(ne),K.$onRenderResolve$&&(K.$onRenderResolve$(),K.$onRenderResolve$=void 0),512&K.$flags$&&pi(()=>_i(K,!1)),K.$flags$&=-517},fr=K=>{{const he=gt(K),ne=he.$hostElement$.isConnected;return ne&&2==(18&he.$flags$)&&_i(he,!1),ne}},Cr=K=>{Pe(Zn.documentElement),pi(()=>Oe(ur,"appload",{detail:{namespace:"ionic"}}))},nr=(K,he,ne)=>{if(K&&K[he])try{return K[he](ne)}catch(Se){fn(Se)}},Pe=K=>K.classList.add("hydrated"),Ce=(K,he,ne)=>{if(he.$members$){K.watchers&&(he.$watchers$=K.watchers);const Se=Object.entries(he.$members$),Ye=K.prototype;if(Se.map(([Je,[mt]])=>{31&mt||2&ne&&32&mt?Object.defineProperty(Ye,Je,{get(){return((K,he)=>gt(this).$instanceValues$.get(he))(0,Je)},set(At){((K,he,ne,Se)=>{const Ye=gt(K),Je=Ye.$hostElement$,mt=Ye.$instanceValues$.get(he),At=Ye.$flags$,Pt=Ye.$lazyInstance$;ne=((K,he)=>null==K||$e(K)?K:4&he?"false"!==K&&(""===K||!!K):2&he?parseFloat(K):1&he?String(K):K)(ne,Se.$members$[he][0]);const Nt=Number.isNaN(mt)&&Number.isNaN(ne);if((!(8&At)||void 0===mt)&&ne!==mt&&!Nt&&(Ye.$instanceValues$.set(he,ne),Pt)){if(Se.$watchers$&&128&At){const In=Se.$watchers$[he];In&&In.map(Kn=>{try{Pt[Kn](ne,mt,he)}catch(yr){fn(yr,Je)}})}2==(18&At)&&_i(Ye,!1)}})(this,Je,At,he)},configurable:!0,enumerable:!0}):1&ne&&64&mt&&Object.defineProperty(Ye,Je,{value(...At){const Pt=gt(this);return Pt.$onInstancePromise$.then(()=>Pt.$lazyInstance$[Je](...At))}})}),1&ne){const Je=new Map;Ye.attributeChangedCallback=function(mt,At,Pt){Xn.jmp(()=>{const Nt=Je.get(mt);if(this.hasOwnProperty(Nt))Pt=this[Nt],delete this[Nt];else if(Ye.hasOwnProperty(Nt)&&"number"==typeof this[Nt]&&this[Nt]==Pt)return;this[Nt]=(null!==Pt||"boolean"!=typeof this[Nt])&&Pt})},K.observedAttributes=Se.filter(([mt,At])=>15&At[0]).map(([mt,At])=>{const Pt=At[1]||mt;return Je.set(Pt,mt),512&At[0]&&he.$attrsToReflect$.push([mt,Pt]),Pt})}}return K},X=function(){var K=(0,m.Z)(function*(he,ne,Se,Ye,Je){if(!(32&ne.$flags$)){ne.$flags$|=32;{if((Je=Yn(Se)).then){const Nt=()=>{};Je=yield Je,Nt()}Je.isProxied||(Se.$watchers$=Je.watchers,Ce(Je,Se,2),Je.isProxied=!0);const Pt=()=>{};ne.$flags$|=8;try{new Je(ne)}catch(Nt){fn(Nt)}ne.$flags$&=-9,ne.$flags$|=128,Pt(),ze(ne.$lazyInstance$)}if(Je.style){let Pt=Je.style;"string"!=typeof Pt&&(Pt=Pt[ne.$modeName$=(K=>Tr.map(he=>he(K)).find(he=>!!he))(he)]);const Nt=cn(Se,ne.$modeName$);if(!Dr.has(Nt)){const vn=()=>{};Dt(Nt,Pt,!!(1&Se.$flags$)),vn()}}}const mt=ne.$ancestorComponent$,At=()=>_i(ne,!0);mt&&mt["s-rc"]?mt["s-rc"].push(At):At()});return function(ne,Se,Ye,Je,mt){return K.apply(this,arguments)}}(),ze=K=>{nr(K,"connectedCallback")},Lt=K=>{const he=K["s-cr"]=Zn.createComment("");he["s-cn"]=!0,K.insertBefore(he,K.firstChild)},hn=(K,he={})=>{var ne;const Ye=[],Je=he.exclude||[],mt=ur.customElements,At=Zn.head,Pt=At.querySelector("meta[charset]"),Nt=Zn.createElement("style"),vn=[],In=Zn.querySelectorAll(`[${ft}]`);let Kn,yr=!0,gi=0;for(Object.assign(Xn,he),Xn.$resourcesUrl$=new URL(he.resourcesUrl||"./",Zn.baseURI).href,Xn.$flags$|=2;gi<In.length;gi++)Dt(In[gi].getAttribute(ft),En(In[gi].innerHTML),!0);K.map(We=>{We[1].map(He=>{const et={$flags$:He[0],$tagName$:He[1],$members$:He[2],$listeners$:He[3]};et.$members$=He[2],et.$listeners$=He[3],et.$attrsToReflect$=[],et.$watchers$={};const Tt=et.$tagName$,Ut=class extends HTMLElement{constructor(Gt){super(Gt),Ft(Gt=this,et),1&et.$flags$&&Gt.attachShadow({mode:"open",delegatesFocus:!!(16&et.$flags$)})}connectedCallback(){Kn&&(clearTimeout(Kn),Kn=null),yr?vn.push(this):Xn.jmp(()=>(K=>{if(!(1&Xn.$flags$)){const he=gt(K),ne=he.$cmpMeta$,Se=()=>{};if(1&he.$flags$)en(K,he,ne.$listeners$),ze(he.$lazyInstance$);else{let Ye;if(he.$flags$|=1,Ye=K.getAttribute(ce),Ye){if(1&ne.$flags$){const Je=$t(K.shadowRoot,ne,K.getAttribute("s-mode"));K.classList.remove(Je+"-h",Je+"-s")}((K,he,ne,Se)=>{const Je=K.shadowRoot,mt=[],Pt=Je?[]:null,Nt=Se.$vnode$=pt(he,null);Xn.$orgLocNodes$||Ge(Zn.body,Xn.$orgLocNodes$=new Map),K[ce]=ne,K.removeAttribute(ce),Me(Nt,mt,[],Pt,K,K,ne),mt.map(vn=>{const In=vn.$hostId$+"."+vn.$nodeId$,Kn=Xn.$orgLocNodes$.get(In),yr=vn.$elm$;Kn&&xo&&""===Kn["s-en"]&&Kn.parentNode.insertBefore(yr,Kn.nextSibling),Je||(yr["s-hn"]=he,Kn&&(yr["s-ol"]=Kn,yr["s-ol"]["s-nr"]=yr)),Xn.$orgLocNodes$.delete(In)}),Je&&Pt.map(vn=>{vn&&Je.appendChild(vn)})})(K,ne.$tagName$,Ye,he)}Ye||12&ne.$flags$&&Lt(K);{let Je=K;for(;Je=Je.parentNode||Je.host;)if(1===Je.nodeType&&Je.hasAttribute("s-id")&&Je["s-p"]||Je["s-p"]){ri(he,he.$ancestorComponent$=Je);break}}ne.$members$&&Object.entries(ne.$members$).map(([Je,[mt]])=>{if(31&mt&&K.hasOwnProperty(Je)){const At=K[Je];delete K[Je],K[Je]=At}}),X(K,he,ne)}Se()}})(this))}disconnectedCallback(){Xn.jmp(()=>(K=>{if(!(1&Xn.$flags$)){const he=gt(this),ne=he.$lazyInstance$;he.$rmListeners$&&(he.$rmListeners$.map(Se=>Se()),he.$rmListeners$=void 0),nr(ne,"disconnectedCallback")}})())}componentOnReady(){return gt(this).$onReadyPromise$}};et.$lazyBundleId$=We[0],!Je.includes(Tt)&&!mt.get(Tt)&&(Ye.push(Tt),mt.define(Tt,Ce(Ut,et,1)))})});{Nt.innerHTML=Ye+"{visibility:hidden}.hydrated{visibility:inherit}",Nt.setAttribute("data-styles","");const We=null!==(ne=Xn.$nonce$)&&void 0!==ne?ne:it(Zn);null!=We&&Nt.setAttribute("nonce",We),At.insertBefore(Nt,Pt?Pt.nextSibling:At.firstChild)}yr=!1,vn.length?vn.map(We=>We.connectedCallback()):Xn.jmp(()=>Kn=setTimeout(Cr,30))},en=(K,he,ne,Se)=>{ne&&ne.map(([Ye,Je,mt])=>{const At=vr(K,Ye),Pt=Sn(he,mt),Nt=Mr(Ye);Xn.ael(At,Je,Pt,Nt),(he.$rmListeners$=he.$rmListeners$||[]).push(()=>Xn.rel(At,Je,Pt,Nt))})},Sn=(K,he)=>ne=>{try{256&K.$flags$?K.$lazyInstance$[he](ne):(K.$queuedListeners$=K.$queuedListeners$||[]).push([he,ne])}catch(Se){fn(Se)}},vr=(K,he)=>4&he?Zn:8&he?ur:16&he?Zn.body:K,Mr=K=>0!=(2&K),Qr=new WeakMap,gt=K=>Qr.get(K),rt=(K,he)=>Qr.set(he.$lazyInstance$=K,he),Ft=(K,he)=>{const ne={$flags$:0,$hostElement$:K,$cmpMeta$:he,$instanceValues$:new Map};return ne.$onInstancePromise$=new Promise(Se=>ne.$onInstanceResolve$=Se),ne.$onReadyPromise$=new Promise(Se=>ne.$onReadyResolve$=Se),K["s-p"]=[],K["s-rc"]=[],en(K,ne,he.$listeners$),Qr.set(K,ne)},pn=(K,he)=>he in K,fn=(K,he)=>(0,console.error)(K,he),Qt=new Map,Yn=(K,he,ne)=>{const Se=K.$tagName$.replace(/-/g,"_"),Ye=K.$lazyBundleId$,Je=Qt.get(Ye);return Je?Je[Se]:L(863)(`./${Ye}.entry.js`).then(mt=>(Qt.set(Ye,mt),mt[Se]),fn)},Dr=new Map,Tr=[],ur=typeof window<"u"?window:{},Zn=ur.document||{head:{}},Xn={$flags$:0,$resourcesUrl$:"",jmp:K=>K(),raf:K=>requestAnimationFrame(K),ael:(K,he,ne,Se)=>K.addEventListener(he,ne,Se),rel:(K,he,ne,Se)=>K.removeEventListener(he,ne,Se),ce:(K,he)=>new CustomEvent(K,he)},_o=K=>{Object.assign(Xn,K)},xo=!0,Ri=K=>Promise.resolve(K),li=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Oi=[],zr=[],$i=(K,he)=>ne=>{K.push(ne),me||(me=!0,he&&4&Xn.$flags$?pi(wi):Xn.raf(wi))},pr=K=>{for(let he=0;he<K.length;he++)try{K[he](performance.now())}catch(ne){fn(ne)}K.length=0},wi=()=>{pr(Oi),pr(zr),(me=Oi.length>0)&&Xn.raf(wi)},pi=K=>Ri().then(K),Ro=$i(Oi,!1),io=$i(zr,!0)},8077:(Wt,Qe,L)=>{"use strict";L.r(Qe),L.d(Qe,{GESTURE_CONTROLLER:()=>m.G,createGesture:()=>Ne});var m=L(4587);const v=(ue,Te,je,ot)=>{const we=W(ue)?{capture:!!ot.capture,passive:!!ot.passive}:!!ot.capture;let Ie,ce;return ue.__zone_symbol__addEventListener?(Ie="__zone_symbol__addEventListener",ce="__zone_symbol__removeEventListener"):(Ie="addEventListener",ce="removeEventListener"),ue[Ie](Te,je,we),()=>{ue[ce](Te,je,we)}},W=ue=>{if(void 0===ie)try{const Te=Object.defineProperty({},"passive",{get:()=>{ie=!0}});ue.addEventListener("optsTest",()=>{},Te)}catch{ie=!1}return!!ie};let ie;const le=ue=>ue instanceof Document?ue:ue.ownerDocument,Ne=ue=>{let Te=!1,je=!1,ot=!0,we=!1;const Ie=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ue),ce=Ie.canStart,ft=Ie.onWillStart,Ze=Ie.onStart,fe=Ie.onEnd,Ae=Ie.notCaptured,Be=Ie.onMove,ve=Ie.threshold,De=Ie.passive,ke=Ie.blurOnStart,$e={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},it=((ue,Te,je)=>{const ot=je*(Math.PI/180),we="x"===ue,Ie=Math.cos(ot),ce=Te*Te;let ft=0,Ze=0,fe=!1,Ae=0;return{start(Be,ve){ft=Be,Ze=ve,Ae=0,fe=!0},detect(Be,ve){if(!fe)return!1;const De=Be-ft,ke=ve-Ze,$e=De*De+ke*ke;if($e<ce)return!1;const it=Math.sqrt($e),st=(we?De:ke)/it;return Ae=st>Ie?1:st<-Ie?-1:0,fe=!1,!0},isGesture:()=>0!==Ae,getDirection:()=>Ae}})(Ie.direction,Ie.threshold,Ie.maxAngle),st=m.G.createGesture({name:ue.gestureName,priority:ue.gesturePriority,disableScroll:ue.disableScroll}),xn=()=>{Te&&(we=!1,Be&&Be($e))},qt=()=>!!st.capture()&&(Te=!0,ot=!1,$e.startX=$e.currentX,$e.startY=$e.currentY,$e.startTime=$e.currentTime,ft?ft($e).then(se):se(),!0),se=()=>{ke&&(()=>{if(typeof document<"u"){const qe=document.activeElement;null!=qe&&qe.blur&&qe.blur()}})(),Ze&&Ze($e),ot=!0},de=()=>{Te=!1,je=!1,we=!1,ot=!0,st.release()},Me=qe=>{const Bt=Te,Ct=ot;if(de(),Ct){if(me($e,qe),Bt)return void(fe&&fe($e));Ae&&Ae($e)}},Ge=((ue,Te,je,ot,we)=>{let Ie,ce,ft,Ze,fe,Ae,Be,ve=0;const De=lt=>{ve=Date.now()+2e3,Te(lt)&&(!ce&&je&&(ce=v(ue,"touchmove",je,we)),ft||(ft=v(lt.target,"touchend",$e,we)),Ze||(Ze=v(lt.target,"touchcancel",$e,we)))},ke=lt=>{ve>Date.now()||Te(lt)&&(!Ae&&je&&(Ae=v(le(ue),"mousemove",je,we)),Be||(Be=v(le(ue),"mouseup",it,we)))},$e=lt=>{st(),ot&&ot(lt)},it=lt=>{pt(),ot&&ot(lt)},st=()=>{ce&&ce(),ft&&ft(),Ze&&Ze(),ce=ft=Ze=void 0},pt=()=>{Ae&&Ae(),Be&&Be(),Ae=Be=void 0},Ht=()=>{st(),pt()},xn=(lt=!0)=>{lt?(Ie||(Ie=v(ue,"touchstart",De,we)),fe||(fe=v(ue,"mousedown",ke,we))):(Ie&&Ie(),fe&&fe(),Ie=fe=void 0,Ht())};return{enable:xn,stop:Ht,destroy:()=>{xn(!1),ot=je=Te=void 0}}})(Ie.el,qe=>{const Bt=be(qe);return!(je||!ot||(ee(qe,$e),$e.startX=$e.currentX,$e.startY=$e.currentY,$e.startTime=$e.currentTime=Bt,$e.velocityX=$e.velocityY=$e.deltaX=$e.deltaY=0,$e.event=qe,ce&&!1===ce($e))||(st.release(),!st.start()))&&(je=!0,0===ve?qt():(it.start($e.startX,$e.startY),!0))},qe=>{Te?!we&&ot&&(we=!0,me($e,qe),requestAnimationFrame(xn)):(me($e,qe),it.detect($e.currentX,$e.currentY)&&(!it.isGesture()||!qt())&&Xe())},Me,{capture:!1,passive:De}),Xe=()=>{de(),Ge.stop(),Ae&&Ae($e)};return{enable(qe=!0){qe||(Te&&Me(void 0),de()),Ge.enable(qe)},destroy(){st.destroy(),Ge.destroy()}}},me=(ue,Te)=>{if(!Te)return;const je=ue.currentX,ot=ue.currentY,we=ue.currentTime;ee(Te,ue);const Ie=ue.currentX,ce=ue.currentY,Ze=(ue.currentTime=be(Te))-we;if(Ze>0&&Ze<100){const Ae=(ce-ot)/Ze;ue.velocityX=(Ie-je)/Ze*.7+.3*ue.velocityX,ue.velocityY=.7*Ae+.3*ue.velocityY}ue.deltaX=Ie-ue.startX,ue.deltaY=ce-ue.startY,ue.event=Te},ee=(ue,Te)=>{let je=0,ot=0;if(ue){const we=ue.changedTouches;if(we&&we.length>0){const Ie=we[0];je=Ie.clientX,ot=Ie.clientY}else void 0!==ue.pageX&&(je=ue.pageX,ot=ue.pageY)}Te.currentX=je,Te.currentY=ot},be=ue=>ue.timeStamp||Date.now()},1767:(Wt,Qe,L)=>{"use strict";L.d(Qe,{m:()=>ee});var m=L(5861),v=L(5421),W=L(544),ie=L(7876),Ee=L(6506);const _e=be=>(0,Ee.c)().duration(be?400:300),le=be=>{let ue,Te;const je=be.width+8,ot=(0,Ee.c)(),we=(0,Ee.c)();be.isEndSide?(ue=je+"px",Te="0px"):(ue=-je+"px",Te="0px"),ot.addElement(be.menuInnerEl).fromTo("transform",`translateX(${ue})`,`translateX(${Te})`);const ce="ios"===(0,ie.b)(be),ft=ce?.2:.25;return we.addElement(be.backdropEl).fromTo("opacity",.01,ft),_e(ce).addAnimation([ot,we])},Ue=be=>{let ue,Te;const je=(0,ie.b)(be),ot=be.width;be.isEndSide?(ue=-ot+"px",Te=ot+"px"):(ue=ot+"px",Te=-ot+"px");const we=(0,Ee.c)().addElement(be.menuInnerEl).fromTo("transform",`translateX(${Te})`,"translateX(0px)"),Ie=(0,Ee.c)().addElement(be.contentEl).fromTo("transform","translateX(0px)",`translateX(${ue})`),ce=(0,Ee.c)().addElement(be.backdropEl).fromTo("opacity",.01,.32);return _e("ios"===je).addAnimation([we,Ie,ce])},Ne=be=>{const ue=(0,ie.b)(be),Te=be.width*(be.isEndSide?-1:1)+"px",je=(0,Ee.c)().addElement(be.contentEl).fromTo("transform","translateX(0px)",`translateX(${Te})`);return _e("ios"===ue).addAnimation(je)},ee=(()=>{const be=new Map,ue=[],Te=function(){var se=(0,m.Z)(function*(de){const Me=yield Ze(de);return!!Me&&Me.open()});return function(Me){return se.apply(this,arguments)}}(),je=function(){var se=(0,m.Z)(function*(de){const Me=yield void 0!==de?Ze(de):fe();return void 0!==Me&&Me.close()});return function(Me){return se.apply(this,arguments)}}(),ot=function(){var se=(0,m.Z)(function*(de){const Me=yield Ze(de);return!!Me&&Me.toggle()});return function(Me){return se.apply(this,arguments)}}(),we=function(){var se=(0,m.Z)(function*(de,Me){const Ge=yield Ze(Me);return Ge&&(Ge.disabled=!de),Ge});return function(Me,Ge){return se.apply(this,arguments)}}(),Ie=function(){var se=(0,m.Z)(function*(de,Me){const Ge=yield Ze(Me);return Ge&&(Ge.swipeGesture=de),Ge});return function(Me,Ge){return se.apply(this,arguments)}}(),ce=function(){var se=(0,m.Z)(function*(de){if(null!=de){const Me=yield Ze(de);return void 0!==Me&&Me.isOpen()}return void 0!==(yield fe())});return function(Me){return se.apply(this,arguments)}}(),ft=function(){var se=(0,m.Z)(function*(de){const Me=yield Ze(de);return!!Me&&!Me.disabled});return function(Me){return se.apply(this,arguments)}}(),Ze=function(){var se=(0,m.Z)(function*(de){return yield lt(),"start"===de||"end"===de?qt(Xe=>Xe.side===de&&!Xe.disabled)||qt(Xe=>Xe.side===de):null!=de?qt(Ge=>Ge.menuId===de):qt(Ge=>!Ge.disabled)||(ue.length>0?ue[0].el:void 0)});return function(Me){return se.apply(this,arguments)}}(),fe=function(){var se=(0,m.Z)(function*(){return yield lt(),pt()});return function(){return se.apply(this,arguments)}}(),Ae=function(){var se=(0,m.Z)(function*(){return yield lt(),Ht()});return function(){return se.apply(this,arguments)}}(),Be=function(){var se=(0,m.Z)(function*(){return yield lt(),xn()});return function(){return se.apply(this,arguments)}}(),ve=(se,de)=>{be.set(se,de)},$e=se=>{const de=se.side;ue.filter(Me=>Me.side===de&&Me!==se).forEach(Me=>Me.disabled=!0)},it=function(){var se=(0,m.Z)(function*(de,Me,Ge){if(xn())return!1;if(Me){const Xe=yield fe();Xe&&de.el!==Xe&&(yield Xe.setOpen(!1,!1))}return de._setOpen(Me,Ge)});return function(Me,Ge,Xe){return se.apply(this,arguments)}}(),pt=()=>qt(se=>se._isOpen),Ht=()=>ue.map(se=>se.el),xn=()=>ue.some(se=>se.isAnimating),qt=se=>{const de=ue.find(se);if(void 0!==de)return de.el},lt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(se=>new Promise(de=>(0,W.c)(se,de))));return ve("reveal",Ne),ve("push",Ue),ve("overlay",le),typeof document<"u"&&document.addEventListener("ionBackButton",se=>{const de=pt();de&&se.detail.register(v.MENU_BACK_BUTTON_PRIORITY,()=>de.close())}),{registerAnimation:ve,get:Ze,getMenus:Ae,getOpen:fe,isEnabled:ft,swipeGesture:Ie,isAnimating:Be,isOpen:ce,enable:we,toggle:ot,close:je,open:Te,_getOpenSync:pt,_createAnimation:(se,de)=>{const Me=be.get(se);if(!Me)throw new Error("animation not registered");return Me(de)},_register:se=>{ue.indexOf(se)<0&&(se.disabled||$e(se),ue.push(se))},_unregister:se=>{const de=ue.indexOf(se);de>-1&&ue.splice(de,1)},_setOpen:it,_setActiveMenu:$e}})()},8354:(Wt,Qe,L)=>{"use strict";L.d(Qe,{L:()=>ie,a:()=>Ee,b:()=>_e,c:()=>le,d:()=>Ue,e:()=>ve,g:()=>$e,l:()=>Ae,s:()=>De,t:()=>ee,w:()=>Be});var m=L(5861),v=L(6953),W=L(544);const ie="ionViewWillEnter",Ee="ionViewDidEnter",_e="ionViewWillLeave",le="ionViewDidLeave",Ue="ionViewWillUnload",ee=it=>new Promise((st,pt)=>{(0,v.w)(()=>{be(it),ue(it).then(Ht=>{Ht.animation&&Ht.animation.destroy(),Te(it),st(Ht)},Ht=>{Te(it),pt(Ht)})})}),be=it=>{const st=it.enteringEl,pt=it.leavingEl;ke(st,pt,it.direction),it.showGoBack?st.classList.add("can-go-back"):st.classList.remove("can-go-back"),De(st,!1),st.style.setProperty("pointer-events","none"),pt&&(De(pt,!1),pt.style.setProperty("pointer-events","none"))},ue=function(){var it=(0,m.Z)(function*(st){const pt=yield je(st);return pt&&v.B.isBrowser?ot(pt,st):we(st)});return function(pt){return it.apply(this,arguments)}}(),Te=it=>{const st=it.enteringEl,pt=it.leavingEl;st.classList.remove("ion-page-invisible"),st.style.removeProperty("pointer-events"),void 0!==pt&&(pt.classList.remove("ion-page-invisible"),pt.style.removeProperty("pointer-events"))},je=function(){var it=(0,m.Z)(function*(st){return st.leavingEl&&st.animated&&0!==st.duration?st.animationBuilder?st.animationBuilder:"ios"===st.mode?(yield Promise.resolve().then(L.bind(L,8899))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,5298))).mdTransitionAnimation:void 0});return function(pt){return it.apply(this,arguments)}}(),ot=function(){var it=(0,m.Z)(function*(st,pt){yield Ie(pt,!0);const Ht=st(pt.baseEl,pt);Ze(pt.enteringEl,pt.leavingEl);const xn=yield ft(Ht,pt);return pt.progressCallback&&pt.progressCallback(void 0),xn&&fe(pt.enteringEl,pt.leavingEl),{hasCompleted:xn,animation:Ht}});return function(pt,Ht){return it.apply(this,arguments)}}(),we=function(){var it=(0,m.Z)(function*(st){const pt=st.enteringEl,Ht=st.leavingEl;return yield Ie(st,!1),Ze(pt,Ht),fe(pt,Ht),{hasCompleted:!0}});return function(pt){return it.apply(this,arguments)}}(),Ie=function(){var it=(0,m.Z)(function*(st,pt){(void 0!==st.deepWait?st.deepWait:pt)&&(yield Promise.all([ve(st.enteringEl),ve(st.leavingEl)])),yield ce(st.viewIsReady,st.enteringEl)});return function(pt,Ht){return it.apply(this,arguments)}}(),ce=function(){var it=(0,m.Z)(function*(st,pt){st&&(yield st(pt))});return function(pt,Ht){return it.apply(this,arguments)}}(),ft=(it,st)=>{const pt=st.progressCallback,Ht=new Promise(xn=>{it.onFinish(qt=>xn(1===qt))});return pt?(it.progressStart(!0),pt(it)):it.play(),Ht},Ze=(it,st)=>{Ae(st,_e),Ae(it,ie)},fe=(it,st)=>{Ae(it,Ee),Ae(st,le)},Ae=(it,st)=>{if(it){const pt=new CustomEvent(st,{bubbles:!1,cancelable:!1});it.dispatchEvent(pt)}},Be=()=>new Promise(it=>(0,W.r)(()=>(0,W.r)(()=>it()))),ve=function(){var it=(0,m.Z)(function*(st){const pt=st;if(pt){if(null!=pt.componentOnReady){if(null!=(yield pt.componentOnReady()))return}else if(null!=pt.__registerHost)return void(yield new Promise(xn=>(0,W.r)(xn)));yield Promise.all(Array.from(pt.children).map(ve))}});return function(pt){return it.apply(this,arguments)}}(),De=(it,st)=>{st?(it.setAttribute("aria-hidden","true"),it.classList.add("ion-page-hidden")):(it.hidden=!1,it.removeAttribute("aria-hidden"),it.classList.remove("ion-page-hidden"))},ke=(it,st,pt)=>{void 0!==it&&(it.style.zIndex="back"===pt?"99":"101"),void 0!==st&&(st.style.zIndex="100")},$e=it=>it.classList.contains("ion-page")?it:it.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||it},7643:(Wt,Qe,L)=>{"use strict";L.d(Qe,{d:()=>v,w:()=>m});const m=typeof window<"u"?window:void 0,v=typeof document<"u"?document:void 0},7690:(Wt,Qe,L)=>{"use strict";L.d(Qe,{a:()=>v,b:()=>W,p:()=>m});const m=(ie,...Ee)=>console.warn(`[Ionic Warning]: ${ie}`,...Ee),v=(ie,...Ee)=>console.error(`[Ionic Error]: ${ie}`,...Ee),W=(ie,...Ee)=>console.error(`<${ie.tagName.toLowerCase()}> must be used inside ${Ee.join(" or ")}.`)},7876:(Wt,Qe,L)=>{"use strict";L.d(Qe,{a:()=>ee,b:()=>xn,c:()=>W,g:()=>me,i:()=>qt});var m=L(6953);class v{constructor(){this.m=new Map}reset(se){this.m=new Map(Object.entries(se))}get(se,de){const Me=this.m.get(se);return void 0!==Me?Me:de}getBoolean(se,de=!1){const Me=this.m.get(se);return void 0===Me?de:"string"==typeof Me?"true"===Me:!!Me}getNumber(se,de){const Me=parseFloat(this.m.get(se));return isNaN(Me)?void 0!==de?de:NaN:Me}set(se,de){this.m.set(se,de)}}const W=new v,Ne="ionic-persist-config",me=lt=>be(lt),ee=(lt,se)=>("string"==typeof lt&&(se=lt,lt=void 0),me(lt).includes(se)),be=(lt=window)=>{if(typeof lt>"u")return[];lt.Ionic=lt.Ionic||{};let se=lt.Ionic.platforms;return null==se&&(se=lt.Ionic.platforms=ue(lt),se.forEach(de=>lt.document.documentElement.classList.add(`plt-${de}`))),se},ue=lt=>{const se=W.get("platform");return Object.keys(pt).filter(de=>{const Me=null==se?void 0:se[de];return"function"==typeof Me?Me(lt):pt[de](lt)})},je=lt=>!!(it(lt,/iPad/i)||it(lt,/Macintosh/i)&&fe(lt)),Ie=lt=>it(lt,/android|sink/i),fe=lt=>st(lt,"(any-pointer:coarse)"),Be=lt=>ve(lt)||De(lt),ve=lt=>!!(lt.cordova||lt.phonegap||lt.PhoneGap),De=lt=>{const se=lt.Capacitor;return!(null==se||!se.isNative)},it=(lt,se)=>se.test(lt.navigator.userAgent),st=(lt,se)=>{var de;return null===(de=lt.matchMedia)||void 0===de?void 0:de.call(lt,se).matches},pt={ipad:je,iphone:lt=>it(lt,/iPhone/i),ios:lt=>it(lt,/iPhone|iPod/i)||je(lt),android:Ie,phablet:lt=>{const se=lt.innerWidth,de=lt.innerHeight,Me=Math.min(se,de),Ge=Math.max(se,de);return Me>390&&Me<520&&Ge>620&&Ge<800},tablet:lt=>{const se=lt.innerWidth,de=lt.innerHeight,Me=Math.min(se,de),Ge=Math.max(se,de);return je(lt)||(lt=>Ie(lt)&&!it(lt,/mobile/i))(lt)||Me>460&&Me<820&&Ge>780&&Ge<1400},cordova:ve,capacitor:De,electron:lt=>it(lt,/electron/i),pwa:lt=>{var se;return!!(null!==(se=lt.matchMedia)&&void 0!==se&&se.call(lt,"(display-mode: standalone)").matches||lt.navigator.standalone)},mobile:fe,mobileweb:lt=>fe(lt)&&!Be(lt),desktop:lt=>!fe(lt),hybrid:Be};let Ht;const xn=lt=>lt&&(0,m.g)(lt)||Ht,qt=(lt={})=>{if(typeof window>"u")return;const se=window.document,de=window,Me=de.Ionic=de.Ionic||{},Ge={};lt._ael&&(Ge.ael=lt._ael),lt._rel&&(Ge.rel=lt._rel),lt._ce&&(Ge.ce=lt._ce),(0,m.a)(Ge);const Xe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(lt=>{try{const se=lt.sessionStorage.getItem(Ne);return null!==se?JSON.parse(se):{}}catch{return{}}})(de)),{persistConfig:!1}),Me.config),(lt=>{const se={};return lt.location.search.slice(1).split("&").map(de=>de.split("=")).map(([de,Me])=>[decodeURIComponent(de),decodeURIComponent(Me)]).filter(([de])=>((lt,se)=>lt.substr(0,se.length)===se)(de,"ionic:")).map(([de,Me])=>[de.slice(6),Me]).forEach(([de,Me])=>{se[de]=Me}),se})(de)),lt);W.reset(Xe),W.getBoolean("persistConfig")&&((lt,se)=>{try{lt.sessionStorage.setItem(Ne,JSON.stringify(se))}catch{return}})(de,Xe),be(de),Me.config=W,Me.mode=Ht=W.get("mode",se.documentElement.getAttribute("mode")||(ee(de,"ios")?"ios":"md")),W.set("mode",Ht),se.documentElement.setAttribute("mode",Ht),se.documentElement.classList.add(Ht),W.getBoolean("_testing")&&W.set("animated",!1);const qe=Ct=>{var ct;return null===(ct=Ct.tagName)||void 0===ct?void 0:ct.startsWith("ION-")},Bt=Ct=>["ios","md"].includes(Ct);(0,m.c)(Ct=>{for(;Ct;){const ct=Ct.mode||Ct.getAttribute("mode");if(ct){if(Bt(ct))return ct;qe(Ct)&&console.warn('Invalid ionic mode: "'+ct+'", expected: "ios" or "md"')}Ct=Ct.parentElement}return Ht})}},8899:(Wt,Qe,L)=>{"use strict";L.r(Qe),L.d(Qe,{iosTransitionAnimation:()=>ue,shadow:()=>le});var m=L(6506),v=L(8354);L(7643),L(6953);const _e=Te=>document.querySelector(`${Te}.ion-cloned-element`),le=Te=>Te.shadowRoot||Te,Ue=Te=>{const je="ION-TABS"===Te.tagName?Te:Te.querySelector("ion-tabs"),ot="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=je){const we=je.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=we?we.querySelector(ot):null}return Te.querySelector(ot)},Ne=(Te,je)=>{const ot="ION-TABS"===Te.tagName?Te:Te.querySelector("ion-tabs");let we=[];if(null!=ot){const Ie=ot.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ie&&(we=Ie.querySelectorAll("ion-buttons"))}else we=Te.querySelectorAll("ion-buttons");for(const Ie of we){const ce=Ie.closest("ion-header"),ft=ce&&!ce.classList.contains("header-collapse-condense-inactive"),Ze=Ie.querySelector("ion-back-button"),fe=Ie.classList.contains("buttons-collapse");if(null!==Ze&&("start"===Ie.slot||""===Ie.slot)&&(fe&&ft&&je||!fe))return Ze}return null},ee=(Te,je,ot,we,Ie,ce)=>{const ft=je?`calc(100% - ${ce.right+4}px)`:ce.left-4+"px",Ze=je?"7px":"-7px",fe=je?"-4px":"4px",Ae=je?"-4px":"4px",Be=je?"right":"left",ve=je?"left":"right",$e=ot?[{offset:0,opacity:1,transform:`translate3d(${fe}, ${ce.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ze}, ${Ie.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ze}, ${Ie.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${fe}, ${ce.top-46}px, 0) scale(1)`}],pt=ot?[{offset:0,opacity:1,transform:`translate3d(${Ae}, ${ce.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ae}, ${ce.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ae}, ${ce.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ae}, ${ce.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ae}, ${ce.top-46}px, 0) scale(1)`}],Ht=(0,m.c)(),xn=(0,m.c)(),qt=_e("ion-back-button"),lt=le(qt).querySelector(".button-text"),se=le(qt).querySelector("ion-icon");qt.text=we.text,qt.mode=we.mode,qt.icon=we.icon,qt.color=we.color,qt.disabled=we.disabled,qt.style.setProperty("display","block"),qt.style.setProperty("position","fixed"),xn.addElement(se),Ht.addElement(lt),Ht.beforeStyles({"transform-origin":`${Be} center`}).beforeAddWrite(()=>{we.style.setProperty("display","none"),qt.style.setProperty(Be,ft)}).afterAddWrite(()=>{we.style.setProperty("display",""),qt.style.setProperty("display","none"),qt.style.removeProperty(Be)}).keyframes($e),xn.beforeStyles({"transform-origin":`${ve} center`}).keyframes(pt),Te.addAnimation([Ht,xn])},be=(Te,je,ot,we,Ie,ce)=>{const ft=je?`calc(100% - ${Ie.right}px)`:`${Ie.left}px`,Ze=je?"-18px":"18px",fe=je?"right":"left",ve=ot?[{offset:0,opacity:0,transform:`translate3d(${Ze}, ${ce.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ie.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ie.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ze}, ${ce.top-4}px, 0) scale(0.5)`}],De=_e("ion-title"),ke=(0,m.c)();De.innerText=we.innerText,De.size=we.size,De.color=we.color,ke.addElement(De),ke.beforeStyles({"transform-origin":`${fe} center`,height:"46px",display:"",position:"relative",[fe]:ft}).beforeAddWrite(()=>{we.style.setProperty("display","none")}).afterAddWrite(()=>{we.style.setProperty("display",""),De.style.setProperty("display","none")}).keyframes(ve),Te.addAnimation(ke)},ue=(Te,je)=>{var ot;try{const we="cubic-bezier(0.32,0.72,0,1)",Ie="opacity",ce="transform",ft="0%",fe="rtl"===Te.ownerDocument.dir,Ae=fe?"-99.5%":"99.5%",Be=fe?"33%":"-33%",ve=je.enteringEl,De=je.leavingEl,ke="back"===je.direction,$e=ve.querySelector(":scope > ion-content"),it=ve.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),st=ve.querySelectorAll(":scope > ion-header > ion-toolbar"),pt=(0,m.c)(),Ht=(0,m.c)();if(pt.addElement(ve).duration((null!==(ot=je.duration)&&void 0!==ot?ot:0)||540).easing(je.easing||we).fill("both").beforeRemoveClass("ion-page-invisible"),De&&null!=Te){const se=(0,m.c)();se.addElement(Te),pt.addAnimation(se)}if($e||0!==st.length||0!==it.length?(Ht.addElement($e),Ht.addElement(it)):Ht.addElement(ve.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),pt.addAnimation(Ht),ke?Ht.beforeClearStyles([Ie]).fromTo("transform",`translateX(${Be})`,`translateX(${ft})`).fromTo(Ie,.8,1):Ht.beforeClearStyles([Ie]).fromTo("transform",`translateX(${Ae})`,`translateX(${ft})`),$e){const se=le($e).querySelector(".transition-effect");if(se){const de=se.querySelector(".transition-cover"),Me=se.querySelector(".transition-shadow"),Ge=(0,m.c)(),Xe=(0,m.c)(),qe=(0,m.c)();Ge.addElement(se).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Xe.addElement(de).beforeClearStyles([Ie]).fromTo(Ie,0,.1),qe.addElement(Me).beforeClearStyles([Ie]).fromTo(Ie,.03,.7),Ge.addAnimation([Xe,qe]),Ht.addAnimation([Ge])}}const xn=ve.querySelector("ion-header.header-collapse-condense"),{forward:qt,backward:lt}=((Te,je,ot,we,Ie)=>{const ce=Ne(we,ot),ft=Ue(Ie),Ze=Ue(we),fe=Ne(Ie,ot),Ae=null!==ce&&null!==ft&&!ot,Be=null!==Ze&&null!==fe&&ot;if(Ae){const ve=ft.getBoundingClientRect(),De=ce.getBoundingClientRect();be(Te,je,ot,ft,ve,De),ee(Te,je,ot,ce,ve,De)}else if(Be){const ve=Ze.getBoundingClientRect(),De=fe.getBoundingClientRect();be(Te,je,ot,Ze,ve,De),ee(Te,je,ot,fe,ve,De)}return{forward:Ae,backward:Be}})(pt,fe,ke,ve,De);if(st.forEach(se=>{const de=(0,m.c)();de.addElement(se),pt.addAnimation(de);const Me=(0,m.c)();Me.addElement(se.querySelector("ion-title"));const Ge=(0,m.c)(),Xe=Array.from(se.querySelectorAll("ion-buttons,[menuToggle]")),qe=se.closest("ion-header"),Bt=null==qe?void 0:qe.classList.contains("header-collapse-condense-inactive");let Ct;Ct=Xe.filter(ke?Dt=>{const $t=Dt.classList.contains("buttons-collapse");return $t&&!Bt||!$t}:Dt=>!Dt.classList.contains("buttons-collapse")),Ge.addElement(Ct);const ct=(0,m.c)();ct.addElement(se.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const ht=(0,m.c)();ht.addElement(le(se).querySelector(".toolbar-background"));const Oe=(0,m.c)(),It=se.querySelector("ion-back-button");if(It&&Oe.addElement(It),de.addAnimation([Me,Ge,ct,ht,Oe]),Ge.fromTo(Ie,.01,1),ct.fromTo(Ie,.01,1),ke)Bt||Me.fromTo("transform",`translateX(${Be})`,`translateX(${ft})`).fromTo(Ie,.01,1),ct.fromTo("transform",`translateX(${Be})`,`translateX(${ft})`),Oe.fromTo(Ie,.01,1);else if(xn||Me.fromTo("transform",`translateX(${Ae})`,`translateX(${ft})`).fromTo(Ie,.01,1),ct.fromTo("transform",`translateX(${Ae})`,`translateX(${ft})`),ht.beforeClearStyles([Ie,"transform"]),(null==qe?void 0:qe.translucent)?ht.fromTo("transform",fe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):ht.fromTo(Ie,.01,"var(--opacity)"),qt||Oe.fromTo(Ie,.01,1),It&&!qt){const $t=(0,m.c)();$t.addElement(le(It).querySelector(".button-text")).fromTo("transform",fe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),de.addAnimation($t)}}),De){const se=(0,m.c)(),de=De.querySelector(":scope > ion-content"),Me=De.querySelectorAll(":scope > ion-header > ion-toolbar"),Ge=De.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(de||0!==Me.length||0!==Ge.length?(se.addElement(de),se.addElement(Ge)):se.addElement(De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),pt.addAnimation(se),ke){se.beforeClearStyles([Ie]).fromTo("transform",`translateX(${ft})`,fe?"translateX(-100%)":"translateX(100%)");const Xe=(0,v.g)(De);pt.afterAddWrite(()=>{"normal"===pt.getDirection()&&Xe.style.setProperty("display","none")})}else se.fromTo("transform",`translateX(${ft})`,`translateX(${Be})`).fromTo(Ie,1,.8);if(de){const Xe=le(de).querySelector(".transition-effect");if(Xe){const qe=Xe.querySelector(".transition-cover"),Bt=Xe.querySelector(".transition-shadow"),Ct=(0,m.c)(),ct=(0,m.c)(),ht=(0,m.c)();Ct.addElement(Xe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ct.addElement(qe).beforeClearStyles([Ie]).fromTo(Ie,.1,0),ht.addElement(Bt).beforeClearStyles([Ie]).fromTo(Ie,.7,.03),Ct.addAnimation([ct,ht]),se.addAnimation([Ct])}}Me.forEach(Xe=>{const qe=(0,m.c)();qe.addElement(Xe);const Bt=(0,m.c)();Bt.addElement(Xe.querySelector("ion-title"));const Ct=(0,m.c)(),ct=Xe.querySelectorAll("ion-buttons,[menuToggle]"),ht=Xe.closest("ion-header"),Oe=null==ht?void 0:ht.classList.contains("header-collapse-condense-inactive"),It=Array.from(ct).filter(Pn=>{const On=Pn.classList.contains("buttons-collapse");return On&&!Oe||!On});Ct.addElement(It);const Dt=(0,m.c)(),$t=Xe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");$t.length>0&&Dt.addElement($t);const mn=(0,m.c)();mn.addElement(le(Xe).querySelector(".toolbar-background"));const cn=(0,m.c)(),En=Xe.querySelector("ion-back-button");if(En&&cn.addElement(En),qe.addAnimation([Bt,Ct,Dt,cn,mn]),pt.addAnimation(qe),cn.fromTo(Ie,.99,0),Ct.fromTo(Ie,.99,0),Dt.fromTo(Ie,.99,0),ke){if(Oe||Bt.fromTo("transform",`translateX(${ft})`,fe?"translateX(-100%)":"translateX(100%)").fromTo(Ie,.99,0),Dt.fromTo("transform",`translateX(${ft})`,fe?"translateX(-100%)":"translateX(100%)"),mn.beforeClearStyles([Ie,"transform"]),(null==ht?void 0:ht.translucent)?mn.fromTo("transform","translateX(0px)",fe?"translateX(-100%)":"translateX(100%)"):mn.fromTo(Ie,"var(--opacity)",0),En&&!lt){const On=(0,m.c)();On.addElement(le(En).querySelector(".button-text")).fromTo("transform",`translateX(${ft})`,`translateX(${(fe?-124:124)+"px"})`),qe.addAnimation(On)}}else Oe||Bt.fromTo("transform",`translateX(${ft})`,`translateX(${Be})`).fromTo(Ie,.99,0).afterClearStyles([ce,Ie]),Dt.fromTo("transform",`translateX(${ft})`,`translateX(${Be})`).afterClearStyles([ce,Ie]),cn.afterClearStyles([Ie]),Bt.afterClearStyles([Ie]),Ct.afterClearStyles([Ie])})}return pt}catch(we){throw we}}},5298:(Wt,Qe,L)=>{"use strict";L.r(Qe),L.d(Qe,{mdTransitionAnimation:()=>Ee});var m=L(6506),v=L(8354);L(7643),L(6953);const Ee=(_e,le)=>{var Ue,Ne,me;const ue="back"===le.direction,je=le.leavingEl,ot=(0,v.g)(le.enteringEl),we=ot.querySelector("ion-toolbar"),Ie=(0,m.c)();if(Ie.addElement(ot).fill("both").beforeRemoveClass("ion-page-invisible"),ue?Ie.duration((null!==(Ue=le.duration)&&void 0!==Ue?Ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ie.duration((null!==(Ne=le.duration)&&void 0!==Ne?Ne:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),we){const ce=(0,m.c)();ce.addElement(we),Ie.addAnimation(ce)}if(je&&ue){Ie.duration((null!==(me=le.duration)&&void 0!==me?me:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ce=(0,m.c)();ce.addElement((0,v.g)(je)).onFinish(ft=>{1===ft&&ce.elements.length>0&&ce.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ie.addAnimation(ce)}return Ie}},8946:(Wt,Qe,L)=>{"use strict";L.d(Qe,{B:()=>qe,G:()=>Bt,a:()=>ee,b:()=>be,c:()=>ot,d:()=>Ct,e:()=>ct,f:()=>pt,g:()=>xn,h:()=>se,i:()=>Me,j:()=>Ie,k:()=>ce,m:()=>Te,n:()=>Ne,o:()=>fe,q:()=>it,s:()=>Xe});var m=L(5861),v=L(7876),W=L(9439),ie=L(5421),Ee=L(544),_e=L(7690);let le=0,Ue=0;const Ne=new WeakMap,me=ht=>({create:Oe=>ft(ht,Oe),dismiss:(Oe,It,Dt)=>ke(document,Oe,It,ht,Dt),getTop:()=>(0,m.Z)(function*(){return it(document,ht)})()}),ee=me("ion-alert"),be=me("ion-action-sheet"),Te=me("ion-modal"),ot=me("ion-popover"),Ie=ht=>{typeof document<"u"&&De(document);const Oe=le++;ht.overlayIndex=Oe},ce=ht=>(ht.hasAttribute("id")||(ht.id="ion-overlay-"+ ++Ue),ht.id),ft=(ht,Oe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ht).then(()=>{const It=document.createElement(ht);return It.classList.add("overlay-hidden"),Object.assign(It,Object.assign(Object.assign({},Oe),{hasController:!0})),qt(document).appendChild(It),new Promise(Dt=>(0,Ee.c)(It,Dt))}):Promise.resolve(),Ze='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',fe=(ht,Oe)=>{let It=ht.querySelector(Ze);const Dt=null==It?void 0:It.shadowRoot;Dt&&(It=Dt.querySelector(Ze)||It),It?(0,Ee.f)(It):Oe.focus()},Be=(ht,Oe)=>{const It=Array.from(ht.querySelectorAll(Ze));let Dt=It.length>0?It[It.length-1]:null;const $t=null==Dt?void 0:Dt.shadowRoot;$t&&(Dt=$t.querySelector(Ze)||Dt),Dt?Dt.focus():Oe.focus()},De=ht=>{0===le&&(le=1,ht.addEventListener("focus",Oe=>{((ht,Oe)=>{const It=it(Oe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Dt=ht.target;It&&Dt&&!It.classList.contains("ion-disable-focus-trap")&&(It.shadowRoot?(()=>{if(It.contains(Dt))It.lastFocus=Dt;else{const cn=It.lastFocus;fe(It,It),cn===Oe.activeElement&&Be(It,It),It.lastFocus=Oe.activeElement}})():(()=>{if(It===Dt)It.lastFocus=void 0;else{const cn=(0,Ee.g)(It);if(!cn.contains(Dt))return;const En=cn.querySelector(".ion-overlay-wrapper");if(!En)return;if(En.contains(Dt)||Dt===cn.querySelector("ion-backdrop"))It.lastFocus=Dt;else{const Pn=It.lastFocus;fe(En,It),Pn===Oe.activeElement&&Be(En,It),It.lastFocus=Oe.activeElement}}})())})(Oe,ht)},!0),ht.addEventListener("ionBackButton",Oe=>{const It=it(ht);null!=It&&It.backdropDismiss&&Oe.detail.register(ie.OVERLAY_BACK_BUTTON_PRIORITY,()=>It.dismiss(void 0,qe))}),ht.addEventListener("keydown",Oe=>{if("Escape"===Oe.key){const It=it(ht);null!=It&&It.backdropDismiss&&It.dismiss(void 0,qe)}}))},ke=(ht,Oe,It,Dt,$t)=>{const mn=it(ht,Dt,$t);return mn?mn.dismiss(Oe,It):Promise.reject("overlay does not exist")},it=(ht,Oe,It)=>{const Dt=((ht,Oe)=>(void 0===Oe&&(Oe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ht.querySelectorAll(Oe)).filter(It=>It.overlayIndex>0)))(ht,Oe).filter($t=>!(ht=>ht.classList.contains("overlay-hidden"))($t));return void 0===It?Dt[Dt.length-1]:Dt.find($t=>$t.id===It)},st=(ht=!1)=>{const It=qt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");It&&(ht?It.setAttribute("aria-hidden","true"):It.removeAttribute("aria-hidden"))},pt=function(){var ht=(0,m.Z)(function*(Oe,It,Dt,$t,mn){var cn,En;if(Oe.presented)return;st(!0),Oe.presented=!0,Oe.willPresent.emit(),null===(cn=Oe.willPresentShorthand)||void 0===cn||cn.emit();const Pn=(0,v.b)(Oe),On=Oe.enterAnimation?Oe.enterAnimation:v.c.get(It,"ios"===Pn?Dt:$t);(yield lt(Oe,On,Oe.el,mn))&&(Oe.didPresent.emit(),null===(En=Oe.didPresentShorthand)||void 0===En||En.emit()),"ION-TOAST"!==Oe.el.tagName&&Ht(Oe.el),Oe.keyboardClose&&(null===document.activeElement||!Oe.el.contains(document.activeElement))&&Oe.el.focus()});return function(It,Dt,$t,mn,cn){return ht.apply(this,arguments)}}(),Ht=function(){var ht=(0,m.Z)(function*(Oe){let It=document.activeElement;if(!It)return;const Dt=null==It?void 0:It.shadowRoot;Dt&&(It=Dt.querySelector(Ze)||It),yield Oe.onDidDismiss(),It.focus()});return function(It){return ht.apply(this,arguments)}}(),xn=function(){var ht=(0,m.Z)(function*(Oe,It,Dt,$t,mn,cn,En){var Pn,On;if(!Oe.presented)return!1;st(!1),Oe.presented=!1;try{Oe.el.style.setProperty("pointer-events","none"),Oe.willDismiss.emit({data:It,role:Dt}),null===(Pn=Oe.willDismissShorthand)||void 0===Pn||Pn.emit({data:It,role:Dt});const Dn=(0,v.b)(Oe),Vn=Oe.leaveAnimation?Oe.leaveAnimation:v.c.get($t,"ios"===Dn?mn:cn);Dt!==Bt&&(yield lt(Oe,Vn,Oe.el,En)),Oe.didDismiss.emit({data:It,role:Dt}),null===(On=Oe.didDismissShorthand)||void 0===On||On.emit({data:It,role:Dt}),Ne.delete(Oe),Oe.el.classList.add("overlay-hidden"),Oe.el.style.removeProperty("pointer-events"),void 0!==Oe.el.lastFocus&&(Oe.el.lastFocus=void 0)}catch(Dn){console.error(Dn)}return Oe.el.remove(),!0});return function(It,Dt,$t,mn,cn,En,Pn){return ht.apply(this,arguments)}}(),qt=ht=>ht.querySelector("ion-app")||ht.body,lt=function(){var ht=(0,m.Z)(function*(Oe,It,Dt,$t){Dt.classList.remove("overlay-hidden");const cn=It(Oe.el,$t);(!Oe.animated||!v.c.getBoolean("animated",!0))&&cn.duration(0),Oe.keyboardClose&&cn.beforeAddWrite(()=>{const Pn=Dt.ownerDocument.activeElement;null!=Pn&&Pn.matches("input,ion-input, ion-textarea")&&Pn.blur()});const En=Ne.get(Oe)||[];return Ne.set(Oe,[...En,cn]),yield cn.play(),!0});return function(It,Dt,$t,mn){return ht.apply(this,arguments)}}(),se=(ht,Oe)=>{let It;const Dt=new Promise($t=>It=$t);return de(ht,Oe,$t=>{It($t.detail)}),Dt},de=(ht,Oe,It)=>{const Dt=$t=>{(0,Ee.b)(ht,Oe,Dt),It($t)};(0,Ee.a)(ht,Oe,Dt)},Me=ht=>"cancel"===ht||ht===qe,Ge=ht=>ht(),Xe=(ht,Oe)=>{if("function"==typeof ht)return v.c.get("_zoneGate",Ge)(()=>{try{return ht(Oe)}catch(Dt){throw Dt}})},qe="backdrop",Bt="gesture",Ct=ht=>{let It,Oe=!1;const Dt=(0,W.C)(),$t=(En=!1)=>{if(It&&!En)return{delegate:It,inline:Oe};const{el:Pn,hasController:On,delegate:Dn}=ht;return Oe=null!==Pn.parentNode&&!On,It=Oe?Dn||Dt:Dn,{inline:Oe,delegate:It}};return{attachViewToDom:function(){var En=(0,m.Z)(function*(Pn){const{delegate:On}=$t(!0);if(On)return yield On.attachViewToDom(ht.el,Pn);const{hasController:Dn}=ht;if(Dn&&void 0!==Pn)throw new Error("framework delegate is missing");return null});return function(On){return En.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:En}=$t();En&&void 0!==ht.el&&En.removeViewFromDom(ht.el.parentElement,ht.el)}}},ct=()=>{let ht;const Oe=()=>{ht&&(ht(),ht=void 0)};return{addClickListener:(Dt,$t)=>{Oe();const mn=void 0!==$t?document.getElementById($t):null;mn?ht=((En,Pn)=>{const On=()=>{Pn.present()};return En.addEventListener("click",On),()=>{En.removeEventListener("click",On)}})(mn,Dt):(0,_e.p)(`A trigger element with the ID "${$t}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Dt)},removeClickListener:Oe}}},6162:(Wt,Qe,L)=>{"use strict";var m=L(6593),v=L(5879),W=L(5574),ie=L(5548);let Ee=(()=>{var ue;class Te{constructor(){}}return(ue=Te).\u0275fac=function(ot){return new(ot||ue)},ue.\u0275cmp=v.Xpm({type:ue,selectors:[["app-root"]],decls:2,vars:0,template:function(ot,we){1&ot&&(v.TgZ(0,"ion-app"),v._UZ(1,"ion-router-outlet"),v.qZA())},dependencies:[ie.dr,ie.jP]}),Te})();const _e=[{path:"",redirectTo:"map",pathMatch:"full"},{path:"map",loadChildren:()=>L.e(129).then(L.bind(L,129)).then(ue=>ue.MapPageModule)}];let le=(()=>{var ue;class Te{}return(ue=Te).\u0275fac=function(ot){return new(ot||ue)},ue.\u0275mod=v.oAB({type:ue}),ue.\u0275inj=v.cJS({imports:[W.Bz.forRoot(_e,{preloadingStrategy:W.wm}),W.Bz]}),Te})();const Ue_firebase={apiKey:"AIzaSyBtmd_muKGWlQY4P7mtSYGDzg8m0v_c_40",authDomain:"study-prs01.firebaseapp.com",projectId:"study-prs01",storageBucket:"study-prs01.appspot.com",messagingSenderId:"465320040468",appId:"1:465320040468:web:12a6d344fb20b9d4a5af01"};var Ne=L(6304),me=L(6796),ee=L(8330);let be=(()=>{var ue;class Te{}return(ue=Te).\u0275fac=function(ot){return new(ot||ue)},ue.\u0275mod=v.oAB({type:ue,bootstrap:[Ee]}),ue.\u0275inj=v.cJS({providers:[{provide:W.wN,useClass:ie.r4}],imports:[m.b2,ie.Pc.forRoot(),le,Ne.hO.initializeApp(Ue_firebase),me.ww,ee.yb]}),Te})();(0,v.G48)(),m.q6().bootstrapModule(be).catch(ue=>console.log(ue))},5619:(Wt,Qe,L)=>{"use strict";L.d(Qe,{X:()=>v});var m=L(8645);class v extends m.x{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const Ee=super._subscribe(ie);return!Ee.closed&&ie.next(this._value),Ee}getValue(){const{hasError:ie,thrownError:Ee,_value:_e}=this;if(ie)throw Ee;return this._throwIfClosed(),_e}next(ie){super.next(this._value=ie)}}},5592:(Wt,Qe,L)=>{"use strict";L.d(Qe,{y:()=>Ue});var m=L(1887),v=L(7394),W=L(4850),ie=L(8407),Ee=L(2653),_e=L(4674),le=L(1441);let Ue=(()=>{class be{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const je=new be;return je.source=this,je.operator=Te,je}subscribe(Te,je,ot){const we=function ee(be){return be&&be instanceof m.Lv||function me(be){return be&&(0,_e.m)(be.next)&&(0,_e.m)(be.error)&&(0,_e.m)(be.complete)}(be)&&(0,v.Nn)(be)}(Te)?Te:new m.Hp(Te,je,ot);return(0,le.x)(()=>{const{operator:Ie,source:ce}=this;we.add(Ie?Ie.call(we,ce):ce?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Te){try{return this._subscribe(Te)}catch(je){Te.error(je)}}forEach(Te,je){return new(je=Ne(je))((ot,we)=>{const Ie=new m.Hp({next:ce=>{try{Te(ce)}catch(ft){we(ft),Ie.unsubscribe()}},error:we,complete:ot});this.subscribe(Ie)})}_subscribe(Te){var je;return null===(je=this.source)||void 0===je?void 0:je.subscribe(Te)}[W.L](){return this}pipe(...Te){return(0,ie.U)(Te)(this)}toPromise(Te){return new(Te=Ne(Te))((je,ot)=>{let we;this.subscribe(Ie=>we=Ie,Ie=>ot(Ie),()=>je(we))})}}return be.create=ue=>new be(ue),be})();function Ne(be){var ue;return null!==(ue=null!=be?be:Ee.config.Promise)&&void 0!==ue?ue:Promise}},8645:(Wt,Qe,L)=>{"use strict";L.d(Qe,{x:()=>le});var m=L(5592),v=L(7394);const ie=(0,L(2306).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=L(9039),_e=L(1441);let le=(()=>{class Ne extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const be=new Ue(this,this);return be.operator=ee,be}_throwIfClosed(){if(this.closed)throw new ie}next(ee){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(ee)}})}error(ee){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:be}=this;for(;be.length;)be.shift().error(ee)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:be,isStopped:ue,observers:Te}=this;return be||ue?v.Lc:(this.currentObservers=null,Te.push(ee),new v.w0(()=>{this.currentObservers=null,(0,Ee.P)(Te,ee)}))}_checkFinalizedStatuses(ee){const{hasError:be,thrownError:ue,isStopped:Te}=this;be?ee.error(ue):Te&&ee.complete()}asObservable(){const ee=new m.y;return ee.source=this,ee}}return Ne.create=(me,ee)=>new Ue(me,ee),Ne})();class Ue extends le{constructor(me,ee){super(),this.destination=me,this.source=ee}next(me){var ee,be;null===(be=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===be||be.call(ee,me)}error(me){var ee,be;null===(be=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===be||be.call(ee,me)}complete(){var me,ee;null===(ee=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===ee||ee.call(me)}_subscribe(me){var ee,be;return null!==(be=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(me))&&void 0!==be?be:v.Lc}}},1887:(Wt,Qe,L)=>{"use strict";L.d(Qe,{Hp:()=>ot,Lv:()=>be});var m=L(4674),v=L(7394),W=L(2653),ie=L(3894);function Ee(){}const _e=Ne("C",void 0,void 0);function Ne(Ze,fe,Ae){return{kind:Ze,value:fe,error:Ae}}var me=L(7599),ee=L(1441);class be extends v.w0{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,v.Nn)(fe)&&fe.add(this)):this.destination=ft}static create(fe,Ae,Be){return new ot(fe,Ae,Be)}next(fe){this.isStopped?ce(function Ue(Ze){return Ne("N",Ze,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?ce(function le(Ze){return Ne("E",void 0,Ze)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?ce(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ue=Function.prototype.bind;function Te(Ze,fe){return ue.call(Ze,fe)}class je{constructor(fe){this.partialObserver=fe}next(fe){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(fe)}catch(Be){we(Be)}}error(fe){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(fe)}catch(Be){we(Be)}else we(fe)}complete(){const{partialObserver:fe}=this;if(fe.complete)try{fe.complete()}catch(Ae){we(Ae)}}}class ot extends be{constructor(fe,Ae,Be){let ve;if(super(),(0,m.m)(fe)||!fe)ve={next:null!=fe?fe:void 0,error:null!=Ae?Ae:void 0,complete:null!=Be?Be:void 0};else{let De;this&&W.config.useDeprecatedNextContext?(De=Object.create(fe),De.unsubscribe=()=>this.unsubscribe(),ve={next:fe.next&&Te(fe.next,De),error:fe.error&&Te(fe.error,De),complete:fe.complete&&Te(fe.complete,De)}):ve=fe}this.destination=new je(ve)}}function we(Ze){W.config.useDeprecatedSynchronousErrorHandling?(0,ee.O)(Ze):(0,ie.h)(Ze)}function ce(Ze,fe){const{onStoppedNotification:Ae}=W.config;Ae&&me.z.setTimeout(()=>Ae(Ze,fe))}const ft={closed:!0,next:Ee,error:function Ie(Ze){throw Ze},complete:Ee}},7394:(Wt,Qe,L)=>{"use strict";L.d(Qe,{Lc:()=>_e,w0:()=>Ee,Nn:()=>le});var m=L(4674);const W=(0,L(2306).d)(Ne=>function(ee){Ne(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((be,ue)=>`${ue+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ie=L(9039);class Ee{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Te of ee)Te.remove(this);else ee.remove(this);const{initialTeardown:be}=this;if((0,m.m)(be))try{be()}catch(Te){me=Te instanceof W?Te.errors:[Te]}const{_finalizers:ue}=this;if(ue){this._finalizers=null;for(const Te of ue)try{Ue(Te)}catch(je){me=null!=me?me:[],je instanceof W?me=[...me,...je.errors]:me.push(je)}}if(me)throw new W(me)}}add(me){var ee;if(me&&me!==this)if(this.closed)Ue(me);else{if(me instanceof Ee){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(me)}}_hasParent(me){const{_parentage:ee}=this;return ee===me||Array.isArray(ee)&&ee.includes(me)}_addParent(me){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(me),ee):ee?[ee,me]:me}_removeParent(me){const{_parentage:ee}=this;ee===me?this._parentage=null:Array.isArray(ee)&&(0,ie.P)(ee,me)}remove(me){const{_finalizers:ee}=this;ee&&(0,ie.P)(ee,me),me instanceof Ee&&me._removeParent(this)}}Ee.EMPTY=(()=>{const Ne=new Ee;return Ne.closed=!0,Ne})();const _e=Ee.EMPTY;function le(Ne){return Ne instanceof Ee||Ne&&"closed"in Ne&&(0,m.m)(Ne.remove)&&(0,m.m)(Ne.add)&&(0,m.m)(Ne.unsubscribe)}function Ue(Ne){(0,m.m)(Ne)?Ne():Ne.unsubscribe()}},2653:(Wt,Qe,L)=>{"use strict";L.d(Qe,{config:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Wt,Qe,L)=>{"use strict";L.d(Qe,{a:()=>me});var m=L(5592),v=L(7453),W=L(2459),ie=L(2737),Ee=L(7400),_e=L(9940),le=L(2714),Ue=L(8251),Ne=L(7103);function me(...ue){const Te=(0,_e.yG)(ue),je=(0,_e.jO)(ue),{args:ot,keys:we}=(0,v.D)(ue);if(0===ot.length)return(0,W.D)([],Te);const Ie=new m.y(function ee(ue,Te,je=ie.y){return ot=>{be(Te,()=>{const{length:we}=ue,Ie=new Array(we);let ce=we,ft=we;for(let Ze=0;Ze<we;Ze++)be(Te,()=>{const fe=(0,W.D)(ue[Ze],Te);let Ae=!1;fe.subscribe((0,Ue.x)(ot,Be=>{Ie[Ze]=Be,Ae||(Ae=!0,ft--),ft||ot.next(je(Ie.slice()))},()=>{--ce||ot.complete()}))},ot)},ot)}}(ot,Te,we?ce=>(0,le.n)(we,ce):ie.y));return je?Ie.pipe((0,Ee.Z)(je)):Ie}function be(ue,Te,je){ue?(0,Ne.f)(je,ue,Te):Te()}},5211:(Wt,Qe,L)=>{"use strict";L.d(Qe,{z:()=>Ee});var m=L(7537),W=L(9940),ie=L(2459);function Ee(..._e){return function v(){return(0,m.J)(1)}()((0,ie.D)(_e,(0,W.yG)(_e)))}},6232:(Wt,Qe,L)=>{"use strict";L.d(Qe,{E:()=>v});const v=new(L(5592).y)(Ee=>Ee.complete())},2459:(Wt,Qe,L)=>{"use strict";L.d(Qe,{D:()=>fe});var m=L(4829),v=L(3093),W=L(5137),_e=L(5592),Ue=L(4971),Ne=L(4674),me=L(7103);function be(Ae,Be){if(!Ae)throw new Error("Iterable cannot be null");return new _e.y(ve=>{(0,me.f)(ve,Be,()=>{const De=Ae[Symbol.asyncIterator]();(0,me.f)(ve,Be,()=>{De.next().then(ke=>{ke.done?ve.complete():ve.next(ke.value)})},0,!0)})})}var ue=L(8382),Te=L(4026),je=L(4266),ot=L(3664),we=L(5726),Ie=L(9853),ce=L(541);function fe(Ae,Be){return Be?function Ze(Ae,Be){if(null!=Ae){if((0,ue.c)(Ae))return function ie(Ae,Be){return(0,m.Xf)(Ae).pipe((0,W.R)(Be),(0,v.Q)(Be))}(Ae,Be);if((0,je.z)(Ae))return function le(Ae,Be){return new _e.y(ve=>{let De=0;return Be.schedule(function(){De===Ae.length?ve.complete():(ve.next(Ae[De++]),ve.closed||this.schedule())})})}(Ae,Be);if((0,Te.t)(Ae))return function Ee(Ae,Be){return(0,m.Xf)(Ae).pipe((0,W.R)(Be),(0,v.Q)(Be))}(Ae,Be);if((0,we.D)(Ae))return be(Ae,Be);if((0,ot.T)(Ae))return function ee(Ae,Be){return new _e.y(ve=>{let De;return(0,me.f)(ve,Be,()=>{De=Ae[Ue.h](),(0,me.f)(ve,Be,()=>{let ke,$e;try{({value:ke,done:$e}=De.next())}catch(it){return void ve.error(it)}$e?ve.complete():ve.next(ke)},0,!0)}),()=>(0,Ne.m)(null==De?void 0:De.return)&&De.return()})}(Ae,Be);if((0,ce.L)(Ae))return function ft(Ae,Be){return be((0,ce.Q)(Ae),Be)}(Ae,Be)}throw(0,Ie.z)(Ae)}(Ae,Be):(0,m.Xf)(Ae)}},4829:(Wt,Qe,L)=>{"use strict";L.d(Qe,{Xf:()=>ue});var m=L(7582),v=L(4266),W=L(4026),ie=L(5592),Ee=L(8382),_e=L(5726),le=L(9853),Ue=L(3664),Ne=L(541),me=L(4674),ee=L(3894),be=L(4850);function ue(Ze){if(Ze instanceof ie.y)return Ze;if(null!=Ze){if((0,Ee.c)(Ze))return function Te(Ze){return new ie.y(fe=>{const Ae=Ze[be.L]();if((0,me.m)(Ae.subscribe))return Ae.subscribe(fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ze);if((0,v.z)(Ze))return function je(Ze){return new ie.y(fe=>{for(let Ae=0;Ae<Ze.length&&!fe.closed;Ae++)fe.next(Ze[Ae]);fe.complete()})}(Ze);if((0,W.t)(Ze))return function ot(Ze){return new ie.y(fe=>{Ze.then(Ae=>{fe.closed||(fe.next(Ae),fe.complete())},Ae=>fe.error(Ae)).then(null,ee.h)})}(Ze);if((0,_e.D)(Ze))return Ie(Ze);if((0,Ue.T)(Ze))return function we(Ze){return new ie.y(fe=>{for(const Ae of Ze)if(fe.next(Ae),fe.closed)return;fe.complete()})}(Ze);if((0,Ne.L)(Ze))return function ce(Ze){return Ie((0,Ne.Q)(Ze))}(Ze)}throw(0,le.z)(Ze)}function Ie(Ze){return new ie.y(fe=>{(function ft(Ze,fe){var Ae,Be,ve,De;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,m.KL)(Ze);!(Be=yield Ae.next()).done;)if(fe.next(Be.value),fe.closed)return}catch(ke){ve={error:ke}}finally{try{Be&&!Be.done&&(De=Ae.return)&&(yield De.call(Ae))}finally{if(ve)throw ve.error}}fe.complete()})})(Ze,fe).catch(Ae=>fe.error(Ae))})}},3019:(Wt,Qe,L)=>{"use strict";L.d(Qe,{T:()=>_e});var m=L(7537),v=L(4829),W=L(6232),ie=L(9940),Ee=L(2459);function _e(...le){const Ue=(0,ie.yG)(le),Ne=(0,ie._6)(le,1/0),me=le;return me.length?1===me.length?(0,v.Xf)(me[0]):(0,m.J)(Ne)((0,Ee.D)(me,Ue)):W.E}},2096:(Wt,Qe,L)=>{"use strict";L.d(Qe,{of:()=>W});var m=L(9940),v=L(2459);function W(...ie){const Ee=(0,m.yG)(ie);return(0,v.D)(ie,Ee)}},8251:(Wt,Qe,L)=>{"use strict";L.d(Qe,{x:()=>v});var m=L(1887);function v(ie,Ee,_e,le,Ue){return new W(ie,Ee,_e,le,Ue)}class W extends m.Lv{constructor(Ee,_e,le,Ue,Ne,me){super(Ee),this.onFinalize=Ne,this.shouldUnsubscribe=me,this._next=_e?function(ee){try{_e(ee)}catch(be){Ee.error(be)}}:super._next,this._error=Ue?function(ee){try{Ue(ee)}catch(be){Ee.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(ee){Ee.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},6328:(Wt,Qe,L)=>{"use strict";L.d(Qe,{b:()=>W});var m=L(1631),v=L(4674);function W(ie,Ee){return(0,v.m)(Ee)?(0,m.z)(ie,Ee,1):(0,m.z)(ie,1)}},3572:(Wt,Qe,L)=>{"use strict";L.d(Qe,{d:()=>W});var m=L(9360),v=L(8251);function W(ie){return(0,m.e)((Ee,_e)=>{let le=!1;Ee.subscribe((0,v.x)(_e,Ue=>{le=!0,_e.next(Ue)},()=>{le||_e.next(ie),_e.complete()}))})}},3997:(Wt,Qe,L)=>{"use strict";L.d(Qe,{x:()=>ie});var m=L(2737),v=L(9360),W=L(8251);function ie(_e,le=m.y){return _e=null!=_e?_e:Ee,(0,v.e)((Ue,Ne)=>{let me,ee=!0;Ue.subscribe((0,W.x)(Ne,be=>{const ue=le(be);(ee||!_e(me,ue))&&(ee=!1,me=ue,Ne.next(be))}))})}function Ee(_e,le){return _e===le}},2181:(Wt,Qe,L)=>{"use strict";L.d(Qe,{h:()=>W});var m=L(9360),v=L(8251);function W(ie,Ee){return(0,m.e)((_e,le)=>{let Ue=0;_e.subscribe((0,v.x)(le,Ne=>ie.call(Ee,Ne,Ue++)&&le.next(Ne)))})}},1374:(Wt,Qe,L)=>{"use strict";L.d(Qe,{P:()=>le});var m=L(6973),v=L(2181),W=L(8180),ie=L(3572),Ee=L(3026),_e=L(2737);function le(Ue,Ne){const me=arguments.length>=2;return ee=>ee.pipe(Ue?(0,v.h)((be,ue)=>Ue(be,ue,ee)):_e.y,(0,W.q)(1),me?(0,ie.d)(Ne):(0,Ee.T)(()=>new m.K))}},7398:(Wt,Qe,L)=>{"use strict";L.d(Qe,{U:()=>W});var m=L(9360),v=L(8251);function W(ie,Ee){return(0,m.e)((_e,le)=>{let Ue=0;_e.subscribe((0,v.x)(le,Ne=>{le.next(ie.call(Ee,Ne,Ue++))}))})}},7537:(Wt,Qe,L)=>{"use strict";L.d(Qe,{J:()=>W});var m=L(1631),v=L(2737);function W(ie=1/0){return(0,m.z)(v.y,ie)}},1631:(Wt,Qe,L)=>{"use strict";L.d(Qe,{z:()=>Ue});var m=L(7398),v=L(4829),W=L(9360),ie=L(7103),Ee=L(8251),le=L(4674);function Ue(Ne,me,ee=1/0){return(0,le.m)(me)?Ue((be,ue)=>(0,m.U)((Te,je)=>me(be,Te,ue,je))((0,v.Xf)(Ne(be,ue))),ee):("number"==typeof me&&(ee=me),(0,W.e)((be,ue)=>function _e(Ne,me,ee,be,ue,Te,je,ot){const we=[];let Ie=0,ce=0,ft=!1;const Ze=()=>{ft&&!we.length&&!Ie&&me.complete()},fe=Be=>Ie<be?Ae(Be):we.push(Be),Ae=Be=>{Te&&me.next(Be),Ie++;let ve=!1;(0,v.Xf)(ee(Be,ce++)).subscribe((0,Ee.x)(me,De=>{null==ue||ue(De),Te?fe(De):me.next(De)},()=>{ve=!0},void 0,()=>{if(ve)try{for(Ie--;we.length&&Ie<be;){const De=we.shift();je?(0,ie.f)(me,je,()=>Ae(De)):Ae(De)}Ze()}catch(De){me.error(De)}}))};return Ne.subscribe((0,Ee.x)(me,fe,()=>{ft=!0,Ze()})),()=>{null==ot||ot()}}(be,ue,Ne,ee)))}},3093:(Wt,Qe,L)=>{"use strict";L.d(Qe,{Q:()=>ie});var m=L(7103),v=L(9360),W=L(8251);function ie(Ee,_e=0){return(0,v.e)((le,Ue)=>{le.subscribe((0,W.x)(Ue,Ne=>(0,m.f)(Ue,Ee,()=>Ue.next(Ne),_e),()=>(0,m.f)(Ue,Ee,()=>Ue.complete(),_e),Ne=>(0,m.f)(Ue,Ee,()=>Ue.error(Ne),_e)))})}},6699:(Wt,Qe,L)=>{"use strict";L.d(Qe,{R:()=>ie});var m=L(9360),v=L(8251);function ie(Ee,_e){return(0,m.e)(function W(Ee,_e,le,Ue,Ne){return(me,ee)=>{let be=le,ue=_e,Te=0;me.subscribe((0,v.x)(ee,je=>{const ot=Te++;ue=be?Ee(ue,je,ot):(be=!0,je),Ue&&ee.next(ue)},Ne&&(()=>{be&&ee.next(ue),ee.complete()})))}}(Ee,_e,arguments.length>=2,!0))}},3020:(Wt,Qe,L)=>{"use strict";L.d(Qe,{B:()=>Ee});var m=L(4829),v=L(8645),W=L(1887),ie=L(9360);function Ee(le={}){const{connector:Ue=(()=>new v.x),resetOnError:Ne=!0,resetOnComplete:me=!0,resetOnRefCountZero:ee=!0}=le;return be=>{let ue,Te,je,ot=0,we=!1,Ie=!1;const ce=()=>{null==Te||Te.unsubscribe(),Te=void 0},ft=()=>{ce(),ue=je=void 0,we=Ie=!1},Ze=()=>{const fe=ue;ft(),null==fe||fe.unsubscribe()};return(0,ie.e)((fe,Ae)=>{ot++,!Ie&&!we&&ce();const Be=je=null!=je?je:Ue();Ae.add(()=>{ot--,0===ot&&!Ie&&!we&&(Te=_e(Ze,ee))}),Be.subscribe(Ae),!ue&&ot>0&&(ue=new W.Hp({next:ve=>Be.next(ve),error:ve=>{Ie=!0,ce(),Te=_e(ft,Ne,ve),Be.error(ve)},complete:()=>{we=!0,ce(),Te=_e(ft,me),Be.complete()}}),(0,m.Xf)(fe).subscribe(ue))})(be)}}function _e(le,Ue,...Ne){if(!0===Ue)return void le();if(!1===Ue)return;const me=new W.Hp({next:()=>{me.unsubscribe(),le()}});return(0,m.Xf)(Ue(...Ne)).subscribe(me)}},7921:(Wt,Qe,L)=>{"use strict";L.d(Qe,{O:()=>ie});var m=L(5211),v=L(9940),W=L(9360);function ie(...Ee){const _e=(0,v.yG)(Ee);return(0,W.e)((le,Ue)=>{(_e?(0,m.z)(Ee,le,_e):(0,m.z)(Ee,le)).subscribe(Ue)})}},5137:(Wt,Qe,L)=>{"use strict";L.d(Qe,{R:()=>v});var m=L(9360);function v(W,ie=0){return(0,m.e)((Ee,_e)=>{_e.add(W.schedule(()=>Ee.subscribe(_e),ie))})}},4664:(Wt,Qe,L)=>{"use strict";L.d(Qe,{w:()=>ie});var m=L(4829),v=L(9360),W=L(8251);function ie(Ee,_e){return(0,v.e)((le,Ue)=>{let Ne=null,me=0,ee=!1;const be=()=>ee&&!Ne&&Ue.complete();le.subscribe((0,W.x)(Ue,ue=>{null==Ne||Ne.unsubscribe();let Te=0;const je=me++;(0,m.Xf)(Ee(ue,je)).subscribe(Ne=(0,W.x)(Ue,ot=>Ue.next(_e?_e(ue,ot,je,Te++):ot),()=>{Ne=null,be()}))},()=>{ee=!0,be()}))})}},8180:(Wt,Qe,L)=>{"use strict";L.d(Qe,{q:()=>ie});var m=L(6232),v=L(9360),W=L(8251);function ie(Ee){return Ee<=0?()=>m.E:(0,v.e)((_e,le)=>{let Ue=0;_e.subscribe((0,W.x)(le,Ne=>{++Ue<=Ee&&(le.next(Ne),Ee<=Ue&&le.complete())}))})}},9397:(Wt,Qe,L)=>{"use strict";L.d(Qe,{b:()=>Ee});var m=L(4674),v=L(9360),W=L(8251),ie=L(2737);function Ee(_e,le,Ue){const Ne=(0,m.m)(_e)||le||Ue?{next:_e,error:le,complete:Ue}:_e;return Ne?(0,v.e)((me,ee)=>{var be;null===(be=Ne.subscribe)||void 0===be||be.call(Ne);let ue=!0;me.subscribe((0,W.x)(ee,Te=>{var je;null===(je=Ne.next)||void 0===je||je.call(Ne,Te),ee.next(Te)},()=>{var Te;ue=!1,null===(Te=Ne.complete)||void 0===Te||Te.call(Ne),ee.complete()},Te=>{var je;ue=!1,null===(je=Ne.error)||void 0===je||je.call(Ne,Te),ee.error(Te)},()=>{var Te,je;ue&&(null===(Te=Ne.unsubscribe)||void 0===Te||Te.call(Ne)),null===(je=Ne.finalize)||void 0===je||je.call(Ne)}))}):ie.y}},3026:(Wt,Qe,L)=>{"use strict";L.d(Qe,{T:()=>ie});var m=L(6973),v=L(9360),W=L(8251);function ie(_e=Ee){return(0,v.e)((le,Ue)=>{let Ne=!1;le.subscribe((0,W.x)(Ue,me=>{Ne=!0,Ue.next(me)},()=>Ne?Ue.complete():Ue.error(_e())))})}function Ee(){return new m.K}},1954:(Wt,Qe,L)=>{"use strict";L.d(Qe,{o:()=>Ee});var m=L(7394);class v extends m.w0{constructor(le,Ue){super()}schedule(le,Ue=0){return this}}const W={setInterval(_e,le,...Ue){const{delegate:Ne}=W;return null!=Ne&&Ne.setInterval?Ne.setInterval(_e,le,...Ue):setInterval(_e,le,...Ue)},clearInterval(_e){const{delegate:le}=W;return((null==le?void 0:le.clearInterval)||clearInterval)(_e)},delegate:void 0};var ie=L(9039);class Ee extends v{constructor(le,Ue){super(le,Ue),this.scheduler=le,this.work=Ue,this.pending=!1}schedule(le,Ue=0){var Ne;if(this.closed)return this;this.state=le;const me=this.id,ee=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(ee,me,Ue)),this.pending=!0,this.delay=Ue,this.id=null!==(Ne=this.id)&&void 0!==Ne?Ne:this.requestAsyncId(ee,this.id,Ue),this}requestAsyncId(le,Ue,Ne=0){return W.setInterval(le.flush.bind(le,this),Ne)}recycleAsyncId(le,Ue,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return Ue;null!=Ue&&W.clearInterval(Ue)}execute(le,Ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(le,Ue);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,Ue){let me,Ne=!1;try{this.work(le)}catch(ee){Ne=!0,me=ee||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),me}unsubscribe(){if(!this.closed){const{id:le,scheduler:Ue}=this,{actions:Ne}=Ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(Ne,this),null!=le&&(this.id=this.recycleAsyncId(Ue,le,null)),this.delay=null,super.unsubscribe()}}}},2631:(Wt,Qe,L)=>{"use strict";L.d(Qe,{v:()=>W});var m=L(4552);class v{constructor(Ee,_e=v.now){this.schedulerActionCtor=Ee,this.now=_e}schedule(Ee,_e=0,le){return new this.schedulerActionCtor(this,Ee).schedule(le,_e)}}v.now=m.l.now;class W extends v{constructor(Ee,_e=v.now){super(Ee,_e),this.actions=[],this._active=!1}flush(Ee){const{actions:_e}=this;if(this._active)return void _e.push(Ee);let le;this._active=!0;do{if(le=Ee.execute(Ee.state,Ee.delay))break}while(Ee=_e.shift());if(this._active=!1,le){for(;Ee=_e.shift();)Ee.unsubscribe();throw le}}}},6321:(Wt,Qe,L)=>{"use strict";L.d(Qe,{P:()=>ie,z:()=>W});var m=L(1954);const W=new(L(2631).v)(m.o),ie=W},4552:(Wt,Qe,L)=>{"use strict";L.d(Qe,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},7599:(Wt,Qe,L)=>{"use strict";L.d(Qe,{z:()=>m});const m={setTimeout(v,W,...ie){const{delegate:Ee}=m;return null!=Ee&&Ee.setTimeout?Ee.setTimeout(v,W,...ie):setTimeout(v,W,...ie)},clearTimeout(v){const{delegate:W}=m;return((null==W?void 0:W.clearTimeout)||clearTimeout)(v)},delegate:void 0}},4971:(Wt,Qe,L)=>{"use strict";L.d(Qe,{h:()=>v});const v=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Wt,Qe,L)=>{"use strict";L.d(Qe,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Wt,Qe,L)=>{"use strict";L.d(Qe,{K:()=>v});const v=(0,L(2306).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Wt,Qe,L)=>{"use strict";L.d(Qe,{_6:()=>_e,jO:()=>ie,yG:()=>Ee});var m=L(4674),v=L(671);function W(le){return le[le.length-1]}function ie(le){return(0,m.m)(W(le))?le.pop():void 0}function Ee(le){return(0,v.K)(W(le))?le.pop():void 0}function _e(le,Ue){return"number"==typeof W(le)?le.pop():Ue}},7453:(Wt,Qe,L)=>{"use strict";L.d(Qe,{D:()=>Ee});const{isArray:m}=Array,{getPrototypeOf:v,prototype:W,keys:ie}=Object;function Ee(le){if(1===le.length){const Ue=le[0];if(m(Ue))return{args:Ue,keys:null};if(function _e(le){return le&&"object"==typeof le&&v(le)===W}(Ue)){const Ne=ie(Ue);return{args:Ne.map(me=>Ue[me]),keys:Ne}}}return{args:le,keys:null}}},9039:(Wt,Qe,L)=>{"use strict";function m(v,W){if(v){const ie=v.indexOf(W);0<=ie&&v.splice(ie,1)}}L.d(Qe,{P:()=>m})},2306:(Wt,Qe,L)=>{"use strict";function m(v){const ie=v(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}L.d(Qe,{d:()=>m})},2714:(Wt,Qe,L)=>{"use strict";function m(v,W){return v.reduce((ie,Ee,_e)=>(ie[Ee]=W[_e],ie),{})}L.d(Qe,{n:()=>m})},1441:(Wt,Qe,L)=>{"use strict";L.d(Qe,{O:()=>ie,x:()=>W});var m=L(2653);let v=null;function W(Ee){if(m.config.useDeprecatedSynchronousErrorHandling){const _e=!v;if(_e&&(v={errorThrown:!1,error:null}),Ee(),_e){const{errorThrown:le,error:Ue}=v;if(v=null,le)throw Ue}}else Ee()}function ie(Ee){m.config.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=Ee)}},7103:(Wt,Qe,L)=>{"use strict";function m(v,W,ie,Ee=0,_e=!1){const le=W.schedule(function(){ie(),_e?v.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(v.add(le),!_e)return le}L.d(Qe,{f:()=>m})},2737:(Wt,Qe,L)=>{"use strict";function m(v){return v}L.d(Qe,{y:()=>m})},4266:(Wt,Qe,L)=>{"use strict";L.d(Qe,{z:()=>m});const m=v=>v&&"number"==typeof v.length&&"function"!=typeof v},5726:(Wt,Qe,L)=>{"use strict";L.d(Qe,{D:()=>v});var m=L(4674);function v(W){return Symbol.asyncIterator&&(0,m.m)(null==W?void 0:W[Symbol.asyncIterator])}},4674:(Wt,Qe,L)=>{"use strict";function m(v){return"function"==typeof v}L.d(Qe,{m:()=>m})},8382:(Wt,Qe,L)=>{"use strict";L.d(Qe,{c:()=>W});var m=L(4850),v=L(4674);function W(ie){return(0,v.m)(ie[m.L])}},3664:(Wt,Qe,L)=>{"use strict";L.d(Qe,{T:()=>W});var m=L(4971),v=L(4674);function W(ie){return(0,v.m)(null==ie?void 0:ie[m.h])}},4026:(Wt,Qe,L)=>{"use strict";L.d(Qe,{t:()=>v});var m=L(4674);function v(W){return(0,m.m)(null==W?void 0:W.then)}},541:(Wt,Qe,L)=>{"use strict";L.d(Qe,{L:()=>ie,Q:()=>W});var m=L(7582),v=L(4674);function W(Ee){return(0,m.FC)(this,arguments,function*(){const le=Ee.getReader();try{for(;;){const{value:Ue,done:Ne}=yield(0,m.qq)(le.read());if(Ne)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(Ue)}}finally{le.releaseLock()}})}function ie(Ee){return(0,v.m)(null==Ee?void 0:Ee.getReader)}},671:(Wt,Qe,L)=>{"use strict";L.d(Qe,{K:()=>v});var m=L(4674);function v(W){return W&&(0,m.m)(W.schedule)}},9360:(Wt,Qe,L)=>{"use strict";L.d(Qe,{A:()=>v,e:()=>W});var m=L(4674);function v(ie){return(0,m.m)(null==ie?void 0:ie.lift)}function W(ie){return Ee=>{if(v(Ee))return Ee.lift(function(_e){try{return ie(_e,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Wt,Qe,L)=>{"use strict";L.d(Qe,{Z:()=>ie});var m=L(7398);const{isArray:v}=Array;function ie(Ee){return(0,m.U)(_e=>function W(Ee,_e){return v(_e)?Ee(..._e):Ee(_e)}(Ee,_e))}},8407:(Wt,Qe,L)=>{"use strict";L.d(Qe,{U:()=>W,z:()=>v});var m=L(2737);function v(...ie){return W(ie)}function W(ie){return 0===ie.length?m.y:1===ie.length?ie[0]:function(_e){return ie.reduce((le,Ue)=>Ue(le),_e)}}},3894:(Wt,Qe,L)=>{"use strict";L.d(Qe,{h:()=>W});var m=L(2653),v=L(7599);function W(ie){v.z.setTimeout(()=>{const{onUnhandledError:Ee}=m.config;if(!Ee)throw ie;Ee(ie)})}},9853:(Wt,Qe,L)=>{"use strict";function m(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Qe,{z:()=>m})},863:(Wt,Qe,L)=>{var m={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[7068,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,982,433],"./ion-datetime_3.entry.js":[7059,982,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function v(W){if(!L.o(m,W))return Promise.resolve().then(()=>{var _e=new Error("Cannot find module '"+W+"'");throw _e.code="MODULE_NOT_FOUND",_e});var ie=m[W],Ee=ie[0];return Promise.all(ie.slice(1).map(L.e)).then(()=>L(Ee))}v.keys=()=>Object.keys(m),v.id=863,Wt.exports=v},6814:(Wt,Qe,L)=>{"use strict";L.d(Qe,{Do:()=>ot,EM:()=>Vi,HT:()=>ie,JF:()=>fo,K0:()=>_e,Mx:()=>Zn,O5:()=>wi,PM:()=>cs,S$:()=>ue,V_:()=>Ue,Ye:()=>we,b0:()=>je,bD:()=>Kr,ez:()=>zo,q:()=>W,tP:()=>At,w_:()=>Ee});var m=L(5879);let v=null;function W(){return v}function ie(C){v||(v=C)}class Ee{}const _e=new m.OlP("DocumentToken");let le=(()=>{var C;class V{historyGo(F){throw new Error("Not implemented")}}return(C=V).\u0275fac=function(F){return new(F||C)},C.\u0275prov=m.Yz7({token:C,factory:function(){return(0,m.f3M)(Ne)},providedIn:"platform"}),V})();const Ue=new m.OlP("Location Initialized");let Ne=(()=>{var C;class V extends le{constructor(){super(),this._doc=(0,m.f3M)(_e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(F){const oe=W().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("popstate",F,!1),()=>oe.removeEventListener("popstate",F)}onHashChange(F){const oe=W().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("hashchange",F,!1),()=>oe.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,oe,Le){this._history.pushState(F,oe,Le)}replaceState(F,oe,Le){this._history.replaceState(F,oe,Le)}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return(C=V).\u0275fac=function(F){return new(F||C)},C.\u0275prov=m.Yz7({token:C,factory:function(){return new C},providedIn:"platform"}),V})();function me(C,V){if(0==C.length)return V;if(0==V.length)return C;let ye=0;return C.endsWith("/")&&ye++,V.startsWith("/")&&ye++,2==ye?C+V.substring(1):1==ye?C+V:C+"/"+V}function ee(C){const V=C.match(/#|\?|$/),ye=V&&V.index||C.length;return C.slice(0,ye-("/"===C[ye-1]?1:0))+C.slice(ye)}function be(C){return C&&"?"!==C[0]?"?"+C:C}let ue=(()=>{var C;class V{historyGo(F){throw new Error("Not implemented")}}return(C=V).\u0275fac=function(F){return new(F||C)},C.\u0275prov=m.Yz7({token:C,factory:function(){return(0,m.f3M)(je)},providedIn:"root"}),V})();const Te=new m.OlP("appBaseHref");let je=(()=>{var C;class V extends ue{constructor(F,oe){var Le,wt,zt;super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=null!==(Le=null!==(wt=null!=oe?oe:this._platformLocation.getBaseHrefFromDOM())&&void 0!==wt?wt:null===(zt=(0,m.f3M)(_e).location)||void 0===zt?void 0:zt.origin)&&void 0!==Le?Le:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return me(this._baseHref,F)}path(F=!1){const oe=this._platformLocation.pathname+be(this._platformLocation.search),Le=this._platformLocation.hash;return Le&&F?`${oe}${Le}`:oe}pushState(F,oe,Le,wt){const zt=this.prepareExternalUrl(Le+be(wt));this._platformLocation.pushState(F,oe,zt)}replaceState(F,oe,Le,wt){const zt=this.prepareExternalUrl(Le+be(wt));this._platformLocation.replaceState(F,oe,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){var oe,Le;null===(oe=(Le=this._platformLocation).historyGo)||void 0===oe||oe.call(Le,F)}}return(C=V).\u0275fac=function(F){return new(F||C)(m.LFG(le),m.LFG(Te,8))},C.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),V})(),ot=(()=>{var C;class V extends ue{constructor(F,oe){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=oe&&(this._baseHref=oe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let oe=this._platformLocation.hash;return null==oe&&(oe="#"),oe.length>0?oe.substring(1):oe}prepareExternalUrl(F){const oe=me(this._baseHref,F);return oe.length>0?"#"+oe:oe}pushState(F,oe,Le,wt){let zt=this.prepareExternalUrl(Le+be(wt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.pushState(F,oe,zt)}replaceState(F,oe,Le,wt){let zt=this.prepareExternalUrl(Le+be(wt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.replaceState(F,oe,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){var oe,Le;null===(oe=(Le=this._platformLocation).historyGo)||void 0===oe||oe.call(Le,F)}}return(C=V).\u0275fac=function(F){return new(F||C)(m.LFG(le),m.LFG(Te,8))},C.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac}),V})(),we=(()=>{var C;class V{constructor(F){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const oe=this._locationStrategy.getBaseHref();this._basePath=function Ze(C){if(new RegExp("^(https?:)?//").test(C)){const[,ye]=C.split(/\/\/[^\/]+/);return ye}return C}(ee(ft(oe))),this._locationStrategy.onPopState(Le=>{this._subject.emit({url:this.path(!0),pop:!0,state:Le.state,type:Le.type})})}ngOnDestroy(){var F;null===(F=this._urlChangeSubscription)||void 0===F||F.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,oe=""){return this.path()==this.normalize(F+be(oe))}normalize(F){return V.stripTrailingSlash(function ce(C,V){if(!C||!V.startsWith(C))return V;const ye=V.substring(C.length);return""===ye||["/",";","?","#"].includes(ye[0])?ye:V}(this._basePath,ft(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,oe="",Le=null){this._locationStrategy.pushState(Le,"",F,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+be(oe)),Le)}replaceState(F,oe="",Le=null){this._locationStrategy.replaceState(Le,"",F,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+be(oe)),Le)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){var oe,Le;null===(oe=(Le=this._locationStrategy).historyGo)||void 0===oe||oe.call(Le,F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(oe=>{this._notifyUrlChangeListeners(oe.url,oe.state)})),()=>{const oe=this._urlChangeListeners.indexOf(F);var Le;this._urlChangeListeners.splice(oe,1),0===this._urlChangeListeners.length&&(null===(Le=this._urlChangeSubscription)||void 0===Le||Le.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",oe){this._urlChangeListeners.forEach(Le=>Le(F,oe))}subscribe(F,oe,Le){return this._subject.subscribe({next:F,error:oe,complete:Le})}}return(C=V).normalizeQueryParams=be,C.joinWithSlash=me,C.stripTrailingSlash=ee,C.\u0275fac=function(F){return new(F||C)(m.LFG(ue))},C.\u0275prov=m.Yz7({token:C,factory:function(){return function Ie(){return new we((0,m.LFG)(ue))}()},providedIn:"root"}),V})();function ft(C){return C.replace(/\/index.html$/,"")}function Zn(C,V){V=encodeURIComponent(V);for(const ye of C.split(";")){const F=ye.indexOf("="),[oe,Le]=-1==F?[ye,""]:[ye.slice(0,F),ye.slice(F+1)];if(oe.trim()===V)return decodeURIComponent(Le)}return null}let wi=(()=>{var C;class V{constructor(F,oe){this._viewContainer=F,this._context=new pi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=oe}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Ro("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Ro("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,oe){return!0}}return(C=V).\u0275fac=function(F){return new(F||C)(m.Y36(m.s_b),m.Y36(m.Rgc))},C.\u0275dir=m.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),V})();class pi{constructor(){this.$implicit=null,this.ngIf=null}}function Ro(C,V){if(V&&!V.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,m.AaK)(V)}'.`)}let At=(()=>{var C;class V{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(F){if(F.ngTemplateOutlet||F.ngTemplateOutletInjector){const oe=this._viewContainerRef;if(this._viewRef&&oe.remove(oe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Le,ngTemplateOutletContext:wt,ngTemplateOutletInjector:zt}=this;this._viewRef=oe.createEmbeddedView(Le,wt,zt?{injector:zt}:void 0)}else this._viewRef=null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(C=V).\u0275fac=function(F){return new(F||C)(m.Y36(m.s_b))},C.\u0275dir=m.lG2({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[m.TTD]}),V})(),zo=(()=>{var C;class V{}return(C=V).\u0275fac=function(F){return new(F||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({}),V})();const Kr="browser",Po="server";function cs(C){return C===Po}let Vi=(()=>{var C;class V{}return(C=V).\u0275prov=(0,m.Yz7)({token:C,providedIn:"root",factory:()=>new ci((0,m.LFG)(_e),window)}),V})();class ci{constructor(V,ye){this.document=V,this.window=ye,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const ye=function Eo(C,V){const ye=C.getElementById(V)||C.getElementsByName(V)[0];if(ye)return ye;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const F=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let oe=F.currentNode;for(;oe;){const Le=oe.shadowRoot;if(Le){const wt=Le.getElementById(V)||Le.querySelector(`[name="${V}"]`);if(wt)return wt}oe=F.nextNode()}}return null}(this.document,V);ye&&(this.scrollToElement(ye),ye.focus())}setHistoryScrollRestoration(V){this.supportsScrolling()&&(this.window.history.scrollRestoration=V)}scrollToElement(V){const ye=V.getBoundingClientRect(),F=ye.left+this.window.pageXOffset,oe=ye.top+this.window.pageYOffset,Le=this.offset();this.window.scrollTo(F-Le[0],oe-Le[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class fo{}},5879:(Wt,Qe,L)=>{"use strict";L.d(Qe,{$8M:()=>Ws,$WT:()=>rr,$Z:()=>Jv,AFp:()=>$f,AaK:()=>ue,CRH:()=>zE,EJc:()=>fC,F$t:()=>S0,F4k:()=>xm,FYo:()=>Sd,FiY:()=>Sc,G48:()=>eT,Gf:()=>jE,GfV:()=>Uv,GkF:()=>$d,Gpc:()=>ot,HDt:()=>hD,Hsn:()=>A0,JOm:()=>gr,LFG:()=>sn,LMc:()=>xT,Lbi:()=>_d,Lck:()=>Yw,MMx:()=>vE,NdJ:()=>Tp,Ojb:()=>fg,OlP:()=>Vr,P3R:()=>ng,PXZ:()=>GC,Q6J:()=>Cm,QGY:()=>Cp,Qsj:()=>Dg,R0b:()=>Ca,RDi:()=>b_,Rgc:()=>tv,SBq:()=>Td,Sil:()=>mC,Suo:()=>HE,TTD:()=>Ma,TgZ:()=>Tm,VuI:()=>AT,X6Q:()=>JC,XFs:()=>rn,Xpm:()=>In,Xq5:()=>$h,Xts:()=>Pl,Y36:()=>Md,YKP:()=>gE,YNc:()=>My,Yjl:()=>Ut,Yz7:()=>Dt,Z0I:()=>En,ZZ4:()=>SI,_Bn:()=>pE,_UZ:()=>Sm,_c5:()=>mT,_uU:()=>jm,aQg:()=>AI,c2e:()=>dD,cJS:()=>mn,cg1:()=>Fe,dDg:()=>UC,dqk:()=>Xt,eFA:()=>SD,eJc:()=>cI,ekj:()=>Lm,eoX:()=>wD,f3M:()=>en,g9A:()=>mh,h0i:()=>uf,hGG:()=>vT,hij:()=>xp,iGM:()=>UE,ifc:()=>pn,ip1:()=>uD,jDz:()=>yE,kL8:()=>Ot,lG2:()=>Tt,lqb:()=>ul,lri:()=>ED,n5z:()=>Dl,oAB:()=>We,oxw:()=>C0,q4F:()=>jv,qFp:()=>RT,qLn:()=>jc,qOj:()=>um,qZA:()=>Bd,rWj:()=>DD,rg0:()=>Yo,sBO:()=>tT,s_b:()=>p_,soG:()=>m_,tb:()=>EI,tp0:()=>du,uIk:()=>jh,vHH:()=>fe,vpe:()=>eu,wAp:()=>bn,xp6:()=>np,z2F:()=>Fp,zSh:()=>dg,zs3:()=>ys});var me,m=L(8645),v=L(7394),W=L(5619),ie=L(5592),Ee=L(3019),_e=L(2096),le=L(3020),Ue=L(4664),Ne=L(3997);function ee(n){for(let r in n)if(n[r]===ee)return r;throw Error("Could not find renamed property on target object.")}function be(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Te(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const je=ee({__forward_ref__:ee});function ot(n){return n.__forward_ref__=ot,n.toString=function(){return ue(this())},n}function we(n){return Ie(n)?n():n}function Ie(n){return"function"==typeof n&&n.hasOwnProperty(je)&&n.__forward_ref__===ot}function ce(n){return n&&!!n.\u0275providers}const Ze="https://g.co/ng/security#xss";class fe extends Error{constructor(r,s){super(function Ae(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function Be(n){return"string"==typeof n?n:null==n?"":String(n)}function it(n,r){throw new fe(-201,!1)}function Ct(n,r){null==n&&function ct(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Dt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mn(n){return{providers:n.providers||[],imports:n.imports||[]}}function cn(n){return Pn(n,Vn)||Pn(n,hr)}function En(n){return null!==cn(n)}function Pn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Dn(n){return n&&(n.hasOwnProperty(Br)||n.hasOwnProperty(Ir))?n[Br]:null}const Vn=ee({\u0275prov:ee}),Br=ee({\u0275inj:ee}),hr=ee({ngInjectableDef:ee}),Ir=ee({ngInjectorDef:ee});var rn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(rn||{});let Rn;function un(n){const r=Rn;return Rn=n,r}function Sr(n,r,s){const a=cn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&rn.Optional?null:void 0!==r?r:void it(ue(n))}const Xt=globalThis,fr={},Cr="__NG_DI_FLAG__",nr="ngTempTokenPath",Z=/\n/gm,Ce="__source";let X;function yt(n){const r=X;return X=n,r}function Lt(n,r=rn.Default){if(void 0===X)throw new fe(-203,!1);return null===X?Sr(n,void 0,r):X.get(n,r&rn.Optional?null:void 0,r)}function sn(n,r=rn.Default){return(function or(){return Rn}()||Lt)(we(n),r)}function en(n,r=rn.Default){return sn(n,Sn(r))}function Sn(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function vr(n){const r=[];for(let s=0;s<n.length;s++){const a=we(n[s]);if(Array.isArray(a)){if(0===a.length)throw new fe(900,!1);let c,f=rn.Default;for(let y=0;y<a.length;y++){const b=a[y],x=Ei(b);"number"==typeof x?-1===x?c=b.token:f|=x:c=b}r.push(sn(c,f))}else r.push(sn(a))}return r}function Mr(n,r){return n[Cr]=r,n.prototype[Cr]=r,n}function Ei(n){return n[Cr]}function rt(n){return{toString:n}.toString()}var Ft=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ft||{}),pn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(pn||{});const fn={},Qt=[],Yn=ee({\u0275cmp:ee}),Dr=ee({\u0275dir:ee}),Tr=ee({\u0275pipe:ee}),ur=ee({\u0275mod:ee}),Zn=ee({\u0275fac:ee}),Xn=ee({__NG_ELEMENT_ID__:ee}),_o=ee({__NG_ENV_ID__:ee});function xo(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const f=r.length;if(c+f===a||n.charCodeAt(c+f)<=32)return c}s=c+1}}function Ri(n,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const f=s[a++],y=s[a++],b=s[a++];n.setAttribute(r,y,b,f)}else{const f=c,y=s[++a];Oi(f)?n.setProperty(r,f,y):n.setAttribute(r,f,y),a++}}return a}function li(n){return 3===n||4===n||6===n}function Oi(n){return 64===n.charCodeAt(0)}function zr(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||$i(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function $i(n,r,s,a,c){let f=0,y=n.length;if(-1===r)y=-1;else for(;f<n.length;){const b=n[f++];if("number"==typeof b){if(b===r){y=-1;break}if(b>r){y=f-1;break}}}for(;f<n.length;){const b=n[f];if("number"==typeof b)break;if(b===s){if(null===a)return void(null!==c&&(n[f+1]=c));if(a===n[f+1])return void(n[f+2]=c)}f++,null!==a&&f++,null!==c&&f++}-1!==y&&(n.splice(y,0,r),f=y+1),n.splice(f++,0,s),null!==a&&n.splice(f++,0,a),null!==c&&n.splice(f++,0,c)}const pr="ng-template";function wi(n,r,s){let a=0,c=!0;for(;a<n.length;){let f=n[a++];if("string"==typeof f&&c){const y=n[a++];if(s&&"class"===f&&-1!==xo(y.toLowerCase(),r,0))return!0}else{if(1===f){for(;a<n.length&&"string"==typeof(f=n[a++]);)if(f.toLowerCase()===r)return!0;return!1}"number"==typeof f&&(c=!1)}}return!1}function pi(n){return 4===n.type&&n.value!==pr}function Ro(n,r,s){return r===(4!==n.type||s?n.value:pr)}function io(n,r,s){let a=4;const c=n.attrs||[],f=function Ye(n){for(let r=0;r<n.length;r++)if(li(n[r]))return r;return n.length}(c);let y=!1;for(let b=0;b<r.length;b++){const x=r[b];if("number"!=typeof x){if(!y)if(4&a){if(a=2|1&a,""!==x&&!Ro(n,x,s)||""===x&&1===r.length){if(K(a))return!1;y=!0}}else{const U=8&a?x:r[++b];if(8&a&&null!==n.attrs){if(!wi(n.attrs,U,s)){if(K(a))return!1;y=!0}continue}const ae=he(8&a?"class":x,c,pi(n),s);if(-1===ae){if(K(a))return!1;y=!0;continue}if(""!==U){let Ve;Ve=ae>f?"":c[ae+1].toLowerCase();const tt=8&a?Ve:null;if(tt&&-1!==xo(tt,U,0)||2&a&&U!==Ve){if(K(a))return!1;y=!0}}}}else{if(!y&&!K(a)&&!K(x))return!1;if(y&&K(x))continue;y=!1,a=x|1&a}}return K(a)||y}function K(n){return 0==(1&n)}function he(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let f=!1;for(;c<r.length;){const y=r[c];if(y===n)return c;if(3===y||6===y)f=!0;else{if(1===y||2===y){let b=r[++c];for(;"string"==typeof b;)b=r[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=f?1:2}return-1}return function Je(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function ne(n,r,s=!1){for(let a=0;a<r.length;a++)if(io(n,r[a],s))return!0;return!1}function mt(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let c=0;c<n.length;c++)if(n[c]!==a[c])continue e;return!0}}return!1}function At(n,r){return n?":not("+r.trim()+")":r}function Pt(n){let r=n[0],s=1,a=2,c="",f=!1;for(;s<n.length;){let y=n[s];if("string"==typeof y)if(2&a){const b=n[++s];c+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&a?c+="."+y:4&a&&(c+=" "+y);else""!==c&&!K(y)&&(r+=At(f,c),c=""),a=y,f=f||!K(a);s++}return""!==c&&(r+=At(f,c)),r}function In(n){return rt(()=>{var r;const s=jo(n),a={...s,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ft.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:null!==(r=n.signals)&&void 0!==r&&r,data:n.data||{},encapsulation:n.encapsulation||pn.Emulated,styles:n.styles||Qt,_:null,schemas:n.schemas||null,tView:null,id:""};bi(a);const c=n.dependencies;return a.directiveDefs=oo(c,!1),a.pipeDefs=oo(c,!0),a.id=function Oo(n){let r=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(a),a})}function yr(n){return Gt(n)||Wn(n)}function gi(n){return null!==n}function We(n){return rt(()=>({type:n.type,bootstrap:n.bootstrap||Qt,declarations:n.declarations||Qt,imports:n.imports||Qt,exports:n.exports||Qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function et(n,r){if(null==n)return fn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),s[c]=a,r&&(r[c]=f)}return s}function Tt(n){return rt(()=>{const r=jo(n);return bi(r),r})}function Ut(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Gt(n){return n[Yn]||null}function Wn(n){return n[Dr]||null}function $n(n){return n[Tr]||null}function rr(n){const r=Gt(n)||Wn(n)||$n(n);return null!==r&&r.standalone}function Yr(n,r){const s=n[ur]||null;if(!s&&!0===r)throw new Error(`Type ${ue(n)} does not have '\u0275mod' property.`);return s}function jo(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:n.inputs||fn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Qt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:et(n.inputs,r),outputs:et(n.outputs)}}function bi(n){var r;null===(r=n.features)||void 0===r||r.forEach(s=>s(n))}function oo(n,r){if(!n)return null;const s=r?$n:yr;return()=>("function"==typeof n?n():n).map(a=>s(a)).filter(gi)}const Fr=0,Yt=1,qn=2,ir=3,Pi=4,Ho=5,Jr=6,zo=7,Kr=8,Po=9,mi=10,wn=11,No=12,cs=13,Io=14,Qn=15,Xo=16,Vi=17,ci=18,Eo=19,Rs=20,fo=21,Ui=22,rs=23,po=24,Un=25,ko=1,Do=2,ji=7,Fo=9,Di=11;function ui(n){return Array.isArray(n)&&"object"==typeof n[ko]}function di(n){return Array.isArray(n)&&!0===n[ko]}function us(n){return 0!=(4&n.flags)}function Ci(n){return n.componentOffset>-1}function Lo(n){return 1==(1&n.flags)}function Ni(n){return!!n.template}function ds(n){return 0!=(512&n[qn])}function Fn(n,r){return n.hasOwnProperty(Zn)?n[Zn]:null}let Yi=null!==(me=Xt.WeakRef)&&void 0!==me?me:class Qo{constructor(r){this.ref=r}deref(){return this.ref}},ma=0,qo=null,Ns=!1;function Fi(n){const r=qo;return qo=n,r}class Xi{constructor(){this.id=ma++,this.ref=function hs(n){return new Yi(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,s]of this.producers){const a=s.producerNode.deref();if(null!=a&&s.atTrackingVersion===this.trackingVersion){if(a.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(r),null==a||a.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=Ns;Ns=!0;try{for(const[s,a]of this.consumers){const c=a.consumerNode.deref();null!=c&&c.trackingVersion===a.atTrackingVersion?c.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),null==c||c.producers.delete(this.id))}}finally{Ns=r}}producerAccessed(){if(Ns)throw new Error("");if(null===qo)return;let r=qo.producers.get(this.id);void 0===r?(r={consumerNode:qo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:qo.trackingVersion},qo.producers.set(this.id,r),this.consumers.set(qo.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=qo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var r;return!1!==(null===(r=qo)||void 0===r?void 0:r.consumerAllowSignalWrites)}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let sa=null;function Yo(n){const r=Fi(null);try{return n()}finally{Fi(r)}}const Aa=()=>{};class fl extends Xi{constructor(r,s,a){super(),this.watch=r,this.schedule=s,this.dirty=!1,this.cleanupFn=Aa,this.registerOnCleanup=c=>{this.cleanupFn=c},this.consumerAllowSignalWrites=a}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=Fi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Aa,this.watch(this.registerOnCleanup)}finally{Fi(r)}}cleanup(){this.cleanupFn()}}class Es{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ma(){return Hi}function Hi(n){return n.type.prototype.ngOnChanges&&(n.setInput=C),es}function es(){const n=ye(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===fn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function C(n,r,s,a){const c=this.declaredInputs[s],f=ye(n)||function F(n,r){return n[V]=r}(n,{previous:fn,current:null}),y=f.current||(f.current={}),b=f.previous,x=b[c];y[c]=new Es(x&&x.currentValue,r,b===fn),n[a]=r}Ma.ngInherit=!0;const V="__ngSimpleChanges__";function ye(n){return n[V]||null}const wt=function(n,r,s){};function Cn(n){for(;Array.isArray(n);)n=n[Fr];return n}function Bn(n,r){return Cn(r[n])}function lr(n,r){return Cn(r[n.index])}function Zr(n,r){return n.data[r]}function si(n,r){const s=r[n];return ui(s)?s:s[Fr]}function ao(n,r){return null==r?null:n[r]}function fs(n){n[Vi]=0}function tu(n){1024&n[qn]||(n[qn]|=1024,xa(n,1))}function _a(n){1024&n[qn]&&(n[qn]&=-1025,xa(n,-1))}function xa(n,r){let s=n[ir];if(null===s)return;s[Ho]+=r;let a=s;for(s=s[ir];null!==s&&(1===r&&1===a[Ho]||-1===r&&0===a[Ho]);)s[Ho]+=r,a=s,s=s[ir]}const er={lFrame:D(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Gl(){return er.bindingsEnabled}function Ds(){return null!==er.skipHydrationRootTNode}function ut(){return er.lFrame.lView}function Or(){return er.lFrame.tView}function xt(){let n=Pr();for(;null!==n&&64===n.type;)n=n.parent;return n}function Pr(){return er.lFrame.currentTNode}function Li(n,r){const s=er.lFrame;s.currentTNode=n,s.isParent=r}function Na(){return er.lFrame.isParent}function pl(){er.lFrame.isParent=!1}function zs(){return er.lFrame.bindingIndex++}function Si(n,r){const s=er.lFrame;s.bindingIndex=s.bindingRootIndex=n,bs(r)}function bs(n){er.lFrame.currentDirectiveIndex=n}function nu(){return er.lFrame.currentQueryIndex}function Bi(n){er.lFrame.currentQueryIndex=n}function gn(n){const r=n[Yt];return 2===r.type?r.declTNode:1===r.type?n[Jr]:null}function w(n,r,s){if(s&rn.SkipSelf){let c=r,f=n;for(;!(c=c.parent,null!==c||s&rn.Host||(c=gn(f),null===c||(f=f[Io],10&c.type))););if(null===c)return!1;r=c,n=f}const a=er.lFrame=O();return a.currentTNode=r,a.lView=n,!0}function A(n){const r=O(),s=n[Yt];er.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function O(){const n=er.lFrame,r=null===n?null:n.child;return null===r?D(n):r}function D(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function k(){const n=er.lFrame;return er.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Q=k;function pe(){const n=k();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Rt(){return er.lFrame.selectedIndex}function Nn(n){er.lFrame.selectedIndex=n}function An(){const n=er.lFrame;return Zr(n.tView,n.selectedIndex)}let mo=!0;function ua(){return mo}function vo(n){mo=n}function Fs(n,r){for(let U=r.directiveStart,G=r.directiveEnd;U<G;U++){const Ve=n.data[U].type.prototype,{ngAfterContentInit:tt,ngAfterContentChecked:kt,ngAfterViewInit:Zt,ngAfterViewChecked:_n,ngOnDestroy:jn}=Ve;var s,a,c,f,y,b,x;tt&&(null!==(s=n.contentHooks)&&void 0!==s?s:n.contentHooks=[]).push(-U,tt),kt&&((null!==(a=n.contentHooks)&&void 0!==a?a:n.contentHooks=[]).push(U,kt),(null!==(c=n.contentCheckHooks)&&void 0!==c?c:n.contentCheckHooks=[]).push(U,kt)),Zt&&(null!==(f=n.viewHooks)&&void 0!==f?f:n.viewHooks=[]).push(-U,Zt),_n&&((null!==(y=n.viewHooks)&&void 0!==y?y:n.viewHooks=[]).push(U,_n),(null!==(b=n.viewCheckHooks)&&void 0!==b?b:n.viewCheckHooks=[]).push(U,_n)),null!=jn&&(null!==(x=n.destroyHooks)&&void 0!==x?x:n.destroyHooks=[]).push(U,jn)}}function ps(n,r,s){Ic(n,r,3,s)}function Qa(n,r,s,a){(3&n[qn])===s&&Ic(n,r,s,a)}function Ja(n,r){let s=n[qn];(3&s)===r&&(s&=8191,s+=1,n[qn]=s)}function Ic(n,r,s,a){const f=null!=a?a:-1,y=r.length-1;let b=0;for(let x=void 0!==a?65535&n[Vi]:0;x<y;x++)if("number"==typeof r[x+1]){if(b=r[x],null!=a&&b>=a)break}else r[x]<0&&(n[Vi]+=65536),(b<f||-1==f)&&(bo(n,s,r,x),n[Vi]=(4294901760&n[Vi])+x+2),x++}function Fa(n,r){wt(4,n,r);const s=Fi(null);try{r.call(n)}finally{Fi(s),wt(5,n,r)}}function bo(n,r,s,a){const c=s[a]<0,f=s[a+1],b=n[c?-s[a]:s[a]];c?n[qn]>>13<n[Vi]>>16&&(3&n[qn])===r&&(n[qn]+=8192,Fa(b,f)):Fa(b,f)}const co=-1;class da{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Kl(n){return n!==co}function wc(n){return 32767&n}function el(n,r){let s=function ou(n){return n>>16}(n),a=r;for(;s>0;)a=a[Io],s--;return a}let Zl=!0;function tl(n){const r=Zl;return Zl=n,r}const bc=255,su=5;let zu=0;const Gs={};function yl(n,r){const s=Cc(n,r);if(-1!==s)return s;const a=r[Yt];a.firstCreatePass&&(n.injectorIndex=r.length,au(a.data,n),au(r,null),au(a.blueprint,null));const c=_l(n,r),f=n.injectorIndex;if(Kl(c)){const y=wc(c),b=el(c,r),x=b[Yt].data;for(let U=0;U<8;U++)r[f+U]=b[y+U]|x[y+U]}return r[f+8]=c,f}function au(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Cc(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function _l(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Wu(c),null===a)return co;if(s++,c=c[Io],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return co}function lu(n,r,s){!function hf(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Xn)&&(a=s[Xn]),null==a&&(a=s[Xn]=zu++);const c=a&bc;r.data[n+(c>>su)]|=1<<c}(n,r,s)}function cu(n,r,s){if(s&rn.Optional||void 0!==n)return n;it()}function Gu(n,r,s,a){if(s&rn.Optional&&void 0===a&&(a=null),!(s&(rn.Self|rn.Host))){const c=n[Po],f=un(void 0);try{return c?c.get(r,a,s&rn.Optional):Sr(r,a,s&rn.Optional)}finally{un(f)}}return cu(a,0,s)}function Il(n,r,s,a=rn.Default,c){if(null!==n){if(2048&r[qn]&&!(a&rn.Self)){const y=function uo(n,r,s,a,c){let f=n,y=r;for(;null!==f&&null!==y&&2048&y[qn]&&!(512&y[qn]);){const b=To(f,y,s,a|rn.Self,Gs);if(b!==Gs)return b;let x=f.parent;if(!x){const U=y[Rs];if(U){const G=U.get(s,Gs,a);if(G!==Gs)return G}x=Wu(y),y=y[Io]}f=x}return c}(n,r,s,a,Gs);if(y!==Gs)return y}const f=To(n,r,s,a,Gs);if(f!==Gs)return f}return Gu(r,s,a,c)}function To(n,r,s,a,c){const f=function vi(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Xn)?n[Xn]:void 0;return"number"==typeof r?r>=0?r&bc:Zo:r}(s);if("function"==typeof f){if(!w(r,n,a))return a&rn.Host?cu(c,0,a):Gu(r,s,a,c);try{let y;if(y=f(a),null!=y||a&rn.Optional)return y;it()}finally{Q()}}else if("number"==typeof f){let y=null,b=Cc(n,r),x=co,U=a&rn.Host?r[Qn][Jr]:null;for((-1===b||a&rn.SkipSelf)&&(x=-1===b?_l(n,r):r[b+8],x!==co&&yo(a,!1)?(y=r[Yt],b=wc(x),r=el(x,r)):b=-1);-1!==b;){const G=r[Yt];if(Ba(f,b,G.data)){const ae=Gd(b,r,s,y,a,U);if(ae!==Gs)return ae}x=r[b+8],x!==co&&yo(a,r[Yt].data[b+8]===U)&&Ba(f,b,r)?(y=G,b=wc(x),r=el(x,r)):b=-1}}return c}function Gd(n,r,s,a,c,f){const y=r[Yt],b=y.data[n+8],G=Cs(b,y,s,null==a?Ci(b)&&Zl:a!=y&&0!=(3&b.type),c&rn.Host&&f===b);return null!==G?La(r,y,G,b):Gs}function Cs(n,r,s,a,c){const f=n.providerIndexes,y=r.data,b=1048575&f,x=n.directiveStart,G=f>>20,Ve=c?b+G:n.directiveEnd;for(let tt=a?b:b+G;tt<Ve;tt++){const kt=y[tt];if(tt<x&&s===kt||tt>=x&&kt.type===s)return tt}if(c){const tt=y[x];if(tt&&Ni(tt)&&tt.type===s)return x}return null}function La(n,r,s,a){let c=n[s];const f=r.data;if(function ru(n){return n instanceof da}(c)){const y=c;y.resolving&&function De(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new fe(-200,`Circular dependency in DI detected for ${n}${s}`)}(function ve(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Be(n)}(f[s]));const b=tl(y.canSeeViewProviders);y.resolving=!0;const U=y.injectImpl?un(y.injectImpl):null;w(n,a,rn.Default);try{c=n[s]=y.factory(void 0,f,n,a),r.firstCreatePass&&s>=a.directiveStart&&function ks(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:f}=r.type.prototype;if(a){var y,b;const ae=Hi(r);(null!==(y=s.preOrderHooks)&&void 0!==y?y:s.preOrderHooks=[]).push(n,ae),(null!==(b=s.preOrderCheckHooks)&&void 0!==b?b:s.preOrderCheckHooks=[]).push(n,ae)}var x,U,G;c&&(null!==(x=s.preOrderHooks)&&void 0!==x?x:s.preOrderHooks=[]).push(0-n,c),f&&((null!==(U=s.preOrderHooks)&&void 0!==U?U:s.preOrderHooks=[]).push(n,f),(null!==(G=s.preOrderCheckHooks)&&void 0!==G?G:s.preOrderCheckHooks=[]).push(n,f))}(s,f[s],r)}finally{null!==U&&un(U),tl(b),y.resolving=!1,Q()}}return c}function Ba(n,r,s){return!!(s[r+(n>>su)]&1<<n)}function yo(n,r){return!(n&rn.Self||n&rn.Host&&r)}class Qi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Il(this._tNode,this._lView,r,Sn(a),s)}}function Zo(){return new Qi(xt(),ut())}function Dl(n){return rt(()=>{const r=n.prototype.constructor,s=r[Zn]||wl(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const f=c[Zn]||wl(c);if(f&&f!==s)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function wl(n){return Ie(n)?()=>{const r=wl(we(n));return r&&r()}:Fn(n)}function Wu(n){const r=n[Yt],s=r.type;return 2===s?r.declTNode:1===s?n[Jr]:null}function Ws(n){return function Tc(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const f=s[c];if(li(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(f===r)return s[c+1];c+=2}}}return null}(xt(),n)}const gs="__parameters__";function bl(n,r,s){return rt(()=>{const a=function $a(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...f){if(this instanceof c)return a.apply(this,f),this;const y=new c(...f);return b.annotation=y,b;function b(x,U,G){const ae=x.hasOwnProperty(gs)?x[gs]:Object.defineProperty(x,gs,{value:[]})[gs];for(;ae.length<=G;)ae.push(null);return(ae[G]=ae[G]||[]).push(y),x}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}function bt(n,r){n.forEach(s=>Array.isArray(s)?bt(s,r):r(s))}function dn(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function an(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Ln(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function So(n,r,s){let a=Ao(n,r);return a>=0?n[1|a]=s:(a=~a,function Ss(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function hi(n,r){const s=Ao(n,r);if(s>=0)return n[1|s]}function Ao(n,r){return function Ks(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const f=a+(c-a>>1),y=n[f<<s];if(r===y)return f<<s;y>r?c=f:a=f+1}return~(c<<s)}(n,r,1)}const Sc=Mr(bl("Optional"),8),du=Mr(bl("SkipSelf"),4);function id(n){return 128==(128&n.flags)}var gr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(gr||{});const eh=/^>|^->|<!--|-->|--!>|<!-$/g,mu=/(<|>)/,th="\u200b$1\u200b";const Oc=new Map;let sd=0;const Al="__ngContext__";function Ji(n,r){ui(r)?(n[Al]=r[Eo],function vu(n){Oc.set(n[Eo],n)}(r)):n[Al]=r}let _u;function sl(n,r){return _u(n,r)}function Ml(n){const r=n[ir];return di(r)?r[ir]:r}function oc(n){return I(n[No])}function ud(n){return I(n[Pi])}function I(n){for(;null!==n&&!di(n);)n=n[Pi];return n}function d(n,r,s,a,c){if(null!=a){let f,y=!1;di(a)?f=a:ui(a)&&(y=!0,a=a[Fr]);const b=Cn(a);0===n&&null!==s?null==c?dd(r,s,b):ll(r,s,b,c||null,!0):1===n&&null!==s?ll(r,s,b,c||null,!0):2===n?function ah(n,r,s){const a=cc(n,r);a&&function Cf(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,b,y):3===n&&r.destroyNode(b),null!=f&&function cv(n,r,s,a,c){const f=s[ji];f!==Cn(s)&&d(r,n,a,f,c);for(let b=Di;b<s.length;b++){const x=s[b];Du(x[Yt],x,n,r,a,f)}}(r,n,f,s,c)}}function j(n,r){return n.createComment(function nh(n){return n.replace(eh,r=>r.replace(mu,th))}(r))}function q(n,r,s){return n.createElement(r,s)}function eo(n,r){const s=n[Fo],a=s.indexOf(r);_a(r),s.splice(a,1)}function Ms(n,r){if(n.length<=Di)return;const s=Di+r,a=n[s];if(a){const c=a[Xo];null!==c&&c!==n&&eo(c,a),r>0&&(n[s-1][Pi]=a[Pi]);const f=an(n,Di+r);!function Re(n,r){Du(n,r,r[wn],2,null,null),r[Fr]=null,r[Jr]=null}(a[Yt],a);const y=f[ci];null!==y&&y.detachView(f[Yt]),a[ir]=null,a[Pi]=null,a[qn]&=-129}return a}function sc(n,r){if(!(256&r[qn])){var s,a;const c=r[wn];null===(s=r[rs])||void 0===s||s.destroy(),null===(a=r[po])||void 0===a||a.destroy(),c.destroyNode&&Du(n,r,c,3,null,null),function ln(n){let r=n[No];if(!r)return kc(n[Yt],n);for(;r;){let s=null;if(ui(r))s=r[No];else{const a=r[Di];a&&(s=a)}if(!s){for(;r&&!r[Pi]&&r!==n;)ui(r)&&kc(r[Yt],r),r=r[ir];null===r&&(r=n),ui(r)&&kc(r[Yt],r),s=r&&r[Pi]}r=s}}(r)}}function kc(n,r){if(!(256&r[qn])){r[qn]&=-129,r[qn]|=256,function Fc(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof da)){const f=s[a+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const b=c[f[y]],x=f[y+1];wt(4,b,x);try{x.call(b)}finally{wt(5,b,x)}}else{wt(4,c,f);try{f.call(c)}finally{wt(5,c,f)}}}}}(n,r),function ac(n,r){const s=n.cleanup,a=r[zo];if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const y=s[f+3];y>=0?a[y]():a[-y].unsubscribe(),f+=2}else s[f].call(a[s[f+1]]);null!==a&&(r[zo]=null);const c=r[fo];if(null!==c){r[fo]=null;for(let f=0;f<c.length;f++)(0,c[f])()}}(n,r),1===r[Yt].type&&r[wn].destroy();const s=r[Xo];if(null!==s&&di(r[ir])){s!==r[ir]&&eo(s,r);const a=r[ci];null!==a&&a.detachView(n)}!function Pc(n){Oc.delete(n[Eo])}(r)}}function xl(n,r,s){return function lc(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Fr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:f}=n.data[a.directiveStart+c];if(f===pn.None||f===pn.Emulated)return null}return lr(a,s)}}(n,r.parent,s)}function ll(n,r,s,a,c){n.insertBefore(r,s,a,c)}function dd(n,r,s){n.appendChild(r,s)}function Iu(n,r,s,a,c){null!==a?ll(n,r,s,a,c):dd(n,r,s)}function cc(n,r){return n.parentNode(r)}function ov(n,r,s){return av(n,r,s)}let rh,Tf,Sf,av=function sv(n,r,s){return 40&n.type?lr(n,s):null};function ih(n,r,s,a){const c=xl(n,a,r),f=r[wn],b=ov(a.parent||r[Jr],a,r);if(null!=c)if(Array.isArray(s))for(let x=0;x<s.length;x++)Iu(f,c,s[x],b,!1);else Iu(f,c,s,b,!1);void 0!==rh&&rh(f,a,r,s,c)}function oh(n,r){if(null!==r){const s=r.type;if(3&s)return lr(r,n);if(4&s)return sh(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return oh(n,a);{const c=n[r.index];return di(c)?sh(-1,c):Cn(c)}}if(32&s)return sl(r,n)()||Cn(n[r.index]);{const a=Uo(n,r);return null!==a?Array.isArray(a)?a[0]:oh(Ml(n[Qn]),a):oh(n,r.next)}}return null}function Uo(n,r){return null!==r?n[Qn][Jr].projection[r.projection]:null}function sh(n,r){const s=Di+n+1;if(s<r.length){const a=r[s],c=a[Yt].firstChild;if(null!==c)return oh(a,c)}return r[ji]}function za(n,r,s,a,c,f,y){for(;null!=s;){const b=a[s.index],x=s.type;if(y&&0===r&&(b&&Ji(Cn(b),a),s.flags|=2),32!=(32&s.flags))if(8&x)za(n,r,s.child,a,c,f,!1),d(r,n,c,b,f);else if(32&x){const U=sl(s,a);let G;for(;G=U();)d(r,n,c,G,f);d(r,n,c,b,f)}else 16&x?fd(n,r,a,s,c,f):d(r,n,c,b,f);s=y?s.projectionNext:s.next}}function Du(n,r,s,a,c,f){za(s,a,n.firstChild,r,c,f,!1)}function fd(n,r,s,a,c,f){const y=s[Qn],x=y[Jr].projection[a.projection];if(Array.isArray(x))for(let U=0;U<x.length;U++)d(r,n,c,x[U],f);else{let U=x;const G=y[ir];id(a)&&(U.flags|=128),za(n,r,U,G,c,f,!0)}}function hv(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function fv(n,r,s){const{mergedAttrs:a,classes:c,styles:f}=s;null!==a&&Ri(n,r,a),null!==c&&hv(n,r,c),null!==f&&function dv(n,r,s){n.setAttribute(r,"style",s)}(n,r,f)}function b_(n){Tf=n}function gv(n){var r;return(null===(r=function Rl(){if(void 0===Sf&&(Sf=null,Xt.trustedTypes))try{Sf=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sf}())||void 0===r?void 0:r.createScriptURL(n))||n}class Yp{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ze})`}}function fa(n){return n instanceof Yp?n.changingThisBreaksApplicationSecurity:n}function cl(n,r){const s=function bu(n){return n instanceof Yp&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Ze})`)}return s===r}const xf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var dc=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(dc||{});function vd(n){const r=yd();return r?r.sanitize(dc.URL,n)||"":cl(n,"URL")?fa(n):function Cu(n){return(n=String(n)).match(xf)?n:"unsafe:"+n}(Be(n))}function dh(n){const r=yd();if(r)return gv(r.sanitize(dc.RESOURCE_URL,n)||"");if(cl(n,"ResourceURL"))return gv(fa(n));throw new fe(904,!1)}function ng(n,r,s){return function Bs(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?dh:vd}(r,s)(n)}function yd(){const n=ut();return n&&n[mi].sanitizer}class Vr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Dt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Pl=new Vr("ENVIRONMENT_INITIALIZER"),og=new Vr("INJECTOR",-1),Bc=new Vr("INJECTOR_DEF_TYPES");class sg{get(r,s=fr){if(s===fr){const a=new Error(`NullInjectorError: No provider for ${ue(r)}!`);throw a.name="NullInjectorError",a}return s}}function Mv(...n){return{\u0275providers:hc(0,n),\u0275fromNgModule:!0}}function hc(n,...r){const s=[],a=new Set;let c;const f=y=>{s.push(y)};return bt(r,y=>{const b=y;kf(b,f,[],a)&&(c||(c=[]),c.push(b))}),void 0!==c&&ag(c,f),s}function ag(n,r){for(let s=0;s<n.length;s++){const{ngModule:a,providers:c}=n[s];lg(c,f=>{r(f,a)})}}function kf(n,r,s,a){if(!(n=we(n)))return!1;let c=null,f=Dn(n);const y=!f&&Gt(n);if(f||y){if(y&&!y.standalone)return!1;c=n}else{const x=n.ngModule;if(f=Dn(x),!f)return!1;c=x}const b=a.has(c);if(y){if(b)return!1;if(a.add(c),y.dependencies){const x="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const U of x)kf(U,r,s,a)}}else{if(!f)return!1;{if(null!=f.imports&&!b){let U;a.add(c);try{bt(f.imports,G=>{kf(G,r,s,a)&&(U||(U=[]),U.push(G))})}finally{}void 0!==U&&ag(U,r)}if(!b){const U=Fn(c)||(()=>new c);r({provide:c,useFactory:U,deps:Qt},c),r({provide:Bc,useValue:c,multi:!0},c),r({provide:Pl,useValue:()=>sn(c),multi:!0},c)}const x=f.providers;if(null!=x&&!b){const U=n;lg(x,G=>{r(G,U)})}}}return c!==n&&void 0!==n.providers}function lg(n,r){for(let s of n)ce(s)&&(s=s.\u0275providers),Array.isArray(s)?lg(s,r):r(s)}const xv=ee({provide:String,useValue:ee});function cg(n){return null!==n&&"object"==typeof n&&xv in n}function Su(n){return"function"==typeof n}const dg=new Vr("Set Injector scope."),ph={},Au={};let Mu;function gh(){return void 0===Mu&&(Mu=new sg),Mu}class ul{}class Ff extends ul{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hg(r,y=>this.processProvider(y)),this.records.set(og,Mo(void 0,this)),c.has("environment")&&this.records.set(ul,Mo(void 0,this));const f=this.records.get(dg);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Bc.multi,Qt,rn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=yt(this),a=un(void 0);try{return r()}finally{yt(s),un(a)}}get(r,s=fr,a=rn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(_o))return r[_o](this);a=Sn(a);const f=yt(this),y=un(void 0);try{if(!(a&rn.SkipSelf)){let x=this.records.get(r);if(void 0===x){const U=function F_(n){return"function"==typeof n||"object"==typeof n&&n instanceof Vr}(r)&&cn(r);x=U&&this.injectableDefInScope(U)?Mo(Lf(r),ph):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(a&rn.Self?gh():this.parent).get(r,s=a&rn.Optional&&s===fr?null:s)}catch(b){if("NullInjectorError"===b.name){if((b[nr]=b[nr]||[]).unshift(ue(r)),f)throw b;return function Qr(n,r,s,a){const c=n[nr];throw r[Ce]&&c.unshift(r[Ce]),n.message=function gt(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=ue(r);if(Array.isArray(r))c=r.map(ue).join(" -> ");else if("object"==typeof r){let f=[];for(let y in r)if(r.hasOwnProperty(y)){let b=r[y];f.push(y+":"+("string"==typeof b?JSON.stringify(b):ue(b)))}c=`{${f.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(Z,"\n  ")}`}("\n"+n.message,c,s,a),n.ngTokenPath=c,n[nr]=null,n}(b,r,"R3InjectorError",this.source)}throw b}finally{un(y),yt(f)}}resolveInjectorInitializers(){const r=yt(this),s=un(void 0);try{const c=this.get(Pl.multi,Qt,rn.Self);for(const f of c)f()}finally{yt(r),un(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(ue(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(r){let s=Su(r=we(r))?r:we(r&&r.provide);const a=function P_(n){return cg(n)?Mo(void 0,n.useValue):Mo(Bf(n),ph)}(r);if(Su(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Mo(void 0,ph,!0),c.factory=()=>vr(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===ph&&(s.value=Au,s.value=s.factory()),"object"==typeof s.value&&s.value&&function k_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=we(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Lf(n){const r=cn(n),s=null!==r?r.factory:Fn(n);if(null!==s)return s;if(n instanceof Vr)throw new fe(204,!1);if(n instanceof Function)return function O_(n){const r=n.length;if(r>0)throw Ln(r,"?"),new fe(204,!1);const s=function On(n){return n&&(n[Vn]||n[hr])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new fe(204,!1)}function Bf(n,r,s){let a;if(Su(n)){const c=we(n);return Fn(c)||Lf(c)}if(cg(n))a=()=>we(n.useValue);else if(function ug(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...vr(n.deps||[]));else if(function fh(n){return!(!n||!n.useExisting)}(n))a=()=>sn(we(n.useExisting));else{const c=we(n&&(n.useClass||n.provide));if(!function N_(n){return!!n.deps}(n))return Fn(c)||Lf(c);a=()=>new c(...vr(n.deps))}return a}function Mo(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function hg(n,r){for(const s of n)Array.isArray(s)?hg(s,r):s&&ce(s)?hg(s.\u0275providers,r):r(s)}const $f=new Vr("AppId",{providedIn:"root",factory:()=>L_}),L_="ng",mh=new Vr("Platform Initializer"),_d=new Vr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),fg=new Vr("CSP nonce",{providedIn:"root",factory:()=>{var n;return(null===(n=function gd(){if(void 0!==Tf)return Tf;if(typeof document<"u")return document;throw new fe(210,!1)}().body)||void 0===n||null===(n=n.querySelector("[ngCspNonce]"))||void 0===n?void 0:n.getAttribute("ngCspNonce"))||null}});let _g=(n,r,s)=>null;function Eh(n,r,s=!1){return _g(n,r,s)}class Fv{}class Lv{}class U_{resolveComponentFactory(r){throw function Bv(n){const r=Error(`No component factory found for ${ue(n)}.`);return r.ngComponent=n,r}(r)}}let Gf=(()=>{class r{}return r.NULL=new U_,r})();function $s(){return Cd(xt(),ut())}function Cd(n,r){return new Td(lr(n,r))}let Td=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=$s,r})();function Wf(n){return n instanceof Td?n.nativeElement:n}class Sd{}let Dg=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function Vv(){const n=ut(),s=si(xt().index,n);return(ui(s)?s:n)[wn]}(),r})(),j_=(()=>{var n;class r{}return(n=r).\u0275prov=Dt({token:n,providedIn:"root",factory:()=>null}),r})();class Uv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const jv=new Uv("16.2.0"),wg={};function qf(n,r=null,s=null,a){const c=Yf(n,r,s,a);return c.resolveInjectorInitializers(),c}function Yf(n,r=null,s=null,a,c=new Set){const f=[s||Qt,Mv(n)];return a=a||("object"==typeof n?void 0:ue(n)),new Ff(f,r||gh(),a||null,c)}let ys=(()=>{var n;class r{static create(a,c){if(Array.isArray(a))return qf({name:""},c,a,"");{var f;const y=null!==(f=a.name)&&void 0!==f?f:"";return qf({name:y},a.parent,a.providers,y)}}}return(n=r).THROW_IF_NOT_FOUND=fr,n.NULL=new sg,n.\u0275prov=Dt({token:n,providedIn:"any",factory:()=>sn(og)}),n.__NG_ELEMENT_ID__=-1,r})();function Ga(n){return n instanceof Function?n():n}let Mg=(()=>{var n;class r{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new fe(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const a of this.callbacks)a.invoke()}finally{this.runningCallbacks=!1;for(const a of this.deferredCallbacks)this.callbacks.add(a);this.deferredCallbacks.clear()}}register(a){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(a)}unregister(a){this.callbacks.delete(a),this.deferredCallbacks.delete(a)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(n=r).\u0275prov=Dt({token:n,providedIn:"root",factory:()=>new n}),r})();function Sh(n){for(;n;){n[qn]|=64;const r=Ml(n);if(ds(n)&&!r)return n;n=r}return null}function Rg(n){return n.ngOriginalError}class jc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Rg(r);for(;s&&Rg(s);)s=Rg(s);return s||null}}const Yv=new Vr("",{providedIn:"root",factory:()=>!1});class kg extends Xi{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){Sh(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,s,a){const c=Fi(this);this.trackingVersion++;try{r(s,a)}finally{Fi(c)}}destroy(){this.trackingVersion++}}let kl=null;function Xv(){var n;return null!==(n=kl)&&void 0!==n||(kl=new kg),kl}function Qv(n,r){var s;return null!==(s=n[r])&&void 0!==s?s:Xv()}function tp(n,r){const s=Xv();s.hasReadASignal&&(n[r]=kl,s.lView=n,kl=new kg)}const _r={};function np(n){rp(Or(),ut(),Rt()+n,!1)}function rp(n,r,s,a){if(!a)if(3==(3&r[qn])){const f=n.preOrderCheckHooks;null!==f&&ps(r,f,s)}else{const f=n.preOrderHooks;null!==f&&Qa(r,f,0,s)}Nn(s)}function Md(n,r=rn.Default){const s=ut();return null===s?sn(n,r):Il(xt(),s,we(n),r)}function Jv(){throw new Error("invalid")}function xd(n,r,s,a,c,f,y,b,x,U,G){const ae=r.blueprint.slice();return ae[Fr]=c,ae[qn]=140|a,(null!==U||n&&2048&n[qn])&&(ae[qn]|=2048),fs(ae),ae[ir]=ae[Io]=n,ae[Kr]=s,ae[mi]=y||n&&n[mi],ae[wn]=b||n&&n[wn],ae[Po]=x||n&&n[Po]||null,ae[Jr]=f,ae[Eo]=function Zs(){return sd++}(),ae[Ui]=G,ae[Rs]=U,ae[Qn]=2==r.type?n[Qn]:ae,ae}function Rd(n,r,s,a,c){let f=n.data[r];if(null===f)f=function ip(n,r,s,a,c){const f=Pr(),y=Na(),x=n.data[r]=function X_(n,r,s,a,c,f){let y=r?r.injectorIndex:-1,b=0;return Ds()&&(b|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=x),null!==f&&(y?null==f.child&&null!==x.parent&&(f.child=x):null===f.next&&(f.next=x,x.prev=f)),x}(n,r,s,a,c),function Ia(){return er.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=s,f.value=a,f.attrs=c;const y=function Pa(){const n=er.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return Li(f,!0),f}function xh(n,r,s,a){if(0===s)return-1;const c=r.length;for(let f=0;f<s;f++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function Lg(n,r,s,a,c){const f=Qv(r,rs),y=Rt(),b=2&a;try{if(Nn(-1),b&&r.length>Un&&rp(n,r,Un,!1),wt(b?2:0,c),b)f.runInContext(s,a,c);else{const U=Fi(null);try{s(a,c)}finally{Fi(U)}}}finally{b&&null===r[rs]&&tp(r,rs),Nn(y),wt(b?3:1,c)}}function op(n,r,s){if(us(r)){const a=Fi(null);try{const f=r.directiveEnd;for(let y=r.directiveStart;y<f;y++){const b=n.data[y];b.contentQueries&&b.contentQueries(1,s[y],y)}}finally{Fi(a)}}}function sp(n,r,s){Gl()&&(function qg(n,r,s,a){const c=s.directiveStart,f=s.directiveEnd;Ci(s)&&function t0(n,r,s){const a=lr(r,n),c=ey(s);let y=16;s.signals?y=4096:s.onPush&&(y=64);const b=Pd(n,xd(n,c,null,y,a,r,null,n[mi].rendererFactory.createRenderer(a,s),null,null,null));n[r.index]=b}(r,s,n.data[c+s.componentOffset]),n.firstCreatePass||yl(s,r),Ji(a,r);const y=s.initialInputs;for(let b=c;b<f;b++){const x=n.data[b],U=La(r,n,b,s);Ji(U,r),null!==y&&n0(0,b-c,U,x,0,y),Ni(x)&&(si(s.index,r)[Kr]=La(r,n,b,s))}}(n,r,s,lr(s,r)),64==(64&s.flags)&&dp(n,r,s))}function ap(n,r,s=lr){const a=r.localNames;if(null!==a){let c=r.index+1;for(let f=0;f<a.length;f+=2){const y=a[f+1],b=-1===y?s(r,n):n[y];n[c++]=b}}}function ey(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Bg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function Bg(n,r,s,a,c,f,y,b,x,U,G){const ae=Un+a,Ve=ae+c,tt=function Y_(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:_r);return s}(ae,Ve),kt="function"==typeof U?U():U;return tt[Yt]={type:n,blueprint:tt,template:s,queries:null,viewQuery:b,declTNode:r,data:tt.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:kt,incompleteFirstPass:!1,ssrId:G}}let lp=n=>null;function cp(n,r,s,a){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const f=n[c];null===a?jg(s,r,c,f):a.hasOwnProperty(c)&&jg(s,r,a[c],f)}return s}function jg(n,r,s,a){n.hasOwnProperty(s)?n[s].push(r,a):n[s]=[r,a]}function Gg(n,r,s,a){if(Gl()){const c=null===a?null:{"":-1},f=function ry(n,r){const s=n.directiveRegistry;let a=null,c=null;if(s)for(let y=0;y<s.length;y++){const b=s[y];if(ne(r,b.selectors,!1))if(a||(a=[]),Ni(b))if(null!==b.findHostDirectiveDefs){const x=[];c=c||new Map,b.findHostDirectiveDefs(b,x,c),a.unshift(...x,b),Rh(n,r,x.length)}else a.unshift(b),Rh(n,r,0);else{var f;c=c||new Map,null===(f=b.findHostDirectiveDefs)||void 0===f||f.call(b,b,a,c),a.push(b)}}return null===a?null:[a,c]}(n,s);let y,b;null===f?y=b=null:[y,b]=f,null!==y&&up(n,r,s,y,c,b),c&&function e0(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const f=s[r[c+1]];if(null==f)throw new fe(-301,!1);a.push(r[c],f)}}}(s,a,c)}s.mergedAttrs=zr(s.mergedAttrs,s.attrs)}function up(n,r,s,a,c,f){for(let ae=0;ae<a.length;ae++)lu(yl(s,r),n,a[ae].type);!function fc(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,a.length);for(let ae=0;ae<a.length;ae++){const Ve=a[ae];Ve.providersResolver&&Ve.providersResolver(Ve)}let y=!1,b=!1,x=xh(n,r,a.length,null);for(let ae=0;ae<a.length;ae++){const Ve=a[ae];s.mergedAttrs=zr(s.mergedAttrs,Ve.hostAttrs),Kg(n,s,r,x,Ve),Yg(x,Ve,c),null!==Ve.contentQueries&&(s.flags|=4),(null!==Ve.hostBindings||null!==Ve.hostAttrs||0!==Ve.hostVars)&&(s.flags|=64);const tt=Ve.type.prototype;var U,G;!y&&(tt.ngOnChanges||tt.ngOnInit||tt.ngDoCheck)&&((null!==(U=n.preOrderHooks)&&void 0!==U?U:n.preOrderHooks=[]).push(s.index),y=!0),b||!tt.ngOnChanges&&!tt.ngDoCheck||((null!==(G=n.preOrderCheckHooks)&&void 0!==G?G:n.preOrderCheckHooks=[]).push(s.index),b=!0),x++}!function Hg(n,r,s){const c=r.directiveEnd,f=n.data,y=r.attrs,b=[];let x=null,U=null;for(let G=r.directiveStart;G<c;G++){const ae=f[G],Ve=s?s.get(ae):null,kt=Ve?Ve.outputs:null;x=cp(ae.inputs,G,x,Ve?Ve.inputs:null),U=cp(ae.outputs,G,U,kt);const Zt=null===x||null===y||pi(r)?null:r0(x,G,y);b.push(Zt)}null!==x&&(x.hasOwnProperty("class")&&(r.flags|=8),x.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=b,r.inputs=x,r.outputs=U}(n,s,f)}function dp(n,r,s){const a=s.directiveStart,c=s.directiveEnd,f=s.index,y=function Hn(){return er.lFrame.currentDirectiveIndex}();try{Nn(f);for(let b=a;b<c;b++){const x=n.data[b],U=r[b];bs(b),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Od(x,U)}}finally{Nn(-1),bs(y)}}function Od(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Rh(n,r,s){var a;r.componentOffset=s,(null!==(a=n.components)&&void 0!==a?a:n.components=[]).push(r.index)}function Yg(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Ni(r)&&(s[""]=n)}}function Kg(n,r,s,a,c){n.data[a]=c;const f=c.factory||(c.factory=Fn(c.type)),y=new da(f,Ni(c),Md);n.blueprint[a]=y,s[a]=y,function J_(n,r,s,a,c){const f=c.hostBindings;if(f){let y=n.hostBindingOpCodes;null===y&&(y=n.hostBindingOpCodes=[]);const b=~r.index;(function Wg(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(y)!=b&&y.push(b),y.push(s,a,f)}}(n,r,a,xh(n,s,c.hostVars,_r),c)}function Wa(n,r,s,a,c,f){const y=lr(n,r);!function Zg(n,r,s,a,c,f,y){if(null==f)n.removeAttribute(r,c,s);else{const b=null==y?Be(f):y(f,a||"",c);n.setAttribute(r,c,b,s)}}(r[wn],y,f,n.value,s,a,c)}function n0(n,r,s,a,c,f){const y=f[r];if(null!==y)for(let b=0;b<y.length;)hp(a,s,y[b++],y[b++],y[b++])}function hp(n,r,s,a,c){const f=Fi(null);try{const y=n.inputTransforms;null!==y&&y.hasOwnProperty(a)&&(c=y[a].call(r,c)),null!==n.setInput?n.setInput(r,c,s,a):r[a]=c}finally{Fi(f)}}function r0(n,r,s){let a=null,c=0;for(;c<s.length;){const f=s[c];if(0!==f)if(5!==f){if("number"==typeof f)break;if(n.hasOwnProperty(f)){null===a&&(a=[]);const y=n[f];for(let b=0;b<y.length;b+=2)if(y[b]===r){a.push(f,y[b+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function fp(n,r,s,a){return[n,!0,!1,r,null,0,a,s,null,null,null]}function iy(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const f=s[a+1];if(-1!==f){const y=n.data[f];Bi(s[a]),y.contentQueries(2,r[f],f)}}}function Pd(n,r){return n[No]?n[cs][Pi]=r:n[No]=r,n[cs]=r,r}function Xg(n,r,s){Bi(0);const a=Fi(null);try{r(n,s)}finally{Fi(a)}}function Qg(n){return n[zo]||(n[zo]=[])}function pp(n){return n.cleanup||(n.cleanup=[])}function sy(n,r){const s=n[Po],a=s?s.get(jc,null):null;a&&a.handleError(r)}function em(n,r,s,a,c){for(let f=0;f<s.length;){const y=s[f++],b=s[f++];hp(n.data[y],r[y],a,b,c)}}function o0(n,r){const s=si(r,n),a=s[Yt];!function tm(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])}(a,s);const c=s[Fr];null!==c&&null===s[Ui]&&(s[Ui]=Eh(c,s[Po])),Oh(a,s,s[Kr])}function Oh(n,r,s){A(r);try{const a=n.viewQuery;null!==a&&Xg(1,a,s);const c=n.template;null!==c&&Lg(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&iy(n,r),n.staticViewQueries&&Xg(2,n.viewQuery,s);const f=n.components;null!==f&&function nm(n,r){for(let s=0;s<r.length;s++)o0(n,r[s])}(r,f)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[qn]&=-5,pe()}}let ay=(()=>{var n;class r{constructor(){this.all=new Set,this.queue=new Map}create(a,c,f){const y=typeof Zone>"u"?null:Zone.current,b=new fl(a,G=>{this.all.has(G)&&this.queue.set(G,y)},f);let x;this.all.add(b),b.notify();const U=()=>{var G;b.cleanup(),null===(G=x)||void 0===G||G(),this.all.delete(b),this.queue.delete(b)};return x=null==c?void 0:c.onDestroy(U),{destroy:U}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return(n=r).\u0275prov=Dt({token:n,providedIn:"root",factory:()=>new n}),r})();function gp(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,f=0;if(null!==r)for(let y=0;y<r.length;y++){const b=r[y];"number"==typeof b?f=b:1==f?c=Te(c,b):2==f&&(a=Te(a,b+": "+r[++y]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}function Fu(n,r,s,a,c=!1){for(;null!==s;){const f=r[s.index];if(null!==f&&a.push(Cn(f)),di(f)){for(let b=Di;b<f.length;b++){const x=f[b],U=x[Yt].firstChild;null!==U&&Fu(x[Yt],x,U,a)}f[ji]!==f[Fr]&&a.push(f[ji])}const y=s.type;if(8&y)Fu(n,r,s.child,a);else if(32&y){const b=sl(s,r);let x;for(;x=b();)a.push(x)}else if(16&y){const b=Uo(r,s);if(Array.isArray(b))a.push(...b);else{const x=Ml(r[Qn]);Fu(x[Yt],x,b,a,!0)}}s=c?s.projectionNext:s.next}return a}function Nh(n,r,s,a=!0){const c=r[mi],f=c.rendererFactory,y=c.afterRenderEventManager;var x;null===(x=f.begin)||void 0===x||x.call(f),null==y||y.begin();try{Fh(n,r,n.template,s)}catch(ae){throw a&&sy(r,ae),ae}finally{var U,G;null===(U=f.end)||void 0===U||U.call(f),null===(G=c.effectManager)||void 0===G||G.flush(),null==y||y.end()}}function Fh(n,r,s,a){var c;const f=r[qn];if(256!=(256&f)){null===(c=r[mi].effectManager)||void 0===c||c.flush(),A(r);try{fs(r),function gl(n){return er.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Lg(n,r,s,2,a);const b=3==(3&f);if(b){const G=n.preOrderCheckHooks;null!==G&&ps(r,G,null)}else{const G=n.preOrderHooks;null!==G&&Qa(r,G,0,null),Ja(r,0)}if(function s0(n){for(let r=oc(n);null!==r;r=ud(r)){if(!r[Do])continue;const s=r[Fo];for(let a=0;a<s.length;a++){tu(s[a])}}}(r),cy(r,2),null!==n.contentQueries&&iy(n,r),b){const G=n.contentCheckHooks;null!==G&&ps(r,G)}else{const G=n.contentHooks;null!==G&&Qa(r,G,1),Ja(r,1)}!function Fg(n,r){const s=n.hostBindingOpCodes;if(null===s)return;const a=Qv(r,po);try{for(let c=0;c<s.length;c++){const f=s[c];if(f<0)Nn(~f);else{const y=f,b=s[++c],x=s[++c];Si(b,y),a.runInContext(x,2,r[y])}}}finally{null===r[po]&&tp(r,po),Nn(-1)}}(n,r);const x=n.components;null!==x&&Lh(r,x,0);const U=n.viewQuery;if(null!==U&&Xg(2,U,a),b){const G=n.viewCheckHooks;null!==G&&ps(r,G)}else{const G=n.viewHooks;null!==G&&Qa(r,G,2),Ja(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[qn]&=-73,_a(r)}finally{pe()}}}function cy(n,r){for(let s=oc(n);null!==s;s=ud(s))for(let a=Di;a<s.length;a++)uy(s[a],r)}function a0(n,r,s){uy(si(r,n),s)}function uy(n,r){if(!function Ko(n){return 128==(128&n[qn])}(n))return;const s=n[Yt];if(80&n[qn]&&0===r||1024&n[qn]||2===r)Fh(s,n,s.template,n[Kr]);else if(n[Ho]>0){cy(n,1);const c=n[Yt].components;null!==c&&Lh(n,c,1)}}function Lh(n,r,s){for(let a=0;a<r.length;a++)a0(n,r[a],s)}class Lu{get rootNodes(){const r=this._lView,s=r[Yt];return Fu(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kr]}set context(r){this._lView[Kr]=r}get destroyed(){return 256==(256&this._lView[qn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[ir];if(di(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Ms(r,a),an(s,a))}this._attachedToViewContainer=!1}sc(this._lView[Yt],this._lView)}onDestroy(r){!function Ra(n,r){if(256==(256&n[qn]))throw new fe(911,!1);null===n[fo]&&(n[fo]=[]),n[fo].push(r)}(this._lView,r)}markForCheck(){Sh(this._cdRefInjectingView||this._lView)}detach(){this._lView[qn]&=-129}reattach(){this._lView[qn]|=128}detectChanges(){Nh(this._lView[Yt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jt(n,r){Du(n,r,r[wn],2,null,null)}(this._lView[Yt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=r}}class rm extends Lu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Nh(r[Yt],r,r[Kr],!1)}checkNoChanges(){}get context(){return null}}class mp extends Gf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Gt(r);return new Hc(s,this.ngModule)}}function im(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class sm{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Sn(a);const c=this.injector.get(r,wg,a);return c!==wg||s===wg?c:this.parentInjector.get(r,s,a)}}class Hc extends Lv{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=im(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return im(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Nt(n){return n.map(Pt).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){var f;let y=(c=c||this.ngModule)instanceof ul?c:null===(f=c)||void 0===f?void 0:f.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const b=y?new sm(r,y):r,x=b.get(Sd,null);if(null===x)throw new fe(407,!1);const Ve={rendererFactory:x,sanitizer:b.get(j_,null),effectManager:b.get(ay,null),afterRenderEventManager:b.get(Mg,null)},tt=x.createRenderer(null,this.componentDef),kt=this.componentDef.selectors[0][0]||"div",Zt=a?function K_(n,r,s,a){const f=a.get(Yv,!1)||s===pn.ShadowDom,y=n.selectRootElement(r,f);return function $g(n){lp(n)}(y),y}(tt,a,this.componentDef.encapsulation,b):q(tt,kt,function om(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(kt)),Vt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let mr=null;null!==Zt&&(mr=Eh(Zt,b,!0));const Wr=Bg(0,null,null,1,0,null,null,null,null,null,null),yi=xd(null,Wr,null,Vt,null,null,Ve,tt,b,null,mr);let jl,iv;A(yi);try{const Hd=this.componentDef;let Lp,xI=null;Hd.findHostDirectiveDefs?(Lp=[],xI=new Map,Hd.findHostDirectiveDefs(Hd,Lp,xI),Lp.push(Hd)):Lp=[Hd];const OT=function dy(n,r){const s=n[Yt],a=Un;return n[a]=r,Rd(s,a,2,"#host",null)}(yi,Zt),PT=function vp(n,r,s,a,c,f,y){const b=c[Yt];!function hy(n,r,s,a){for(const c of n)r.mergedAttrs=zr(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(gp(r,r.mergedAttrs,!0),null!==s&&fv(a,s,r))}(a,n,r,y);let x=null;null!==r&&(x=Eh(r,c[Po]));const U=f.rendererFactory.createRenderer(r,s);let G=16;s.signals?G=4096:s.onPush&&(G=64);const ae=xd(c,ey(s),null,G,c[n.index],n,f,U,null,null,x);return b.firstCreatePass&&Rh(b,n,a.length-1),Pd(c,ae),c[n.index]=ae}(OT,Zt,Hd,Lp,yi,Ve,tt);iv=Zr(Wr,Un),Zt&&function fy(n,r,s,a){if(a)Ri(n,s,["ng-version",jv.full]);else{const{attrs:c,classes:f}=function vn(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let f=n[a];if("string"==typeof f)2===c?""!==f&&r.push(f,n[++a]):8===c&&s.push(f);else{if(!K(c))break;c=f}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Ri(n,s,c),f&&f.length>0&&hv(n,s,f.join(" "))}}(tt,Hd,Zt,a),void 0!==s&&function Nd(n,r,s){const a=n.projection=[];for(let c=0;c<r.length;c++){const f=s[c];a.push(null!=f?Array.from(f):null)}}(iv,this.ngContentSelectors,s),jl=function lm(n,r,s,a,c,f){const y=xt(),b=c[Yt],x=lr(y,c);up(b,c,y,s,null,a);for(let G=0;G<s.length;G++)Ji(La(c,b,y.directiveStart+G,y),c);dp(b,c,y),x&&Ji(x,c);const U=La(c,b,y.directiveStart+y.componentOffset,y);if(n[Kr]=c[Kr]=U,null!==f)for(const G of f)G(U,r);return op(b,y,n),U}(PT,Hd,Lp,xI,yi,[cm]),Oh(Wr,yi,null)}finally{pe()}return new am(this.componentType,jl,Cd(iv,yi),yi,iv)}}class am extends Fv{constructor(r,s,a,c,f){super(),this.location=a,this._rootLView=c,this._tNode=f,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new rm(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){var f;if(null!==(f=this.previousInputValues)&&void 0!==f||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const y=this._rootLView;em(y[Yt],y,c,r,s),this.previousInputValues.set(r,s),Sh(si(this._tNode.index,y))}}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function cm(){const n=xt();Fs(ut()[Yt],n)}function um(n){let r=function py(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(Ni(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new fe(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const y=n;y.inputs=Bh(n.inputs),y.inputTransforms=Bh(n.inputTransforms),y.declaredInputs=Bh(n.declaredInputs),y.outputs=Bh(n.outputs);const b=c.hostBindings;b&&u0(n,b);const x=c.viewQuery,U=c.contentQueries;if(x&&c0(n,x),U&&gy(n,U),be(n.inputs,c.inputs),be(n.declaredInputs,c.declaredInputs),be(n.outputs,c.outputs),null!==c.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),be(y.inputTransforms,c.inputTransforms)),Ni(c)&&c.data.animation){const G=n.data;G.animation=(G.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let y=0;y<f.length;y++){const b=f[y];b&&b.ngInherit&&b(n),b===um&&(s=!1)}}r=Object.getPrototypeOf(r)}!function l0(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=zr(c.hostAttrs,s=zr(s,c.hostAttrs))}}(a)}function Bh(n){return n===fn?{}:n===Qt?[]:n}function c0(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function gy(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,f)=>{r(a,c,f),s(a,c,f)}:r}function u0(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function $h(n){const r=n.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}n.inputTransforms=s}function Vh(n){return!!_p(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function _p(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function xs(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function jh(n,r,s,a){const c=ut();return xs(c,zs(),r)&&(Or(),Wa(An(),c,n,r,s,a)),jh}function My(n,r,s,a,c,f,y,b){const x=ut(),U=Or(),G=n+Un,ae=U.firstCreatePass?function Zh(n,r,s,a,c,f,y,b,x){const U=r.consts,G=Rd(r,n,4,y||null,ao(U,b));Gg(r,s,G,ao(U,x)),Fs(r,G);const ae=G.tView=Bg(2,G,a,c,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U,null);return null!==r.queries&&(r.queries.template(r,G),ae.queries=r.queries.embeddedTView(G)),G}(G,U,x,r,s,a,c,f,y):U.data[G];Li(ae,!1);const Ve=Xh(U,x,ae,n);ua()&&ih(U,x,Ve,ae),Ji(Ve,x),Pd(x,x[G]=fp(Ve,x,Ve,ae)),Lo(ae)&&sp(U,x,ae),null!=y&&ap(x,ae,b)}let Xh=function wm(n,r,s,a){return vo(!0),r[wn].createComment("")};function Cm(n,r,s){const a=ut();return xs(a,zs(),r)&&function Da(n,r,s,a,c,f,y,b){const x=lr(r,s);let G,U=r.inputs;!b&&null!=U&&(G=U[a])?(em(n,s,G,a,c),Ci(r)&&function zg(n,r){const s=si(r,n);16&s[qn]||(s[qn]|=64)}(s,r.index)):3&r.type&&(a=function ty(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=y?y(c,r.value||"",a):c,f.setProperty(x,a,c))}(Or(),An(),a,n,r,a[wn],s,!1),Cm}function qc(n,r,s,a,c){const y=c?"class":"style";em(n,s,r.inputs[y],y,a)}function Tm(n,r,s,a){const c=ut(),f=Or(),y=Un+n,b=c[wn],x=f.firstCreatePass?function kI(n,r,s,a,c,f){const y=r.consts,x=Rd(r,n,2,a,ao(y,c));return Gg(r,s,x,ao(y,f)),null!==x.attrs&&gp(x,x.attrs,!1),null!==x.mergedAttrs&&gp(x,x.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,x),x}(y,f,c,r,s,a):f.data[y],U=ef(f,c,x,b,r,n);c[y]=U;const G=Lo(x);return Li(x,!0),fv(b,U,x),32!=(32&x.flags)&&ua()&&ih(f,c,U,x),0===function lo(){return er.lFrame.elementDepthCount}()&&Ji(U,c),function Oa(){er.lFrame.elementDepthCount++}(),G&&(sp(f,c,x),op(f,x,c)),null!==a&&ap(c,x),Tm}function Bd(){let n=xt();Na()?pl():(n=n.parent,Li(n,!1));const r=n;(function Kt(n){return er.skipHydrationRootTNode===n})(r)&&function Jt(){er.skipHydrationRootTNode=null}(),function Zi(){er.lFrame.elementDepthCount--}();const s=Or();return s.firstCreatePass&&(Fs(s,n),us(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Co(n){return 0!=(8&n.flags)}(r)&&qc(s,r,ut(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ec(n){return 0!=(16&n.flags)}(r)&&qc(s,r,ut(),r.stylesWithoutHost,!1),Bd}function Sm(n,r,s,a){return Tm(n,r,s,a),Bd(),Sm}let ef=(n,r,s,a,c,f)=>(vo(!0),q(a,c,function ca(){return er.lFrame.currentNamespace}()));function Am(n,r,s){const a=ut(),c=Or(),f=n+Un,y=c.firstCreatePass?function bp(n,r,s,a,c){const f=r.consts,y=ao(f,a),b=Rd(r,n,8,"ng-container",y);return null!==y&&gp(b,y,!0),Gg(r,s,b,ao(f,c)),null!==r.queries&&r.queries.elementStart(r,b),b}(f,c,a,r,s):c.data[f];Li(y,!0);const b=xy(c,a,y,n);return a[f]=b,ua()&&ih(c,a,b,y),Ji(b,a),Lo(y)&&(sp(c,a,y),op(c,y,a)),null!=s&&ap(a,y),Am}function Mm(){let n=xt();const r=Or();return Na()?pl():(n=n.parent,Li(n,!1)),r.firstCreatePass&&(Fs(r,n),us(n)&&r.queries.elementEnd(n)),Mm}function $d(n,r,s){return Am(n,r,s),Mm(),$d}let xy=(n,r,s,a)=>(vo(!0),j(r[wn],""));function Cp(n){return!!n&&"function"==typeof n.then}function xm(n){return!!n&&"function"==typeof n.subscribe}function Tp(n,r,s,a){const c=ut(),f=Or(),y=xt();return function tf(n,r,s,a,c,f,y){const b=Lo(a),U=n.firstCreatePass&&pp(n),G=r[Kr],ae=Qg(r);let Ve=!0;if(3&a.type||y){const Zt=lr(a,r),_n=y?y(Zt):Zt,jn=ae.length,Vt=y?Wr=>y(Cn(Wr[a.index])):a.index;let mr=null;if(!y&&b&&(mr=function Om(n,r,s,a){const c=n.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const y=c[f];if(y===s&&c[f+1]===a){const b=r[zo],x=c[f+2];return b.length>x?b[x]:null}"string"==typeof y&&(f+=2)}return null}(n,r,c,a.index)),null!==mr)(mr.__ngLastListenerFn__||mr).__ngNextListenerFn__=f,mr.__ngLastListenerFn__=f,Ve=!1;else{f=b0(a,r,G,f,!1);const Wr=s.listen(_n,c,f);ae.push(f,Wr),U&&U.push(c,Vt,jn,jn+1)}}else f=b0(a,r,G,f,!1);const tt=a.outputs;let kt;if(Ve&&null!==tt&&(kt=tt[c])){const Zt=kt.length;if(Zt)for(let _n=0;_n<Zt;_n+=2){const yi=r[kt[_n]][kt[_n+1]].subscribe(f),jl=ae.length;ae.push(f,yi),U&&U.push(c,a.index,jl,-(jl+1))}}}(f,c,c[wn],y,n,r,a),Tp}function Py(n,r,s,a){try{return wt(6,r,s),!1!==s(a)}catch(c){return sy(n,c),!1}finally{wt(7,r,s)}}function b0(n,r,s,a,c){return function f(y){if(y===Function)return a;Sh(n.componentOffset>-1?si(n.index,r):r);let x=Py(r,s,a,y),U=f.__ngNextListenerFn__;for(;U;)x=Py(r,s,U,y)&&x,U=U.__ngNextListenerFn__;return c&&!1===x&&y.preventDefault(),x}}function C0(n=1){return function xe(n){return(er.lFrame.contextLView=function St(n,r){for(;n>0;)r=r[Io],n--;return r}(n,er.lFrame.contextLView))[Kr]}(n)}function T0(n,r){let s=null;const a=function Se(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(n);for(let c=0;c<r.length;c++){const f=r[c];if("*"!==f){if(null===a?ne(n,f,!0):mt(a,f))return c}else s=c}return s}function S0(n){const r=ut()[Qn][Jr];if(!r.projection){const a=r.projection=Ln(n?n.length:1,null),c=a.slice();let f=r.child;for(;null!==f;){const y=n?T0(f,n):0;null!==y&&(c[y]?c[y].projectionNext=f:a[y]=f,c[y]=f),f=f.next}}}function A0(n,r=0,s){const a=ut(),c=Or(),f=Rd(c,Un+n,16,null,s||null);null===f.projection&&(f.projection=r),pl(),(!a[Ui]||Ds())&&32!=(32&f.flags)&&function lv(n,r,s){fd(r[wn],0,r,s,xl(n,s,r),ov(s.parent||r[Jr],s,r))}(c,a,f)}function Sp(n,r){return n<<17|r<<2}function Kc(n){return n>>17&32767}function Ap(n){return 2|n}function ju(n){return(131068&n)>>2}function Nm(n,r){return-131069&n|r<<2}function km(n){return 1|n}function Uy(n,r,s,a,c){const f=n[s+1],y=null===r;let b=a?Kc(f):ju(f),x=!1;for(;0!==b&&(!1===x||y);){const G=n[b+1];R0(n[b],r)&&(x=!0,n[b+1]=a?km(G):Ap(G)),b=a?Kc(G):ju(G)}x&&(n[s+1]=a?Ap(f):km(f))}function R0(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Ao(n,r)>=0}function Lm(n,r){return function Vl(n,r,s,a){const c=ut(),f=Or(),y=function Gn(n){const r=er.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);f.firstUpdatePass&&function Yy(n,r,s,a){const c=n.data;if(null===c[s+1]){const f=c[Rt()],y=function qy(n,r){return r>=n.expandoStartIndex}(n,s);(function Vs(n,r){return 0!=(n.flags&(r?8:16))})(f,a)&&null===r&&!y&&(r=!1),r=function Bm(n,r,s,a){const c=function Nr(n){const r=er.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let f=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=af(s=sf(null,n,r,s,a),r.attrs,a),f=null);else{const y=r.directiveStylingLast;if(-1===y||n[y]!==c)if(s=sf(c,n,r,s,a),null===f){let x=function Ky(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==ju(a))return n[Kc(a)]}(n,r,a);void 0!==x&&Array.isArray(x)&&(x=sf(null,n,r,x[1],a),x=af(x,r.attrs,a),function Zy(n,r,s,a){n[Kc(s?r.classBindings:r.styleBindings)]=a}(n,r,a,x))}else f=function rf(n,r,s){let a;const c=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<c;f++)a=af(a,n[f].hostAttrs,s);return af(a,r.attrs,s)}(n,r,a)}return void 0!==f&&(a?r.residualClasses=f:r.residualStyles=f),s}(c,f,r,a),function FI(n,r,s,a,c,f){let y=f?r.classBindings:r.styleBindings,b=Kc(y),x=ju(y);n[a]=s;let G,U=!1;if(Array.isArray(s)?(G=s[1],(null===G||Ao(s,G)>0)&&(U=!0)):G=s,c)if(0!==x){const Ve=Kc(n[b+1]);n[a+1]=Sp(Ve,b),0!==Ve&&(n[Ve+1]=Nm(n[Ve+1],a)),n[b+1]=function By(n,r){return 131071&n|r<<17}(n[b+1],a)}else n[a+1]=Sp(b,0),0!==b&&(n[b+1]=Nm(n[b+1],a)),b=a;else n[a+1]=Sp(x,0),0===b?b=a:n[x+1]=Nm(n[x+1],a),x=a;U&&(n[a+1]=Ap(n[a+1])),Uy(n,G,a,!0),Uy(n,G,a,!1),function x0(n,r,s,a,c){const f=c?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof r&&Ao(f,r)>=0&&(s[a+1]=km(s[a+1]))}(r,G,n,a,f),y=Sp(b,x),f?r.classBindings=y:r.styleBindings=y}(c,f,r,s,y,a)}}(f,n,y,a),r!==_r&&xs(c,y,r)&&function Vm(n,r,s,a,c,f,y,b){if(!(3&r.type))return;const x=n.data,U=x[b+1],G=function $y(n){return 1==(1&n)}(U)?Um(x,r,s,c,ju(U),y):void 0;Ul(G)||(Ul(f)||function M0(n){return 2==(2&n)}(U)&&(f=Um(x,null,s,c,b,y)),function uv(n,r,s,a,c){if(r)c?n.addClass(s,a):n.removeClass(s,a);else{let f=-1===a.indexOf("-")?void 0:gr.DashCase;null==c?n.removeStyle(s,a,f):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),f|=gr.Important),n.setStyle(s,a,c,f))}}(a,y,Bn(Rt(),s),c,f))}(f,f.data[Rt()],c,c[wn],n,c[y+1]=function Ya(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ue(fa(n)))),n}(r,s),a,y)}(n,r,null,!0),Lm}function sf(n,r,s,a,c){let f=null;const y=s.directiveEnd;let b=s.directiveStylingLast;for(-1===b?b=s.directiveStart:b++;b<y&&(f=r[b],a=af(a,f.hostAttrs,c),f!==n);)b++;return null!==n&&(s.directiveStylingLast=b),a}function af(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let f=0;f<r.length;f++){const y=r[f];"number"==typeof y?c=y:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),So(n,y,!!s||r[++f]))}return void 0===n?null:n}function Um(n,r,s,a,c,f){const y=null===r;let b;for(;c>0;){const x=n[c],U=Array.isArray(x),G=U?x[1]:x,ae=null===G;let Ve=s[c+1];Ve===_r&&(Ve=ae?Qt:void 0);let tt=ae?hi(Ve,a):G===a?Ve:void 0;if(U&&!Ul(tt)&&(tt=hi(x,a)),Ul(tt)&&(b=tt,y))return b;const kt=n[c+1];c=y?Kc(kt):ju(kt)}if(null!==r){let x=f?r.residualClasses:r.residualStyles;null!=x&&(b=hi(x,a))}return b}function Ul(n){return void 0!==n}function jm(n,r=""){const s=ut(),a=Or(),c=n+Un,f=a.firstCreatePass?Rd(a,c,1,r,null):a.data[c],y=Hm(a,s,f,r,n);s[c]=y,ua()&&ih(a,s,y,f),Li(f,!1)}let Hm=(n,r,s,a,c)=>(vo(!0),function p(n,r){return n.createText(r)}(r[wn],a));function xp(n,r,s){const a=ut(),c=function zc(n,r,s,a){return xs(n,zs(),s)?r+Be(s)+a:_r}(a,n,r,s);return c!==_r&&function dl(n,r,s){const a=Bn(r,n);!function E(n,r,s){n.setValue(r,s)}(n[wn],a,s)}(a,Rt(),c),xp}const g=void 0;var B=["en",[["a","p"],["AM","PM"],g],[["AM","PM"],g,g],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],g,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],g,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",g,"{1} 'at' {0}",g],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function M(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let H={};function Fe(n){const r=function wr(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=nn(r);if(s)return s;const a=r.split("-")[0];if(s=nn(a),s)return s;if("en"===a)return B;throw new fe(701,!1)}function Ot(n){return Fe(n)[bn.PluralCase]}function nn(n){return n in H||(H[n]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[n]),H[n]}var bn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(bn||{});const Wi="en-US";let jI=Wi;function Y0(n,r,s,a,c){if(n=we(n),Array.isArray(n))for(let f=0;f<n.length;f++)Y0(n[f],r,s,a,c);else{const f=Or(),y=ut(),b=xt();let x=Su(n)?n:we(n.provide);const U=Bf(n),G=1048575&b.providerIndexes,ae=b.directiveStart,Ve=b.providerIndexes>>20;if(Su(n)||!n.multi){const tt=new da(U,c,Md),kt=Z0(x,r,c?G:G+Ve,ae);-1===kt?(lu(yl(b,y),f,x),K0(f,n,r.length),r.push(x),b.directiveStart++,b.directiveEnd++,c&&(b.providerIndexes+=1048576),s.push(tt),y.push(tt)):(s[kt]=tt,y[kt]=tt)}else{const tt=Z0(x,r,G+Ve,ae),kt=Z0(x,r,G,G+Ve),_n=kt>=0&&s[kt];if(c&&!_n||!c&&!(tt>=0&&s[tt])){lu(yl(b,y),f,x);const jn=function qw(n,r,s,a,c){const f=new da(n,s,Md);return f.multi=[],f.index=r,f.componentProviders=0,fE(f,c,a&&!s),f}(c?Ww:Gw,s.length,c,a,U);!c&&_n&&(s[kt].providerFactory=jn),K0(f,n,r.length,0),r.push(x),b.directiveStart++,b.directiveEnd++,c&&(b.providerIndexes+=1048576),s.push(jn),y.push(jn)}else K0(f,n,tt>-1?tt:kt,fE(s[c?kt:tt],U,!c&&a));!c&&a&&_n&&s[kt].componentProviders++}}}function K0(n,r,s,a){const c=Su(r),f=function Rv(n){return!!n.useClass}(r);if(c||f){const x=(f?we(r.useClass):r).prototype.ngOnDestroy;if(x){const U=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const G=U.indexOf(s);-1===G?U.push(s,[a,x]):U[G+1].push(a,x)}else U.push(s,x)}}}function fE(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Z0(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function Gw(n,r,s,a){return X0(this.multi,[])}function Ww(n,r,s,a){const c=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=La(s,s[Yt],this.providerFactory.index,a);f=b.slice(0,y),X0(c,f);for(let x=y;x<b.length;x++)f.push(b[x])}else f=[],X0(c,f);return f}function X0(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function pE(n,r=[]){return s=>{s.providersResolver=(a,c)=>function zw(n,r,s){const a=Or();if(a.firstCreatePass){const c=Ni(n);Y0(s,a.data,a.blueprint,c,!0),Y0(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class uf{}class gE{}function Yw(n,r){return new Q0(n,null!=r?r:null,[])}class Q0 extends uf{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mp(this);const c=Yr(r);this._bootstrapComponents=Ga(c.bootstrap),this._r3Injector=Yf(r,s,[{provide:uf,useValue:this},{provide:Gf,useValue:this.componentFactoryResolver},...a],ue(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class J0 extends gE{constructor(r){super(),this.moduleType=r}create(r){return new Q0(this.moduleType,r,[])}}class mE extends uf{constructor(r){super(),this.componentFactoryResolver=new mp(this),this.instance=null;const s=new Ff([...r.providers,{provide:uf,useValue:this},{provide:Gf,useValue:this.componentFactoryResolver}],r.parent||gh(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function vE(n,r,s=null){return new mE({providers:n,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let Zw=(()=>{var n;class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=hc(0,a.type),f=c.length>0?vE([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,f)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(n=r).\u0275prov=Dt({token:n,providedIn:"environment",factory:()=>new n(sn(ul))}),r})();function yE(n){n.getStandaloneInjector=r=>r.get(Zw).getOrCreateStandaloneInjector(n)}function tI(n){return r=>{setTimeout(n,void 0,r)}}const eu=class Db extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,f=s||(()=>null),y=a;if(r&&"object"==typeof r){var b,x,U;const ae=r;c=null===(b=ae.next)||void 0===b?void 0:b.bind(ae),f=null===(x=ae.error)||void 0===x?void 0:x.bind(ae),y=null===(U=ae.complete)||void 0===U?void 0:U.bind(ae)}this.__isAsync&&(f=tI(f),c&&(c=tI(c)),y&&(y=tI(y)));const G=super.subscribe({next:c,error:f,complete:y});return r instanceof v.w0&&r.add(G),G}};function wb(){return this._results[Symbol.iterator]()}class nI{get changes(){return this._changes||(this._changes=new eu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=nI.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=wb)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function nt(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Ke(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],f=r[a];if(s&&(c=s(c),f=s(f)),f!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Cb(n,r,s,a=!0){const c=r[Yt];if(function Mn(n,r,s,a){const c=Di+a,f=s.length;a>0&&(s[c-1][Pi]=r),a<f-Di?(r[Pi]=s[c],dn(s,Di+a,r)):(s.push(r),r[Pi]=null),r[ir]=s;const y=r[Xo];null!==y&&s!==y&&function kn(n,r){const s=n[Fo];r[Qn]!==r[ir][ir][Qn]&&(n[Do]=!0),null===s?n[Fo]=[r]:s.push(r)}(y,r);const b=r[ci];null!==b&&b.insertView(n),r[qn]|=128}(c,r,n,s),a){const f=sh(s,n),y=r[wn],b=cc(y,n[ji]);null!==b&&function dt(n,r,s,a,c,f){a[Fr]=c,a[Jr]=r,Du(n,a,s,1,c,f)}(c,n[Jr],y,r,b,f)}}let tv=(()=>{class r{}return r.__NG_ELEMENT_ID__=Ab,r})();const Tb=tv,Sb=class extends Tb{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function bb(n,r,s,a){var c,f;const y=r.tView,U=xd(n,y,s,4096&n[qn]?4096:16,null,r,null,null,null,null!==(c=null==a?void 0:a.injector)&&void 0!==c?c:null,null!==(f=null==a?void 0:a.hydrationInfo)&&void 0!==f?f:null);U[Xo]=n[r.index];const ae=n[ci];return null!==ae&&(U[ci]=ae.createEmbeddedView(y)),Oh(y,U,s),U}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Lu(c)}};function Ab(){return h_(xt(),ut())}function h_(n,r){return 4&n.type?new Sb(r,n,Cd(n,r)):null}let p_=(()=>{class r{}return r.__NG_ELEMENT_ID__=Nb,r})();function Nb(){return FE(xt(),ut())}const kb=p_,NE=class extends kb{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Cd(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){const r=_l(this._hostTNode,this._hostLView);if(Kl(r)){const s=el(r,this._hostLView),a=wc(r);return new Qi(s[Yt].data[a+8],s)}return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=kE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Di}createEmbeddedView(r,s,a){let c,f;"number"==typeof a?c=a:null!=a&&(c=a.index,f=a.injector);const b=r.createEmbeddedViewImpl(s||{},f,null);return this.insertImpl(b,c,false),b}createComponent(r,s,a,c,f){var y,x;const U=r&&!function ge(n){return"function"==typeof n}(r);let G;if(U)G=s;else{const Vt=s||{};G=Vt.index,a=Vt.injector,c=Vt.projectableNodes,f=Vt.environmentInjector||Vt.ngModuleRef}const ae=U?r:new Hc(Gt(r)),Ve=a||this.parentInjector;if(!f&&null==ae.ngModule){const mr=(U?Ve:this.parentInjector).get(ul,null);mr&&(f=mr)}const tt=Gt(null!==(y=ae.componentType)&&void 0!==y?y:{}),kt=(null==tt?void 0:tt.id,null),Zt=null!==(x=null==kt?void 0:kt.firstChild)&&void 0!==x?x:null,_n=ae.create(Ve,c,Zt,f),jn=!!kt&&!id(this._hostTNode);return this.insertImpl(_n.hostView,G,jn),_n}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Ki(n){return di(n[ir])}(c)){const x=this.indexOf(r);if(-1!==x)this.detach(x);else{const U=c[ir],G=new NE(U,U[Jr],U[ir]);G.detach(G.indexOf(r))}}const y=this._adjustIndex(s),b=this._lContainer;return Cb(b,c,y,!a),r.attachToViewContainerRef(),dn(rI(b),y,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=kE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Ms(this._lContainer,s);a&&(an(rI(this._lContainer),s),sc(a[Yt],a))}detach(r){const s=this._adjustIndex(r,-1),a=Ms(this._lContainer,s);return a&&null!=an(rI(this._lContainer),s)?new Lu(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function kE(n){return n[8]}function rI(n){return n[8]||(n[8]=[])}function FE(n,r){let s;const a=r[n.index];return di(a)?s=a:(s=fp(a,r,null,n),r[n.index]=s,Pd(r,s)),LE(s,r,n,a),new NE(s,n,r)}let LE=function BE(n,r,s,a){if(n[ji])return;let c;c=8&s.type?Cn(a):function Fb(n,r){const s=n[wn],a=s.createComment(""),c=lr(r,n);return ll(s,cc(s,c),a,function Gp(n,r){return n.nextSibling(r)}(s,c),!1),a}(r,s),n[ji]=c};class iI{constructor(r){this.queryList=r,this.matches=null}clone(){return new iI(this.queryList)}setDirty(){this.queryList.setDirty()}}class oI{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let f=0;f<a;f++){const y=s.getByIndex(f);c.push(this.queries[y.indexInDeclarationView].clone())}return new oI(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==qE(r,s).matches&&this.queries[s].setDirty()}}class $E{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class sI{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,f=this.getByIndex(a).embeddedTView(r,c);f&&(f.indexInDeclarationView=a,null!==s?s.push(f):s=[f])}return null!==s?new sI(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class aI{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new aI(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const f=a[c];this.matchTNodeWithReadOption(r,s,$b(s,f)),this.matchTNodeWithReadOption(r,s,Cs(s,r,f,!1,!1))}else a===tv?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Cs(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Td||c===p_||c===tv&&4&s.type)this.addMatch(s.index,-2);else{const f=Cs(s,r,c,!1,!1);null!==f&&this.addMatch(s.index,f)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function $b(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Ub(n,r,s,a){return-1===s?function Vb(n,r){return 11&n.type?Cd(n,r):4&n.type?h_(n,r):null}(r,n):-2===s?function jb(n,r,s){return s===Td?Cd(r,n):s===tv?h_(r,n):s===p_?FE(r,n):void 0}(n,r,a):La(n,n[Yt],s,r)}function VE(n,r,s,a){const c=r[ci].queries[a];if(null===c.matches){const f=n.data,y=s.matches,b=[];for(let x=0;x<y.length;x+=2){const U=y[x];b.push(U<0?null:Ub(r,f[U],y[x+1],s.metadata.read))}c.matches=b}return c.matches}function lI(n,r,s,a){const c=n.queries.getByIndex(s),f=c.matches;if(null!==f){const y=VE(n,r,c,s);for(let b=0;b<f.length;b+=2){const x=f[b];if(x>0)a.push(y[b/2]);else{const U=f[b+1],G=r[-x];for(let ae=Di;ae<G.length;ae++){const Ve=G[ae];Ve[Xo]===Ve[ir]&&lI(Ve[Yt],Ve,U,a)}if(null!==G[Fo]){const ae=G[Fo];for(let Ve=0;Ve<ae.length;Ve++){const tt=ae[Ve];lI(tt[Yt],tt,U,a)}}}}}return a}function UE(n){const r=ut(),s=Or(),a=nu();Bi(a+1);const c=qE(s,a);if(n.dirty&&function ts(n){return 4==(4&n[qn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const f=c.crossesNgTemplate?lI(s,r,a,[]):VE(s,r,c,a);n.reset(f,Wf),n.notifyOnChanges()}return!0}return!1}function jE(n,r,s){const a=Or();a.firstCreatePass&&(WE(a,new $E(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),GE(a,ut(),r)}function HE(n,r,s,a){const c=Or();if(c.firstCreatePass){const f=xt();WE(c,new $E(r,s,a),f.index),function zb(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}GE(c,ut(),s)}function zE(){return function Hb(n,r){return n[ci].queries[r].queryList}(ut(),nu())}function GE(n,r,s){const a=new nI(4==(4&s));(function Ug(n,r,s,a){const c=Qg(r);c.push(s),n.firstCreatePass&&pp(n).push(a,c.length-1)})(n,r,a,a.destroy),null===r[ci]&&(r[ci]=new oI),r[ci].queries.push(new iI(a))}function WE(n,r,s){null===n.queries&&(n.queries=new sI),n.queries.track(new aI(r,s))}function qE(n,r){return n.queries.getByIndex(r)}function cI(n){return!!Yr(n)}const uD=new Vr("Application Initializer");let pI=(()=>{var n;class r{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,f)=>{this.resolve=c,this.reject=f}),this.appInits=null!==(a=en(uD,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const f of this.appInits){const y=f();if(Cp(y))a.push(y);else if(xm(y)){const b=new Promise((x,U)=>{y.subscribe({complete:x,error:U})});a.push(b)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(f=>{this.reject(f)}),0===a.length&&c(),this.initialized=!0}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),r})(),dD=(()=>{var n;class r{log(a){console.log(a)}warn(a){console.warn(a)}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),r})();const m_=new Vr("LocaleId",{providedIn:"root",factory:()=>en(m_,rn.Optional|rn.SkipSelf)||function hC(){return typeof $localize<"u"&&$localize.locale||Wi}()}),fC=new Vr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let hD=(()=>{var n;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new W.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();class gC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let mC=(()=>{var n;class r{compileModuleSync(a){return new J0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),y=Ga(Yr(a).declarations).reduce((b,x)=>{const U=Gt(x);return U&&b.push(new Hc(U)),b},[]);return new gC(c,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();function mD(...n){}class Ca{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eu(!1),this.onMicrotaskEmpty=new eu(!1),this.onStable=new eu(!1),this.onError=new eu(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function FC(){const n="function"==typeof Xt.requestAnimationFrame;let r=Xt[n?"requestAnimationFrame":"setTimeout"],s=Xt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function $C(n){const r=()=>{!function BC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Xt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,yI(n),n.isCheckStableRunning=!0,vI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),yI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,f,y,b)=>{try{return vD(n),s.invokeTask(c,f,y,b)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&r(),yD(n)}},onInvoke:(s,a,c,f,y,b,x)=>{try{return vD(n),s.invoke(c,f,y,b,x)}finally{n.shouldCoalesceRunChangeDetection&&r(),yD(n)}},onHasTask:(s,a,c,f)=>{s.hasTask(c,f),a===c&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,yI(n),vI(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,a,c,f)=>(s.handleError(c,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ca.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(Ca.isInAngularZone())throw new fe(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+c,r,LC,mD,mD);try{return f.runTask(y,s,a)}finally{f.cancelTask(y)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const LC={};function vI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function yI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function vD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yD(n){n._nesting--,vI(n)}class VC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eu,this.onMicrotaskEmpty=new eu,this.onStable=new eu,this.onError=new eu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const _D=new Vr("",{providedIn:"root",factory:ID});function ID(){const n=en(Ca);let r=!0;const s=new ie.y(c=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new ie.y(c=>{let f;n.runOutsideAngular(()=>{f=n.onStable.subscribe(()=>{Ca.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const y=n.onUnstable.subscribe(()=>{Ca.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{c.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,Ee.T)(s,a.pipe((0,le.B)()))}const ED=new Vr(""),DD=new Vr("");let _I,UC=(()=>{var n;class r{constructor(a,c,f){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_I||(function jC(n){_I=n}(f),f.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ca.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,f){let y=-1;c&&c>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==y),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:f})}whenStable(a,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,f){return[]}}return(n=r).\u0275fac=function(a){return new(a||n)(sn(Ca),sn(wD),sn(DD))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),r})(),wD=(()=>{var n;class r{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var f,y;return null!==(f=null===(y=_I)||void 0===y?void 0:y.findTestabilityInTree(this,a,c))&&void 0!==f?f:null}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),r})(),jd=null;const bD=new Vr("AllowMultipleToken"),II=new Vr("PlatformDestroyListeners"),EI=new Vr("appBootstrapListener");class GC{constructor(r,s){this.name=r,this.token=s}}function SD(n,r,s=[]){const a=`Platform: ${r}`,c=new Vr(a);return(f=[])=>{let y=DI();if(!y||y.injector.get(bD,!1)){const b=[...s,...f,{provide:c,useValue:!0}];n?n(b):function WC(n){if(jd&&!jd.get(bD,!1))throw new fe(400,!1);(function CD(){!function ya(n){sa=n}(()=>{throw new fe(600,!1)})})(),jd=n;const r=n.get(MD);(function TD(n){const r=n.get(mh,null);null==r||r.forEach(s=>s())})(n)}(function AD(n=[],r){return ys.create({name:r,providers:[{provide:dg,useValue:"platform"},{provide:II,useValue:new Set([()=>jd=null])},...n]})}(b,a))}return function YC(n){const r=DI();if(!r)throw new fe(401,!1);return r}()}}function DI(){var n,r;return null!==(n=null===(r=jd)||void 0===r?void 0:r.get(MD))&&void 0!==n?n:null}let MD=(()=>{var n;class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const f=function KC(n="zone.js",r){return"noop"===n?new VC:"zone.js"===n?new Ca(r):n}(null==c?void 0:c.ngZone,function xD(n){var r,s;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==n?void 0:n.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(s=null==n?void 0:n.runCoalescing)&&void 0!==s&&s}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return f.run(()=>{const y=function Kw(n,r,s){return new Q0(n,r,s)}(a.moduleType,this.injector,function kD(n){return[{provide:Ca,useFactory:n},{provide:Pl,multi:!0,useFactory:()=>{const r=en(XC,{optional:!0});return()=>r.initialize()}},{provide:ND,useFactory:ZC},{provide:_D,useFactory:ID}]}(()=>f)),b=y.injector.get(jc,null);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:U=>{b.handleError(U)}});y.onDestroy(()=>{y_(this._modules,y),x.unsubscribe()})}),function RD(n,r,s){try{const a=s();return Cp(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(b,f,()=>{const x=y.injector.get(pI);return x.runInitializers(),x.donePromise.then(()=>(function HI(n){Ct(n,"Expected localeId to be defined"),"string"==typeof n&&(jI=n.toLowerCase().replace(/_/g,"-"))}(y.injector.get(m_,Wi)||Wi),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,c=[]){const f=OD({},c);return function HC(n,r,s){const a=new J0(s);return Promise.resolve(a)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,f))}_moduleDoBootstrap(a){const c=a.injector.get(Fp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!a.instance.ngDoBootstrap)throw new fe(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(II,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(n=r).\u0275fac=function(a){return new(a||n)(sn(ys))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),r})();function OD(n,r){return Array.isArray(r)?r.reduce(OD,n):{...n,...r}}let Fp=(()=>{var n;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=en(ND),this.zoneIsStable=en(_D),this.componentTypes=[],this.components=[],this.isStable=en(hD).hasPendingTasks.pipe((0,Ue.w)(a=>a?(0,_e.of)(!1):this.zoneIsStable),(0,Ne.x)(),(0,le.B)()),this._injector=en(ul)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const f=a instanceof Lv;if(!this._injector.get(pI).done)throw!f&&rr(a),new fe(405,!1);let b;b=f?a:this._injector.get(Gf).resolveComponentFactory(a),this.componentTypes.push(b.componentType);const x=function zC(n){return n.isBoundToModule}(b)?void 0:this._injector.get(uf),G=b.create(ys.NULL,[],c||b.selector,x),ae=G.location.nativeElement,Ve=G.injector.get(ED,null);return null==Ve||Ve.registerApplication(ae),G.onDestroy(()=>{this.detachView(G.hostView),y_(this.components,G),null==Ve||Ve.unregisterApplication(ae)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;y_(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(EI,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>y_(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new fe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();function y_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}const ND=new Vr("",{providedIn:"root",factory:()=>en(jc).handleError.bind(void 0)});function ZC(){const n=en(Ca),r=en(jc);return s=>n.runOutsideAngular(()=>r.handleError(s))}let XC=(()=>{var n;class r{constructor(){this.zone=en(Ca),this.applicationRef=en(Fp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();function JC(){return!1}function eT(){}let tT=(()=>{class r{}return r.__NG_ELEMENT_ID__=nT,r})();function nT(n){return function rT(n,r,s){if(Ci(n)&&!s){const a=si(n.index,r);return new Lu(a,a)}return 47&n.type?new Lu(r[Qn],r):null}(xt(),ut(),16==(16&n))}class $D{constructor(){}supports(r){return Vh(r)}create(r){return new cT(r)}}const lT=(n,r)=>r;class cT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||lT}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,f=null;for(;s||a;){const y=!a||s&&s.currentIndex<UD(a,c,f)?s:a,b=UD(y,c,f),x=y.currentIndex;if(y===a)c--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{f||(f=[]);const U=b-c,G=x-c;if(U!=G){for(let Ve=0;Ve<U;Ve++){const tt=Ve<f.length?f[Ve]:f[Ve]=0,kt=tt+Ve;G<=kt&&kt<U&&(f[Ve]=tt+1)}f[y.previousIndex]=G-U}}b!==x&&r(y,b,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Vh(r))throw new fe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,f,y,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let b=0;b<this.length;b++)f=r[b],y=this._trackByFn(b,f),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,f,y,b)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,y,b),a=!0),s=s._next}else c=0,function Uh(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,b=>{y=this._trackByFn(c,b),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,b,y,c)),Object.is(s.item,b)||this._addIdentityChange(s,b)):(s=this._mismatch(s,b,y,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,f,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,f,c)):r=this._addAfter(new uT(s,a),f,c),r}_verifyReinsertion(r,s,a,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?r=this._reinsertAfter(f,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,f=r._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new VD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class uT{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class VD{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new dT,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UD(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class jD{constructor(){}supports(r){return r instanceof Map||_p(r)}create(){return new hT}}class hT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||_p(r)))throw new fe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const f=c._prev,y=c._next;return f&&(f._next=y),y&&(y._prev=f),c._next=null,c._prev=null,c}const a=new fT(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class fT{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HD(){return new SI([new $D])}let SI=(()=>{var n;class r{constructor(a){this.factories=a}static create(a,c){if(null!=c){const f=c.factories.slice();a=a.concat(f)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||HD()),deps:[[r,new du,new Sc]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(null!=c)return c;throw new fe(901,!1)}}return(n=r).\u0275prov=Dt({token:n,providedIn:"root",factory:HD}),r})();function zD(){return new AI([new jD])}let AI=(()=>{var n;class r{constructor(a){this.factories=a}static create(a,c){if(c){const f=c.factories.slice();a=a.concat(f)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||zD()),deps:[[r,new du,new Sc]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(c)return c;throw new fe(901,!1)}}return(n=r).\u0275prov=Dt({token:n,providedIn:"root",factory:zD}),r})();const mT=SD(null,"core",[]);let vT=(()=>{var n;class r{constructor(a){}}return(n=r).\u0275fac=function(a){return new(a||n)(sn(Fp))},n.\u0275mod=We({type:n}),n.\u0275inj=mn({}),r})();function AT(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function xT(n,r){const s=Gt(n),a=r.elementInjector||gh();return new Hc(s).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}function RT(n){const r=Gt(n);if(!r)return null;const s=new Hc(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},95:(Wt,Qe,L)=>{"use strict";L.d(Qe,{u5:()=>Wo,JU:()=>je,a5:()=>Vn});var m=L(5879),W=(L(6814),L(2459)),ie=L(5592),Ee=L(7453),_e=L(4829),le=L(9940),Ue=L(8251),Ne=L(7400),me=L(2714),be=L(7398);const je=new m.OlP("NgValueAccessor");function de($){return null!=$}function Me($){return(0,m.QGY)($)?(0,W.D)($):$}function Ge($){let P={};return $.forEach(re=>{P=null!=re?{...P,...re}:P}),0===Object.keys(P).length?null:P}function Xe($,P){return P.map(re=>re($))}function Bt($){return $.map(P=>function qe($){return!$.validate}(P)?P:re=>P.validate(re))}function ct($){return null!=$?function Ct($){if(!$)return null;const P=$.filter(de);return 0==P.length?null:function(re){return Ge(Xe(re,P))}}(Bt($)):null}function Oe($){return null!=$?function ht($){if(!$)return null;const P=$.filter(de);return 0==P.length?null:function(re){return function ee(...$){const P=(0,le.jO)($),{args:re,keys:h}=(0,Ee.D)($),T=new ie.y(_=>{const{length:N}=re;if(!N)return void _.complete();const J=new Array(N);let Et=N,on=N;for(let tn=0;tn<N;tn++){let Fn=!1;(0,_e.Xf)(re[tn]).subscribe((0,Ue.x)(_,sr=>{Fn||(Fn=!0,on--),J[tn]=sr},()=>Et--,void 0,()=>{(!Et||!Fn)&&(on||_.next(h?(0,me.n)(h,J):J),_.complete())}))}});return P?T.pipe((0,Ne.Z)(P)):T}(Xe(re,P).map(Me)).pipe((0,be.U)(Ge))}}(Bt($)):null}class On{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(P){this._rawValidators=P||[],this._composedValidatorFn=ct(this._rawValidators)}_setAsyncValidators(P){this._rawAsyncValidators=P||[],this._composedAsyncValidatorFn=Oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(P){this._onDestroyCallbacks.push(P)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(P=>P()),this._onDestroyCallbacks=[]}reset(P=void 0){this.control&&this.control.reset(P)}hasError(P,re){return!!this.control&&this.control.hasError(P,re)}getError(P,re){return this.control?this.control.getError(P,re):null}}class Vn extends On{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const Mr=new m.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ei}),Ei="always";let $n=(()=>{var $;class P{}return($=P).\u0275fac=function(h){return new(h||$)},$.\u0275mod=m.oAB({type:$}),$.\u0275inj=m.cJS({}),P})(),Js=(()=>{var $;class P{}return($=P).\u0275fac=function(h){return new(h||$)},$.\u0275mod=m.oAB({type:$}),$.\u0275inj=m.cJS({imports:[$n]}),P})(),Wo=(()=>{var $;class P{static withConfig(h){var T;return{ngModule:P,providers:[{provide:Mr,useValue:null!==(T=h.callSetDisabledState)&&void 0!==T?T:Ei}]}}}return($=P).\u0275fac=function(h){return new(h||$)},$.\u0275mod=m.oAB({type:$}),$.\u0275inj=m.cJS({imports:[Js]}),P})()},6593:(Wt,Qe,L)=>{"use strict";L.d(Qe,{Dx:()=>Vn,b2:()=>cn,q6:()=>It});var m=L(5879),v=L(6814);class W extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends W{static makeCurrent(){(0,v.HT)(new ie)}onAndCancel(Y,Ce,X){return Y.addEventListener(Ce,X),()=>{Y.removeEventListener(Ce,X)}}dispatchEvent(Y,Ce){Y.dispatchEvent(Ce)}remove(Y){Y.parentNode&&Y.parentNode.removeChild(Y)}createElement(Y,Ce){return(Ce=Ce||this.getDefaultDocument()).createElement(Y)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Y){return Y.nodeType===Node.ELEMENT_NODE}isShadowRoot(Y){return Y instanceof DocumentFragment}getGlobalEventTarget(Y,Ce){return"window"===Ce?window:"document"===Ce?Y:"body"===Ce?Y.body:null}getBaseHref(Y){const Ce=function _e(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==Ce?null:function Ue(Z){le=le||document.createElement("a"),le.setAttribute("href",Z);const Y=le.pathname;return"/"===Y.charAt(0)?Y:`/${Y}`}(Ce)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(Y){return(0,v.Mx)(document.cookie,Y)}}let le,Ee=null,me=(()=>{var Z;class Y{build(){return new XMLHttpRequest}}return(Z=Y).\u0275fac=function(X){return new(X||Z)},Z.\u0275prov=m.Yz7({token:Z,factory:Z.\u0275fac}),Y})();const ee=new m.OlP("EventManagerPlugins");let be=(()=>{var Z;class Y{constructor(X,ze){this._zone=ze,this._eventNameToPlugin=new Map,X.forEach(yt=>{yt.manager=this}),this._plugins=X.slice().reverse()}addEventListener(X,ze,yt){return this._findPluginFor(ze).addEventListener(X,ze,yt)}getZone(){return this._zone}_findPluginFor(X){let ze=this._eventNameToPlugin.get(X);if(ze)return ze;if(ze=this._plugins.find(Lt=>Lt.supports(X)),!ze)throw new m.vHH(5101,!1);return this._eventNameToPlugin.set(X,ze),ze}}return(Z=Y).\u0275fac=function(X){return new(X||Z)(m.LFG(ee),m.LFG(m.R0b))},Z.\u0275prov=m.Yz7({token:Z,factory:Z.\u0275fac}),Y})();class ue{constructor(Y){this._doc=Y}}const Te="ng-app-id";let je=(()=>{var Z;class Y{constructor(X,ze,yt,Lt={}){this.doc=X,this.appId=ze,this.nonce=yt,this.platformId=Lt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,v.PM)(Lt),this.resetHostNodes()}addStyles(X){for(const ze of X)1===this.changeUsageCount(ze,1)&&this.onStyleAdded(ze)}removeStyles(X){for(const ze of X)this.changeUsageCount(ze,-1)<=0&&this.onStyleRemoved(ze)}ngOnDestroy(){const X=this.styleNodesInDOM;X&&(X.forEach(ze=>ze.remove()),X.clear());for(const ze of this.getAllStyles())this.onStyleRemoved(ze);this.resetHostNodes()}addHost(X){this.hostNodes.add(X);for(const ze of this.getAllStyles())this.addStyleToHost(X,ze)}removeHost(X){this.hostNodes.delete(X)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(X){for(const ze of this.hostNodes)this.addStyleToHost(ze,X)}onStyleRemoved(X){var ze;const yt=this.styleRef;null===(ze=yt.get(X))||void 0===ze||null===(ze=ze.elements)||void 0===ze||ze.forEach(Lt=>Lt.remove()),yt.delete(X)}collectServerRenderedStyles(){var X;const ze=null===(X=this.doc.head)||void 0===X?void 0:X.querySelectorAll(`style[${Te}="${this.appId}"]`);if(null!=ze&&ze.length){const yt=new Map;return ze.forEach(Lt=>{null!=Lt.textContent&&yt.set(Lt.textContent,Lt)}),yt}return null}changeUsageCount(X,ze){const yt=this.styleRef;if(yt.has(X)){const Lt=yt.get(X);return Lt.usage+=ze,Lt.usage}return yt.set(X,{usage:ze,elements:[]}),ze}getStyleElement(X,ze){const yt=this.styleNodesInDOM,Lt=null==yt?void 0:yt.get(ze);if((null==Lt?void 0:Lt.parentNode)===X)return yt.delete(ze),Lt.removeAttribute(Te),Lt;{const sn=this.doc.createElement("style");return this.nonce&&sn.setAttribute("nonce",this.nonce),sn.textContent=ze,this.platformIsServer&&sn.setAttribute(Te,this.appId),sn}}addStyleToHost(X,ze){var yt;const Lt=this.getStyleElement(X,ze);X.appendChild(Lt);const sn=this.styleRef,hn=null===(yt=sn.get(ze))||void 0===yt?void 0:yt.elements;hn?hn.push(Lt):sn.set(ze,{elements:[Lt],usage:1})}resetHostNodes(){const X=this.hostNodes;X.clear(),X.add(this.doc.head)}}return(Z=Y).\u0275fac=function(X){return new(X||Z)(m.LFG(v.K0),m.LFG(m.AFp),m.LFG(m.Ojb,8),m.LFG(m.Lbi))},Z.\u0275prov=m.Yz7({token:Z,factory:Z.\u0275fac}),Y})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},we=/%COMP%/g,fe=new m.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ve(Z,Y){return Y.map(Ce=>Ce.replace(we,Z))}let De=(()=>{var Z;class Y{constructor(X,ze,yt,Lt,sn,hn,en,Sn=null){this.eventManager=X,this.sharedStylesHost=ze,this.appId=yt,this.removeStylesOnCompDestroy=Lt,this.doc=sn,this.platformId=hn,this.ngZone=en,this.nonce=Sn,this.rendererByCompId=new Map,this.platformIsServer=(0,v.PM)(hn),this.defaultRenderer=new ke(X,sn,en,this.platformIsServer)}createRenderer(X,ze){if(!X||!ze)return this.defaultRenderer;this.platformIsServer&&ze.encapsulation===m.ifc.ShadowDom&&(ze={...ze,encapsulation:m.ifc.Emulated});const yt=this.getOrCreateRenderer(X,ze);return yt instanceof xn?yt.applyToHost(X):yt instanceof Ht&&yt.applyStyles(),yt}getOrCreateRenderer(X,ze){const yt=this.rendererByCompId;let Lt=yt.get(ze.id);if(!Lt){const sn=this.doc,hn=this.ngZone,en=this.eventManager,Sn=this.sharedStylesHost,vr=this.removeStylesOnCompDestroy,Mr=this.platformIsServer;switch(ze.encapsulation){case m.ifc.Emulated:Lt=new xn(en,Sn,ze,this.appId,vr,sn,hn,Mr);break;case m.ifc.ShadowDom:return new pt(en,Sn,X,ze,sn,hn,this.nonce,Mr);default:Lt=new Ht(en,Sn,ze,vr,sn,hn,Mr)}yt.set(ze.id,Lt)}return Lt}ngOnDestroy(){this.rendererByCompId.clear()}}return(Z=Y).\u0275fac=function(X){return new(X||Z)(m.LFG(be),m.LFG(je),m.LFG(m.AFp),m.LFG(fe),m.LFG(v.K0),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(m.Ojb))},Z.\u0275prov=m.Yz7({token:Z,factory:Z.\u0275fac}),Y})();class ke{constructor(Y,Ce,X,ze){this.eventManager=Y,this.doc=Ce,this.ngZone=X,this.platformIsServer=ze,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Y,Ce){return Ce?this.doc.createElementNS(ot[Ce]||Ce,Y):this.doc.createElement(Y)}createComment(Y){return this.doc.createComment(Y)}createText(Y){return this.doc.createTextNode(Y)}appendChild(Y,Ce){(st(Y)?Y.content:Y).appendChild(Ce)}insertBefore(Y,Ce,X){Y&&(st(Y)?Y.content:Y).insertBefore(Ce,X)}removeChild(Y,Ce){Y&&Y.removeChild(Ce)}selectRootElement(Y,Ce){let X="string"==typeof Y?this.doc.querySelector(Y):Y;if(!X)throw new m.vHH(-5104,!1);return Ce||(X.textContent=""),X}parentNode(Y){return Y.parentNode}nextSibling(Y){return Y.nextSibling}setAttribute(Y,Ce,X,ze){if(ze){Ce=ze+":"+Ce;const yt=ot[ze];yt?Y.setAttributeNS(yt,Ce,X):Y.setAttribute(Ce,X)}else Y.setAttribute(Ce,X)}removeAttribute(Y,Ce,X){if(X){const ze=ot[X];ze?Y.removeAttributeNS(ze,Ce):Y.removeAttribute(`${X}:${Ce}`)}else Y.removeAttribute(Ce)}addClass(Y,Ce){Y.classList.add(Ce)}removeClass(Y,Ce){Y.classList.remove(Ce)}setStyle(Y,Ce,X,ze){ze&(m.JOm.DashCase|m.JOm.Important)?Y.style.setProperty(Ce,X,ze&m.JOm.Important?"important":""):Y.style[Ce]=X}removeStyle(Y,Ce,X){X&m.JOm.DashCase?Y.style.removeProperty(Ce):Y.style[Ce]=""}setProperty(Y,Ce,X){Y[Ce]=X}setValue(Y,Ce){Y.nodeValue=Ce}listen(Y,Ce,X){if("string"==typeof Y&&!(Y=(0,v.q)().getGlobalEventTarget(this.doc,Y)))throw new Error(`Unsupported event target ${Y} for event ${Ce}`);return this.eventManager.addEventListener(Y,Ce,this.decoratePreventDefault(X))}decoratePreventDefault(Y){return Ce=>{if("__ngUnwrap__"===Ce)return Y;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Y(Ce)):Y(Ce))&&Ce.preventDefault()}}}function st(Z){return"TEMPLATE"===Z.tagName&&void 0!==Z.content}class pt extends ke{constructor(Y,Ce,X,ze,yt,Lt,sn,hn){super(Y,yt,Lt,hn),this.sharedStylesHost=Ce,this.hostEl=X,this.shadowRoot=X.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const en=ve(ze.id,ze.styles);for(const Sn of en){const vr=document.createElement("style");sn&&vr.setAttribute("nonce",sn),vr.textContent=Sn,this.shadowRoot.appendChild(vr)}}nodeOrShadowRoot(Y){return Y===this.hostEl?this.shadowRoot:Y}appendChild(Y,Ce){return super.appendChild(this.nodeOrShadowRoot(Y),Ce)}insertBefore(Y,Ce,X){return super.insertBefore(this.nodeOrShadowRoot(Y),Ce,X)}removeChild(Y,Ce){return super.removeChild(this.nodeOrShadowRoot(Y),Ce)}parentNode(Y){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Y)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ht extends ke{constructor(Y,Ce,X,ze,yt,Lt,sn,hn){super(Y,yt,Lt,sn),this.sharedStylesHost=Ce,this.removeStylesOnCompDestroy=ze,this.styles=hn?ve(hn,X.styles):X.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xn extends Ht{constructor(Y,Ce,X,ze,yt,Lt,sn,hn){const en=ze+"-"+X.id;super(Y,Ce,X,yt,Lt,sn,hn,en),this.contentAttr=function Ae(Z){return"_ngcontent-%COMP%".replace(we,Z)}(en),this.hostAttr=function Be(Z){return"_nghost-%COMP%".replace(we,Z)}(en)}applyToHost(Y){this.applyStyles(),this.setAttribute(Y,this.hostAttr,"")}createElement(Y,Ce){const X=super.createElement(Y,Ce);return super.setAttribute(X,this.contentAttr,""),X}}let qt=(()=>{var Z;class Y extends ue{constructor(X){super(X)}supports(X){return!0}addEventListener(X,ze,yt){return X.addEventListener(ze,yt,!1),()=>this.removeEventListener(X,ze,yt)}removeEventListener(X,ze,yt){return X.removeEventListener(ze,yt)}}return(Z=Y).\u0275fac=function(X){return new(X||Z)(m.LFG(v.K0))},Z.\u0275prov=m.Yz7({token:Z,factory:Z.\u0275fac}),Y})();const lt=["alt","control","meta","shift"],se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},de={alt:Z=>Z.altKey,control:Z=>Z.ctrlKey,meta:Z=>Z.metaKey,shift:Z=>Z.shiftKey};let Me=(()=>{var Z;class Y extends ue{constructor(X){super(X)}supports(X){return null!=Y.parseEventName(X)}addEventListener(X,ze,yt){const Lt=Y.parseEventName(ze),sn=Y.eventCallback(Lt.fullKey,yt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(X,Lt.domEventName,sn))}static parseEventName(X){const ze=X.toLowerCase().split("."),yt=ze.shift();if(0===ze.length||"keydown"!==yt&&"keyup"!==yt)return null;const Lt=Y._normalizeKey(ze.pop());let sn="",hn=ze.indexOf("code");if(hn>-1&&(ze.splice(hn,1),sn="code."),lt.forEach(Sn=>{const vr=ze.indexOf(Sn);vr>-1&&(ze.splice(vr,1),sn+=Sn+".")}),sn+=Lt,0!=ze.length||0===Lt.length)return null;const en={};return en.domEventName=yt,en.fullKey=sn,en}static matchEventFullKeyCode(X,ze){let yt=se[X.key]||X.key,Lt="";return ze.indexOf("code.")>-1&&(yt=X.code,Lt="code."),!(null==yt||!yt)&&(yt=yt.toLowerCase()," "===yt?yt="space":"."===yt&&(yt="dot"),lt.forEach(sn=>{sn!==yt&&(0,de[sn])(X)&&(Lt+=sn+".")}),Lt+=yt,Lt===ze)}static eventCallback(X,ze,yt){return Lt=>{Y.matchEventFullKeyCode(Lt,X)&&yt.runGuarded(()=>ze(Lt))}}static _normalizeKey(X){return"esc"===X?"escape":X}}return(Z=Y).\u0275fac=function(X){return new(X||Z)(m.LFG(v.K0))},Z.\u0275prov=m.Yz7({token:Z,factory:Z.\u0275fac}),Y})();const It=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:v.bD},{provide:m.g9A,useValue:function Ct(){ie.makeCurrent()},multi:!0},{provide:v.K0,useFactory:function ht(){return(0,m.RDi)(document),document},deps:[]}]),Dt=new m.OlP(""),$t=[{provide:m.rWj,useClass:class Ne{addToWindow(Y){m.dqk.getAngularTestability=(X,ze=!0)=>{const yt=Y.findTestabilityInTree(X,ze);if(null==yt)throw new m.vHH(5103,!1);return yt},m.dqk.getAllAngularTestabilities=()=>Y.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>Y.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(X=>{const ze=m.dqk.getAllAngularTestabilities();let yt=ze.length,Lt=!1;const sn=function(hn){Lt=Lt||hn,yt--,0==yt&&X(Lt)};ze.forEach(hn=>{hn.whenStable(sn)})})}findTestabilityInTree(Y,Ce,X){if(null==Ce)return null;const ze=Y.getTestability(Ce);return null!=ze?ze:X?(0,v.q)().isShadowRoot(Ce)?this.findTestabilityInTree(Y,Ce.host,!0):this.findTestabilityInTree(Y,Ce.parentElement,!0):null}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],mn=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function ct(){return new m.qLn},deps:[]},{provide:ee,useClass:qt,multi:!0,deps:[v.K0,m.R0b,m.Lbi]},{provide:ee,useClass:Me,multi:!0,deps:[v.K0]},De,je,be,{provide:m.FYo,useExisting:De},{provide:v.JF,useClass:me,deps:[]},[]];let cn=(()=>{var Z;class Y{constructor(X){}static withServerTransition(X){return{ngModule:Y,providers:[{provide:m.AFp,useValue:X.appId}]}}}return(Z=Y).\u0275fac=function(X){return new(X||Z)(m.LFG(Dt,12))},Z.\u0275mod=m.oAB({type:Z}),Z.\u0275inj=m.cJS({providers:[...mn,...$t],imports:[v.ez,m.hGG]}),Y})(),Vn=(()=>{var Z;class Y{constructor(X){this._doc=X}getTitle(){return this._doc.title}setTitle(X){this._doc.title=X||""}}return(Z=Y).\u0275fac=function(X){return new(X||Z)(m.LFG(v.K0))},Z.\u0275prov=m.Yz7({token:Z,factory:function(X){let ze=null;return ze=X?new X:function Dn(){return new Vn((0,m.LFG)(v.K0))}(),ze},providedIn:"root"}),Y})();typeof window<"u"&&window},5574:(Wt,Qe,L)=>{"use strict";L.d(Qe,{gz:()=>$n,y6:()=>yr,OD:()=>$i,eC:()=>Ct,wm:()=>Ra,wN:()=>zt,F0:()=>Ki,rH:()=>fs,Bz:()=>wo,Hx:()=>Mt});var m=L(5879),v=L(5592),W=L(4674),Ee=L(2459),_e=L(2096),le=L(5619),Ue=L(2572),Ne=L(6973),me=L(5211),ee=L(4829);function be(w){return new v.y(A=>{(0,ee.Xf)(w()).subscribe(A)})}var ue=L(8407);function Te(w,A){const O=(0,W.m)(w)?w:()=>w,D=k=>k.error(O());return new v.y(A?k=>A.schedule(D,0,k):D)}var je=L(6232),ot=L(7394),we=L(9360),Ie=L(8251);function ce(){return(0,we.e)((w,A)=>{let O=null;w._refCount++;const D=(0,Ie.x)(A,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(O=null);const k=w._connection,Q=O;O=null,k&&(!Q||k===Q)&&k.unsubscribe(),A.unsubscribe()});w.subscribe(D),D.closed||(O=w.connect())})}class ft extends v.y{constructor(A,O){super(),this.source=A,this.subjectFactory=O,this._subject=null,this._refCount=0,this._connection=null,(0,we.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,null==A||A.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new ot.w0;const O=this.getSubject();A.add(this.source.subscribe((0,Ie.x)(O,void 0,()=>{this._teardown(),O.complete()},D=>{this._teardown(),O.error(D)},()=>this._teardown()))),A.closed&&(this._connection=null,A=ot.w0.EMPTY)}return A}refCount(){return ce()(this)}}var Ze=L(8645),fe=L(6814),Ae=L(7398),Be=L(4664),ve=L(8180),De=L(7921),ke=L(2181),$e=L(1631),it=L(1374),st=L(6328),pt=L(9397);function Ht(w){return(0,we.e)((A,O)=>{let Q,D=null,k=!1;D=A.subscribe((0,Ie.x)(O,void 0,void 0,pe=>{Q=(0,ee.Xf)(w(pe,Ht(w)(A))),D?(D.unsubscribe(),D=null,Q.subscribe(O)):k=!0})),k&&(D.unsubscribe(),D=null,Q.subscribe(O))})}var xn=L(6699),qt=L(3572);function lt(w){return w<=0?()=>je.E:(0,we.e)((A,O)=>{let D=[];A.subscribe((0,Ie.x)(O,k=>{D.push(k),w<D.length&&D.shift()},()=>{for(const k of D)O.next(k);O.complete()},void 0,()=>{D=null}))})}var se=L(3026),de=L(2737);function Xe(w){return(0,we.e)((A,O)=>{try{A.subscribe(O)}finally{O.add(w)}})}var qe=L(7537),Bt=L(6593);const Ct="primary",ct=Symbol("RouteTitle");class ht{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const O=this.params[A];return Array.isArray(O)?O[0]:O}return null}getAll(A){if(this.has(A)){const O=this.params[A];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function Oe(w){return new ht(w)}function It(w,A,O){const D=O.path.split("/");if(D.length>w.length||"full"===O.pathMatch&&(A.hasChildren()||D.length<w.length))return null;const k={};for(let Q=0;Q<D.length;Q++){const pe=D[Q],xe=w[Q];if(pe.startsWith(":"))k[pe.substring(1)]=xe;else if(pe!==xe.path)return null}return{consumed:w.slice(0,D.length),posParams:k}}function $t(w,A){const O=w?Object.keys(w):void 0,D=A?Object.keys(A):void 0;if(!O||!D||O.length!=D.length)return!1;let k;for(let Q=0;Q<O.length;Q++)if(k=O[Q],!mn(w[k],A[k]))return!1;return!0}function mn(w,A){if(Array.isArray(w)&&Array.isArray(A)){if(w.length!==A.length)return!1;const O=[...w].sort(),D=[...A].sort();return O.every((k,Q)=>D[Q]===k)}return w===A}function cn(w){return w.length>0?w[w.length-1]:null}function En(w){return function ie(w){return!!w&&(w instanceof v.y||(0,W.m)(w.lift)&&(0,W.m)(w.subscribe))}(w)?w:(0,m.QGY)(w)?(0,Ee.D)(Promise.resolve(w)):(0,_e.of)(w)}const Pn={exact:function Br(w,A,O){if(!Xt(w.segments,A.segments)||!Rn(w.segments,A.segments,O)||w.numberOfChildren!==A.numberOfChildren)return!1;for(const D in A.children)if(!w.children[D]||!Br(w.children[D],A.children[D],O))return!1;return!0},subset:Ir},On={exact:function Vn(w,A){return $t(w,A)},subset:function hr(w,A){return Object.keys(A).length<=Object.keys(w).length&&Object.keys(A).every(O=>mn(w[O],A[O]))},ignored:()=>!0};function Dn(w,A,O){return Pn[O.paths](w.root,A.root,O.matrixParams)&&On[O.queryParams](w.queryParams,A.queryParams)&&!("exact"===O.fragment&&w.fragment!==A.fragment)}function Ir(w,A,O){return rn(w,A,A.segments,O)}function rn(w,A,O,D){if(w.segments.length>O.length){const k=w.segments.slice(0,O.length);return!(!Xt(k,O)||A.hasChildren()||!Rn(k,O,D))}if(w.segments.length===O.length){if(!Xt(w.segments,O)||!Rn(w.segments,O,D))return!1;for(const k in A.children)if(!w.children[k]||!Ir(w.children[k],A.children[k],D))return!1;return!0}{const k=O.slice(0,w.segments.length),Q=O.slice(w.segments.length);return!!(Xt(w.segments,k)&&Rn(w.segments,k,D)&&w.children[Ct])&&rn(w.children[Ct],A,Q,D)}}function Rn(w,A,O){return A.every((D,k)=>On[O](w[k].parameters,D.parameters))}class or{constructor(A=new un([],{}),O={},D=null){this.root=A,this.queryParams=O,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oe(this.queryParams)),this._queryParamMap}toString(){return zn.serialize(this)}}class un{constructor(A,O){this.segments=A,this.children=O,this.parent=null,Object.values(O).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ai(this)}}class Sr{constructor(A,O){this.path=A,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=Oe(this.parameters)),this._parameterMap}toString(){return Hr(this)}}function Xt(w,A){return w.length===A.length&&w.every((O,D)=>O.path===A[D].path)}let Mt=(()=>{var w;class A{}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275prov=m.Yz7({token:w,factory:function(){return new jr},providedIn:"root"}),A})();class jr{parse(A){const O=new Lt(A);return new or(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(A){const O=`/${ri(A.root,!0)}`,D=function Cr(w){const A=Object.keys(w).map(O=>{const D=w[O];return Array.isArray(D)?D.map(k=>`${Lr(O)}=${Lr(k)}`).join("&"):`${Lr(O)}=${Lr(D)}`}).filter(O=>!!O);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${O}${D}${"string"==typeof A.fragment?`#${function Ii(w){return encodeURI(w)}(A.fragment)}`:""}`}}const zn=new jr;function ai(w){return w.segments.map(A=>Hr(A)).join("/")}function ri(w,A){if(!w.hasChildren())return ai(w);if(A){const O=w.children[Ct]?ri(w.children[Ct],!1):"",D=[];return Object.entries(w.children).forEach(([k,Q])=>{k!==Ct&&D.push(`${k}:${ri(Q,!1)}`)}),D.length>0?`${O}(${D.join("//")})`:O}{const O=function Ur(w,A){let O=[];return Object.entries(w.children).forEach(([D,k])=>{D===Ct&&(O=O.concat(A(k,D)))}),Object.entries(w.children).forEach(([D,k])=>{D!==Ct&&(O=O.concat(A(k,D)))}),O}(w,(D,k)=>k===Ct?[ri(w.children[Ct],!1)]:[`${k}:${ri(D,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Ct]?`${ai(w)}/${O[0]}`:`${ai(w)}/(${O.join("//")})`}}function _i(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lr(w){return _i(w).replace(/%3B/gi,";")}function qr(w){return _i(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kr(w){return decodeURIComponent(w)}function Ar(w){return kr(w.replace(/\+/g,"%20"))}function Hr(w){return`${qr(w.path)}${function fr(w){return Object.keys(w).map(A=>`;${qr(A)}=${qr(w[A])}`).join("")}(w.parameters)}`}const nr=/^[^\/()?;#]+/;function Pe(w){const A=w.match(nr);return A?A[0]:""}const Z=/^[^\/()?;=#]+/,Ce=/^[^=?&#]+/,ze=/^[^&#]+/;class Lt{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(A.length>0||Object.keys(O).length>0)&&(D[Ct]=new un(A,O)),D}parseSegment(){const A=Pe(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(A),new Sr(kr(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const O=function Y(w){const A=w.match(Z);return A?A[0]:""}(this.remaining);if(!O)return;this.capture(O);let D="";if(this.consumeOptional("=")){const k=Pe(this.remaining);k&&(D=k,this.capture(D))}A[kr(O)]=kr(D)}parseQueryParam(A){const O=function X(w){const A=w.match(Ce);return A?A[0]:""}(this.remaining);if(!O)return;this.capture(O);let D="";if(this.consumeOptional("=")){const pe=function yt(w){const A=w.match(ze);return A?A[0]:""}(this.remaining);pe&&(D=pe,this.capture(D))}const k=Ar(O),Q=Ar(D);if(A.hasOwnProperty(k)){let pe=A[k];Array.isArray(pe)||(pe=[pe],A[k]=pe),pe.push(Q)}else A[k]=Q}parseParens(A){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=Pe(this.remaining),k=this.remaining[D.length];if("/"!==k&&")"!==k&&";"!==k)throw new m.vHH(4010,!1);let Q;D.indexOf(":")>-1?(Q=D.slice(0,D.indexOf(":")),this.capture(Q),this.capture(":")):A&&(Q=Ct);const pe=this.parseChildren();O[Q]=1===Object.keys(pe).length?pe[Ct]:new un([],pe),this.consumeOptional("//")}return O}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new m.vHH(4011,!1)}}function sn(w){return w.segments.length>0?new un([],{[Ct]:w}):w}function hn(w){const A={};for(const D of Object.keys(w.children)){const Q=hn(w.children[D]);if(D===Ct&&0===Q.segments.length&&Q.hasChildren())for(const[pe,xe]of Object.entries(Q.children))A[pe]=xe;else(Q.segments.length>0||Q.hasChildren())&&(A[D]=Q)}return function en(w){if(1===w.numberOfChildren&&w.children[Ct]){const A=w.children[Ct];return new un(w.segments.concat(A.segments),A.children)}return w}(new un(w.segments,A))}function Sn(w){return w instanceof or}function Mr(w){var A;let O;const Q=sn(function D(pe){const xe={};for(const Rt of pe.children){const Nn=D(Rt);xe[Rt.outlet]=Nn}const St=new un(pe.url,xe);return pe===w&&(O=St),St}(w.root));return null!==(A=O)&&void 0!==A?A:Q}function Ei(w,A,O,D){let k=w;for(;k.parent;)k=k.parent;if(0===A.length)return rt(k,k,k,O,D);const Q=function fn(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new pn(!0,0,w);let A=0,O=!1;const D=w.reduce((k,Q,pe)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const xe={};return Object.entries(Q.outlets).forEach(([St,Rt])=>{xe[St]="string"==typeof Rt?Rt.split("/"):Rt}),[...k,{outlets:xe}]}if(Q.segmentPath)return[...k,Q.segmentPath]}return"string"!=typeof Q?[...k,Q]:0===pe?(Q.split("/").forEach((xe,St)=>{0==St&&"."===xe||(0==St&&""===xe?O=!0:".."===xe?A++:""!=xe&&k.push(xe))}),k):[...k,Q]},[]);return new pn(O,A,D)}(A);if(Q.toRoot())return rt(k,k,new un([],{}),O,D);const pe=function Yn(w,A,O){if(w.isAbsolute)return new Qt(A,!0,0);if(!O)return new Qt(A,!1,NaN);if(null===O.parent)return new Qt(O,!0,0);const D=Qr(w.commands[0])?0:1;return function Dr(w,A,O){let D=w,k=A,Q=O;for(;Q>k;){if(Q-=k,D=D.parent,!D)throw new m.vHH(4005,!1);k=D.segments.length}return new Qt(D,!1,k-Q)}(O,O.segments.length-1+D,w.numberOfDoubleDots)}(Q,k,w),xe=pe.processChildren?Zn(pe.segmentGroup,pe.index,Q.commands):ur(pe.segmentGroup,pe.index,Q.commands);return rt(k,pe.segmentGroup,xe,O,D)}function Qr(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function gt(w){return"object"==typeof w&&null!=w&&w.outlets}function rt(w,A,O,D,k){let pe,Q={};D&&Object.entries(D).forEach(([St,Rt])=>{Q[St]=Array.isArray(Rt)?Rt.map(Nn=>`${Nn}`):`${Rt}`}),pe=w===A?O:Ft(w,A,O);const xe=sn(hn(pe));return new or(xe,Q,k)}function Ft(w,A,O){const D={};return Object.entries(w.children).forEach(([k,Q])=>{D[k]=Q===A?O:Ft(Q,A,O)}),new un(w.segments,D)}class pn{constructor(A,O,D){if(this.isAbsolute=A,this.numberOfDoubleDots=O,this.commands=D,A&&D.length>0&&Qr(D[0]))throw new m.vHH(4003,!1);const k=D.find(gt);if(k&&k!==cn(D))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qt{constructor(A,O,D){this.segmentGroup=A,this.processChildren=O,this.index=D}}function ur(w,A,O){if(w||(w=new un([],{})),0===w.segments.length&&w.hasChildren())return Zn(w,A,O);const D=function Xn(w,A,O){let D=0,k=A;const Q={match:!1,pathIndex:0,commandIndex:0};for(;k<w.segments.length;){if(D>=O.length)return Q;const pe=w.segments[k],xe=O[D];if(gt(xe))break;const St=`${xe}`,Rt=D<O.length-1?O[D+1]:null;if(k>0&&void 0===St)break;if(St&&Rt&&"object"==typeof Rt&&void 0===Rt.outlets){if(!li(St,Rt,pe))return Q;D+=2}else{if(!li(St,{},pe))return Q;D++}k++}return{match:!0,pathIndex:k,commandIndex:D}}(w,A,O),k=O.slice(D.commandIndex);if(D.match&&D.pathIndex<w.segments.length){const Q=new un(w.segments.slice(0,D.pathIndex),{});return Q.children[Ct]=new un(w.segments.slice(D.pathIndex),w.children),Zn(Q,0,k)}return D.match&&0===k.length?new un(w.segments,{}):D.match&&!w.hasChildren()?_o(w,A,O):D.match?Zn(w,0,k):_o(w,A,O)}function Zn(w,A,O){if(0===O.length)return new un(w.segments,{});{const D=function Tr(w){return gt(w[0])?w[0].outlets:{[Ct]:w}}(O),k={};if(!D[Ct]&&w.children[Ct]&&1===w.numberOfChildren&&0===w.children[Ct].segments.length){const Q=Zn(w.children[Ct],A,O);return new un(w.segments,Q.children)}return Object.entries(D).forEach(([Q,pe])=>{"string"==typeof pe&&(pe=[pe]),null!==pe&&(k[Q]=ur(w.children[Q],A,pe))}),Object.entries(w.children).forEach(([Q,pe])=>{void 0===D[Q]&&(k[Q]=pe)}),new un(w.segments,k)}}function _o(w,A,O){const D=w.segments.slice(0,A);let k=0;for(;k<O.length;){const Q=O[k];if(gt(Q)){const St=xo(Q.outlets);return new un(D,St)}if(0===k&&Qr(O[0])){D.push(new Sr(w.segments[A].path,Ri(O[0]))),k++;continue}const pe=gt(Q)?Q.outlets[Ct]:`${Q}`,xe=k<O.length-1?O[k+1]:null;pe&&xe&&Qr(xe)?(D.push(new Sr(pe,Ri(xe))),k+=2):(D.push(new Sr(pe,{})),k++)}return new un(D,{})}function xo(w){const A={};return Object.entries(w).forEach(([O,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(A[O]=_o(new un([],{}),0,D))}),A}function Ri(w){const A={};return Object.entries(w).forEach(([O,D])=>A[O]=`${D}`),A}function li(w,A,O){return w==O.path&&$t(A,O.parameters)}const Oi="imperative";class zr{constructor(A,O){this.id=A,this.url=O}}class $i extends zr{constructor(A,O,D="imperative",k=null){super(A,O),this.type=0,this.navigationTrigger=D,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pr extends zr{constructor(A,O,D){super(A,O),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wi extends zr{constructor(A,O,D,k){super(A,O),this.reason=D,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pi extends zr{constructor(A,O,D,k){super(A,O),this.reason=D,this.code=k,this.type=16}}class Ro extends zr{constructor(A,O,D,k){super(A,O),this.error=D,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class io extends zr{constructor(A,O,D,k){super(A,O),this.urlAfterRedirects=D,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K extends zr{constructor(A,O,D,k){super(A,O),this.urlAfterRedirects=D,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class he extends zr{constructor(A,O,D,k,Q){super(A,O),this.urlAfterRedirects=D,this.state=k,this.shouldActivate=Q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ne extends zr{constructor(A,O,D,k){super(A,O),this.urlAfterRedirects=D,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se extends zr{constructor(A,O,D,k){super(A,O),this.urlAfterRedirects=D,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ye{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Je{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mt{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class At{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pt{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nt{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vn{constructor(A,O,D){this.routerEvent=A,this.position=O,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new yr,this.attachRef=null}}let yr=(()=>{var w;class A{constructor(){this.contexts=new Map}onChildOutletCreated(D,k){const Q=this.getOrCreateContext(D);Q.outlet=k,this.contexts.set(D,Q)}onChildOutletDestroyed(D){const k=this.getContext(D);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let k=this.getContext(D);return k||(k=new Kn,this.contexts.set(D,k)),k}getContext(D){return this.contexts.get(D)||null}}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();class gi{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const O=this.pathFromRoot(A);return O.length>1?O[O.length-2]:null}children(A){const O=We(A,this._root);return O?O.children.map(D=>D.value):[]}firstChild(A){const O=We(A,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(A){const O=He(A,this._root);return O.length<2?[]:O[O.length-2].children.map(k=>k.value).filter(k=>k!==A)}pathFromRoot(A){return He(A,this._root).map(O=>O.value)}}function We(w,A){if(w===A.value)return A;for(const O of A.children){const D=We(w,O);if(D)return D}return null}function He(w,A){if(w===A.value)return[A];for(const O of A.children){const D=He(w,O);if(D.length)return D.unshift(A),D}return[]}class et{constructor(A,O){this.value=A,this.children=O}toString(){return`TreeNode(${this.value})`}}function Tt(w){const A={};return w&&w.children.forEach(O=>A[O.value.outlet]=O),A}class Ut extends gi{constructor(A,O){super(A),this.snapshot=O,oo(this,A)}toString(){return this.snapshot.toString()}}function Gt(w,A){const O=function Wn(w,A){const pe=new jo([],{},{},"",{},Ct,A,null,{});return new bi("",new et(pe,[]))}(0,A),D=new le.X([new Sr("",{})]),k=new le.X({}),Q=new le.X({}),pe=new le.X({}),xe=new le.X(""),St=new $n(D,k,pe,xe,Q,Ct,A,O.root);return St.snapshot=O.root,new Ut(new et(St,[]),O)}class $n{constructor(A,O,D,k,Q,pe,xe,St){var Rt,Nn;this.urlSubject=A,this.paramsSubject=O,this.queryParamsSubject=D,this.fragmentSubject=k,this.dataSubject=Q,this.outlet=pe,this.component=xe,this._futureSnapshot=St,this.title=null!==(Rt=null===(Nn=this.dataSubject)||void 0===Nn?void 0:Nn.pipe((0,Ae.U)(An=>An[ct])))&&void 0!==Rt?Rt:(0,_e.of)(void 0),this.url=A,this.params=O,this.queryParams=D,this.fragment=k,this.data=Q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ae.U)(A=>Oe(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ae.U)(A=>Oe(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rr(w,A="emptyOnly"){const O=w.pathFromRoot;let D=0;if("always"!==A)for(D=O.length-1;D>=1;){const k=O[D],Q=O[D-1];if(k.routeConfig&&""===k.routeConfig.path)D--;else{if(Q.component)break;D--}}return function Yr(w){return w.reduce((A,O)=>{var D;return{params:{...A.params,...O.params},data:{...A.data,...O.data},resolve:{...O.data,...A.resolve,...null===(D=O.routeConfig)||void 0===D?void 0:D.data,...O._resolvedData}}},{params:{},data:{},resolve:{}})}(O.slice(D))}class jo{get title(){var A;return null===(A=this.data)||void 0===A?void 0:A[ct]}constructor(A,O,D,k,Q,pe,xe,St,Rt){this.url=A,this.params=O,this.queryParams=D,this.fragment=k,this.data=Q,this.outlet=pe,this.component=xe,this.routeConfig=St,this._resolve=Rt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bi extends gi{constructor(A,O){super(O),this.url=A,oo(this,O)}toString(){return so(this._root)}}function oo(w,A){A.value._routerState=w,A.children.forEach(O=>oo(w,O))}function so(w){const A=w.children.length>0?` { ${w.children.map(so).join(", ")} } `:"";return`${w.value}${A}`}function Oo(w){if(w.snapshot){const A=w.snapshot,O=w._futureSnapshot;w.snapshot=O,$t(A.queryParams,O.queryParams)||w.queryParamsSubject.next(O.queryParams),A.fragment!==O.fragment&&w.fragmentSubject.next(O.fragment),$t(A.params,O.params)||w.paramsSubject.next(O.params),function Dt(w,A){if(w.length!==A.length)return!1;for(let O=0;O<w.length;++O)if(!$t(w[O],A[O]))return!1;return!0}(A.url,O.url)||w.urlSubject.next(O.url),$t(A.data,O.data)||w.dataSubject.next(O.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function Fr(w,A){const O=$t(w.params,A.params)&&function Er(w,A){return Xt(w,A)&&w.every((O,D)=>$t(O.parameters,A[D].parameters))}(w.url,A.url);return O&&!(!w.parent!=!A.parent)&&(!w.parent||Fr(w.parent,A.parent))}let Yt=(()=>{var w;class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ct,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(yr),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb),this.inputBinder=(0,m.f3M)(ir,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:k,previousValue:Q}=D.name;if(k)return;this.isTrackedInParentContexts(Q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Q)),this.initializeOutletWithName()}}ngOnDestroy(){var D;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(D=this.inputBinder)||void 0===D||D.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){var k;return(null===(k=this.parentContexts.getContext(D))||void 0===k?void 0:k.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);null!=D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,k){var Q;this.activated=D,this._activatedRoute=k,this.location.insert(D.hostView),null===(Q=this.inputBinder)||void 0===Q||Q.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,k){var Q;if(this.isActivated)throw new m.vHH(4013,!1);this._activatedRoute=D;const pe=this.location,St=D.snapshot.component,Rt=this.parentContexts.getOrCreateContext(this.name).children,Nn=new qn(D,Rt,pe.injector);this.activated=pe.createComponent(St,{index:pe.length,injector:Nn,environmentInjector:null!=k?k:this.environmentInjector}),this.changeDetector.markForCheck(),null===(Q=this.inputBinder)||void 0===Q||Q.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275dir=m.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]}),A})();class qn{constructor(A,O,D){this.route=A,this.childContexts=O,this.parent=D}get(A,O){return A===$n?this.route:A===yr?this.childContexts:this.parent.get(A,O)}}const ir=new m.OlP("");let Pi=(()=>{var w;class A{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){var k;null===(k=this.outletDataSubscriptions.get(D))||void 0===k||k.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:k}=D,Q=(0,Ue.a)([k.queryParams,k.params,k.data]).pipe((0,Be.w)(([pe,xe,St],Rt)=>(St={...pe,...xe,...St},0===Rt?(0,_e.of)(St):Promise.resolve(St)))).subscribe(pe=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(D);const xe=(0,m.qFp)(k.component);if(xe)for(const{templateName:St}of xe.inputs)D.activatedComponentRef.setInput(St,pe[St]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,Q)}}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac}),A})();function Jr(w,A,O){if(O&&w.shouldReuseRoute(A.value,O.value.snapshot)){const D=O.value;D._futureSnapshot=A.value;const k=function zo(w,A,O){return A.children.map(D=>{for(const k of O.children)if(w.shouldReuseRoute(D.value,k.value.snapshot))return Jr(w,D,k);return Jr(w,D)})}(w,A,O);return new et(D,k)}{if(w.shouldAttach(A.value)){const Q=w.retrieve(A.value);if(null!==Q){const pe=Q.route;return pe.value._futureSnapshot=A.value,pe.children=A.children.map(xe=>Jr(w,xe)),pe}}const D=function Kr(w){return new $n(new le.X(w.url),new le.X(w.params),new le.X(w.queryParams),new le.X(w.fragment),new le.X(w.data),w.outlet,w.component,w)}(A.value),k=A.children.map(Q=>Jr(w,Q));return new et(D,k)}}const Po="ngNavigationCancelingError";function mi(w,A){const{redirectTo:O,navigationBehaviorOptions:D}=Sn(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,k=wn(!1,0,A);return k.url=O,k.navigationBehaviorOptions=D,k}function wn(w,A,O){const D=new Error("NavigationCancelingError: "+(w||""));return D[Po]=!0,D.cancellationCode=A,O&&(D.url=O),D}function No(w){return cs(w)&&Sn(w.url)}function cs(w){return w&&w[Po]}let Io=(()=>{var w;class A{}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275cmp=m.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(D,k){1&D&&m._UZ(0,"router-outlet")},dependencies:[Yt],encapsulation:2}),A})();function po(w){const A=w.children&&w.children.map(po),O=A?{...w,children:A}:{...w};return!O.component&&!O.loadComponent&&(A||O.loadChildren)&&O.outlet&&O.outlet!==Ct&&(O.component=Io),O}function Un(w){return w.outlet||Ct}function ko(w){var A;if(!w)return null;if(null!==(A=w.routeConfig)&&void 0!==A&&A._injector)return w.routeConfig._injector;for(let O=w.parent;O;O=O.parent){const D=O.routeConfig;if(null!=D&&D._loadedInjector)return D._loadedInjector;if(null!=D&&D._injector)return D._injector}return null}class ii{constructor(A,O,D,k,Q){this.routeReuseStrategy=A,this.futureState=O,this.currState=D,this.forwardEvent=k,this.inputBindingEnabled=Q}activate(A){const O=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,D,A),Oo(this.futureState.root),this.activateChildRoutes(O,D,A)}deactivateChildRoutes(A,O,D){const k=Tt(O);A.children.forEach(Q=>{const pe=Q.value.outlet;this.deactivateRoutes(Q,k[pe],D),delete k[pe]}),Object.values(k).forEach(Q=>{this.deactivateRouteAndItsChildren(Q,D)})}deactivateRoutes(A,O,D){const k=A.value,Q=O?O.value:null;if(k===Q)if(k.component){const pe=D.getContext(k.outlet);pe&&this.deactivateChildRoutes(A,O,pe.children)}else this.deactivateChildRoutes(A,O,D);else Q&&this.deactivateRouteAndItsChildren(O,D)}deactivateRouteAndItsChildren(A,O){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,O):this.deactivateRouteAndOutlet(A,O)}detachAndStoreRouteSubtree(A,O){const D=O.getContext(A.value.outlet),k=D&&A.value.component?D.children:O,Q=Tt(A);for(const pe of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[pe],k);if(D&&D.outlet){const pe=D.outlet.detach(),xe=D.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:pe,route:A,contexts:xe})}}deactivateRouteAndOutlet(A,O){const D=O.getContext(A.value.outlet),k=D&&A.value.component?D.children:O,Q=Tt(A);for(const pe of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[pe],k);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(A,O,D){const k=Tt(O);A.children.forEach(Q=>{this.activateRoutes(Q,k[Q.value.outlet],D),this.forwardEvent(new Nt(Q.value.snapshot))}),A.children.length&&this.forwardEvent(new At(A.value.snapshot))}activateRoutes(A,O,D){const k=A.value,Q=O?O.value:null;if(Oo(k),k===Q)if(k.component){const pe=D.getOrCreateContext(k.outlet);this.activateChildRoutes(A,O,pe.children)}else this.activateChildRoutes(A,O,D);else if(k.component){const pe=D.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const xe=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),pe.children.onOutletReAttached(xe.contexts),pe.attachRef=xe.componentRef,pe.route=xe.route.value,pe.outlet&&pe.outlet.attach(xe.componentRef,xe.route.value),Oo(xe.route.value),this.activateChildRoutes(A,null,pe.children)}else{const xe=ko(k.snapshot);pe.attachRef=null,pe.route=k,pe.injector=xe,pe.outlet&&pe.outlet.activateWith(k,pe.injector),this.activateChildRoutes(A,null,pe.children)}}else this.activateChildRoutes(A,null,D)}}class Fo{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Go{constructor(A,O){this.component=A,this.route=O}}function Di(w,A,O){const D=w._root;return di(D,A?A._root:null,O,[D.value])}function ui(w,A){const O=Symbol(),D=A.get(w,O);return D===O?"function"!=typeof w||(0,m.Z0I)(w)?A.get(w):w:D}function di(w,A,O,D,k={canDeactivateChecks:[],canActivateChecks:[]}){const Q=Tt(A);return w.children.forEach(pe=>{(function us(w,A,O,D,k={canDeactivateChecks:[],canActivateChecks:[]}){const Q=w.value,pe=A?A.value:null,xe=O?O.getContext(w.value.outlet):null;if(pe&&Q.routeConfig===pe.routeConfig){const St=function Ci(w,A,O){if("function"==typeof O)return O(w,A);switch(O){case"pathParamsChange":return!Xt(w.url,A.url);case"pathParamsOrQueryParamsChange":return!Xt(w.url,A.url)||!$t(w.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fr(w,A)||!$t(w.queryParams,A.queryParams);default:return!Fr(w,A)}}(pe,Q,Q.routeConfig.runGuardsAndResolvers);St?k.canActivateChecks.push(new Fo(D)):(Q.data=pe.data,Q._resolvedData=pe._resolvedData),di(w,A,Q.component?xe?xe.children:null:O,D,k),St&&xe&&xe.outlet&&xe.outlet.isActivated&&k.canDeactivateChecks.push(new Go(xe.outlet.component,pe))}else pe&&Lo(A,xe,k),k.canActivateChecks.push(new Fo(D)),di(w,null,Q.component?xe?xe.children:null:O,D,k)})(pe,Q[pe.value.outlet],O,D.concat([pe.value]),k),delete Q[pe.value.outlet]}),Object.entries(Q).forEach(([pe,xe])=>Lo(xe,O.getContext(pe),k)),k}function Lo(w,A,O){const D=Tt(w),k=w.value;Object.entries(D).forEach(([Q,pe])=>{Lo(pe,k.component?A?A.children.getContext(Q):null:A,O)}),O.canDeactivateChecks.push(new Go(k.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,k))}function Ni(w){return"function"==typeof w}function Ta(w){return w instanceof Ne.K||"EmptyError"===(null==w?void 0:w.name)}const xr=Symbol("INITIAL_VALUE");function Wo(){return(0,Be.w)(w=>(0,Ue.a)(w.map(A=>A.pipe((0,ve.q)(1),(0,De.O)(xr)))).pipe((0,Ae.U)(A=>{for(const O of A)if(!0!==O){if(O===xr)return xr;if(!1===O||O instanceof or)return O}return!0}),(0,ke.h)(A=>A!==xr),(0,ve.q)(1)))}function Et(w){return(0,ue.z)((0,pt.b)(A=>{if(Sn(A))throw mi(0,A)}),(0,Ae.U)(A=>!0===A))}class tn{constructor(A){this.segmentGroup=A||null}}class Fn{constructor(A){this.urlTree=A}}function sr(w){return Te(new tn(w))}function oi(w){return Te(new Fn(w))}class Qo{constructor(A,O){this.urlSerializer=A,this.urlTree=O}noMatchError(A){return new m.vHH(4002,!1)}lineralizeSegments(A,O){let D=[],k=O.root;for(;;){if(D=D.concat(k.segments),0===k.numberOfChildren)return(0,_e.of)(D);if(k.numberOfChildren>1||!k.children[Ct])return Te(new m.vHH(4e3,!1));k=k.children[Ct]}}applyRedirectCommands(A,O,D){return this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),A,D)}applyRedirectCreateUrlTree(A,O,D,k){const Q=this.createSegmentGroup(A,O.root,D,k);return new or(Q,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(A,O){const D={};return Object.entries(A).forEach(([k,Q])=>{if("string"==typeof Q&&Q.startsWith(":")){const xe=Q.substring(1);D[k]=O[xe]}else D[k]=Q}),D}createSegmentGroup(A,O,D,k){const Q=this.createSegments(A,O.segments,D,k);let pe={};return Object.entries(O.children).forEach(([xe,St])=>{pe[xe]=this.createSegmentGroup(A,St,D,k)}),new un(Q,pe)}createSegments(A,O,D,k){return O.map(Q=>Q.path.startsWith(":")?this.findPosParam(A,Q,k):this.findOrReturn(Q,D))}findPosParam(A,O,D){const k=D[O.path.substring(1)];if(!k)throw new m.vHH(4001,!1);return k}findOrReturn(A,O){let D=0;for(const k of O){if(k.path===A.path)return O.splice(D),k;D++}return A}}const Yi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hs(w,A,O,D,k){const Q=Ps(w,A,O);return Q.matched?(D=function Qn(w,A){var O;return w.providers&&!w._injector&&(w._injector=(0,m.MMx)(w.providers,A,`Route: ${w.path}`)),null!==(O=w._injector)&&void 0!==O?O:A}(A,D),function on(w,A,O,D){const k=A.canMatch;if(!k||0===k.length)return(0,_e.of)(!0);const Q=k.map(pe=>{const xe=ui(pe,w);return En(function Is(w){return w&&Ni(w.canMatch)}(xe)?xe.canMatch(A,O):w.runInContext(()=>xe(A,O)))});return(0,_e.of)(Q).pipe(Wo(),Et())}(D,A,O).pipe((0,Ae.U)(pe=>!0===pe?Q:{...Yi}))):(0,_e.of)(Q)}function Ps(w,A,O){var D,k;if(""===A.path)return"full"===A.pathMatch&&(w.hasChildren()||O.length>0)?{...Yi}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const pe=(A.matcher||It)(O,w,A);if(!pe)return{...Yi};const xe={};Object.entries(null!==(D=pe.posParams)&&void 0!==D?D:{}).forEach(([Rt,Nn])=>{xe[Rt]=Nn.path});const St=pe.consumed.length>0?{...xe,...pe.consumed[pe.consumed.length-1].parameters}:xe;return{matched:!0,consumedSegments:pe.consumed,remainingSegments:O.slice(pe.consumed.length),parameters:St,positionalParamSegments:null!==(k=pe.posParams)&&void 0!==k?k:{}}}function ma(w,A,O,D){return O.length>0&&function Fi(w,A,O){return O.some(D=>va(w,A,D)&&Un(D)!==Ct)}(w,O,D)?{segmentGroup:new un(A,Ns(D,new un(O,w.children))),slicedSegments:[]}:0===O.length&&function Xi(w,A,O){return O.some(D=>va(w,A,D))}(w,O,D)?{segmentGroup:new un(w.segments,qo(w,0,O,D,w.children)),slicedSegments:O}:{segmentGroup:new un(w.segments,w.children),slicedSegments:O}}function qo(w,A,O,D,k){const Q={};for(const pe of D)if(va(w,O,pe)&&!k[Un(pe)]){const xe=new un([],{});Q[Un(pe)]=xe}return{...k,...Q}}function Ns(w,A){const O={};O[Ct]=A;for(const D of w)if(""===D.path&&Un(D)!==Ct){const k=new un([],{});O[Un(D)]=k}return O}function va(w,A,O){return(!(w.hasChildren()||A.length>0)||"full"!==O.pathMatch)&&""===O.path}class oa{constructor(A,O,D,k,Q,pe,xe){this.injector=A,this.configLoader=O,this.rootComponentType=D,this.config=k,this.urlTree=Q,this.paramsInheritanceStrategy=pe,this.urlSerializer=xe,this.allowRedirects=!0,this.applyRedirects=new Qo(this.urlSerializer,this.urlTree)}noMatchError(A){return new m.vHH(4002,!1)}recognize(){const A=ma(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Ct).pipe(Ht(O=>{if(O instanceof Fn)return this.allowRedirects=!1,this.urlTree=O.urlTree,this.match(O.urlTree);throw O instanceof tn?this.noMatchError(O):O}),(0,Ae.U)(O=>{const D=new jo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ct,this.rootComponentType,null,{}),k=new et(D,O),Q=new bi("",k),pe=function vr(w,A,O=null,D=null){return Ei(Mr(w),A,O,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return pe.queryParams=this.urlTree.queryParams,Q.url=this.urlSerializer.serialize(pe),this.inheritParamsAndData(Q._root),{state:Q,tree:pe}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A.root,Ct).pipe(Ht(D=>{throw D instanceof tn?this.noMatchError(D):D}))}inheritParamsAndData(A){const O=A.value,D=rr(O,this.paramsInheritanceStrategy);O.params=Object.freeze(D.params),O.data=Object.freeze(D.data),A.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(A,O,D,k){return 0===D.segments.length&&D.hasChildren()?this.processChildren(A,O,D):this.processSegment(A,O,D,D.segments,k,!0)}processChildren(A,O,D){const k=[];for(const Q of Object.keys(D.children))"primary"===Q?k.unshift(Q):k.push(Q);return(0,Ee.D)(k).pipe((0,st.b)(Q=>{const pe=D.children[Q],xe=function qi(w,A){const O=w.filter(D=>Un(D)===A);return O.push(...w.filter(D=>Un(D)!==A)),O}(O,Q);return this.processSegmentGroup(A,xe,pe,Q)}),(0,xn.R)((Q,pe)=>(Q.push(...pe),Q)),(0,qt.d)(null),function Me(w,A){const O=arguments.length>=2;return D=>D.pipe(w?(0,ke.h)((k,Q)=>w(k,Q,D)):de.y,lt(1),O?(0,qt.d)(A):(0,se.T)(()=>new Ne.K))}(),(0,$e.z)(Q=>{if(null===Q)return sr(D);const pe=Jo(Q);return function Xa(w){w.sort((A,O)=>A.value.outlet===Ct?-1:O.value.outlet===Ct?1:A.value.outlet.localeCompare(O.value.outlet))}(pe),(0,_e.of)(pe)}))}processSegment(A,O,D,k,Q,pe){return(0,Ee.D)(O).pipe((0,st.b)(xe=>{var St;return this.processSegmentAgainstRoute(null!==(St=xe._injector)&&void 0!==St?St:A,O,xe,D,k,Q,pe).pipe(Ht(Rt=>{if(Rt instanceof tn)return(0,_e.of)(null);throw Rt}))}),(0,it.P)(xe=>!!xe),Ht(xe=>{if(Ta(xe))return function ra(w,A,O){return 0===A.length&&!w.children[O]}(D,k,Q)?(0,_e.of)([]):sr(D);throw xe}))}processSegmentAgainstRoute(A,O,D,k,Q,pe,xe){return function na(w,A,O,D){return!!(Un(w)===D||D!==Ct&&va(A,O,w))&&("**"===w.path||Ps(A,w,O).matched)}(D,k,Q,pe)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(A,k,D,Q,pe,xe):xe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,k,O,D,Q,pe):sr(k):sr(k)}expandSegmentAgainstRouteUsingRedirect(A,O,D,k,Q,pe){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,D,k,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(A,O,D,k,Q,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,O,D,k){const Q=this.applyRedirects.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?oi(Q):this.applyRedirects.lineralizeSegments(D,Q).pipe((0,$e.z)(pe=>{const xe=new un(pe,{});return this.processSegment(A,O,xe,pe,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,O,D,k,Q,pe){const{matched:xe,consumedSegments:St,remainingSegments:Rt,positionalParamSegments:Nn}=Ps(O,k,Q);if(!xe)return sr(O);const An=this.applyRedirects.applyRedirectCommands(St,k.redirectTo,Nn);return k.redirectTo.startsWith("/")?oi(An):this.applyRedirects.lineralizeSegments(k,An).pipe((0,$e.z)(tr=>this.processSegment(A,D,O,tr.concat(Rt),pe,!1)))}matchSegmentAgainstRoute(A,O,D,k,Q,pe){let xe;if("**"===D.path){var St,Rt;const Nn=k.length>0?cn(k).parameters:{},An=new jo(k,Nn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aa(D),Un(D),null!==(St=null!==(Rt=D.component)&&void 0!==Rt?Rt:D._loadedComponent)&&void 0!==St?St:null,D,Sa(D));xe=(0,_e.of)({snapshot:An,consumedSegments:[],remainingSegments:[]}),O.children={}}else xe=hs(O,D,k,A).pipe((0,Ae.U)(({matched:Nn,consumedSegments:An,remainingSegments:tr,parameters:ei})=>{var $o,at;return Nn?{snapshot:new jo(An,ei,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aa(D),Un(D),null!==($o=null!==(at=D.component)&&void 0!==at?at:D._loadedComponent)&&void 0!==$o?$o:null,D,Sa(D)),consumedSegments:An,remainingSegments:tr}:null}));return xe.pipe((0,Be.w)(Nn=>{var An;return null===Nn?sr(O):(A=null!==(An=D._injector)&&void 0!==An?An:A,this.getChildConfig(A,D,k).pipe((0,Be.w)(({routes:tr})=>{var ei;const $o=null!==(ei=D._loadedInjector)&&void 0!==ei?ei:A,{snapshot:at,consumedSegments:ca,remainingSegments:mo}=Nn,{segmentGroup:ua,slicedSegments:vo}=ma(O,ca,mo,tr);if(0===vo.length&&ua.hasChildren())return this.processChildren($o,tr,ua).pipe((0,Ae.U)(Fs=>null===Fs?null:[new et(at,Fs)]));if(0===tr.length&&0===vo.length)return(0,_e.of)([new et(at,[])]);const ks=Un(D)===Q;return this.processSegment($o,tr,ua,vo,ks?Ct:Q,!0).pipe((0,Ae.U)(Fs=>[new et(at,Fs)]))})))}))}getChildConfig(A,O,D){return O.children?(0,_e.of)({routes:O.children,injector:A}):O.loadChildren?void 0!==O._loadedRoutes?(0,_e.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function J(w,A,O,D){const k=A.canLoad;if(void 0===k||0===k.length)return(0,_e.of)(!0);const Q=k.map(pe=>{const xe=ui(pe,w);return En(function Js(w){return w&&Ni(w.canLoad)}(xe)?xe.canLoad(A,O):w.runInContext(()=>xe(A,O)))});return(0,_e.of)(Q).pipe(Wo(),Et())}(A,O,D).pipe((0,$e.z)(k=>k?this.configLoader.loadChildren(A,O).pipe((0,pt.b)(Q=>{O._loadedRoutes=Q.routes,O._loadedInjector=Q.injector})):function ki(w){return Te(wn(!1,3))}())):(0,_e.of)({routes:[],injector:A})}}function sa(w){const A=w.value.routeConfig;return A&&""===A.path}function Jo(w){const A=[],O=new Set;for(const D of w){if(!sa(D)){A.push(D);continue}const k=A.find(Q=>D.value.routeConfig===Q.value.routeConfig);void 0!==k?(k.children.push(...D.children),O.add(k)):A.push(D)}for(const D of O){const k=Jo(D.children);A.push(new et(D.value,k))}return A.filter(D=>!O.has(D))}function aa(w){return w.data||{}}function Sa(w){return w.resolve||{}}function Ma(w){return"string"==typeof w.title||null===w.title}function Hi(w){return(0,Be.w)(A=>{const O=w(A);return O?(0,Ee.D)(O).pipe((0,Ae.U)(()=>A)):(0,_e.of)(A)})}const es=new m.OlP("ROUTES");let C=(()=>{var w;class A{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,_e.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const k=En(D.loadComponent()).pipe((0,Ae.U)(ye),(0,pt.b)(pe=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=pe}),Xe(()=>{this.componentLoaders.delete(D)})),Q=new ft(k,()=>new Ze.x).pipe(ce());return this.componentLoaders.set(D,Q),Q}loadChildren(D,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,_e.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const pe=this.loadModuleFactoryOrRoutes(k.loadChildren).pipe((0,Ae.U)(St=>{this.onLoadEndListener&&this.onLoadEndListener(k);let Rt,Nn;return Array.isArray(St)?Nn=St:(Rt=St.create(D).injector,Nn=Rt.get(es,[],m.XFs.Self|m.XFs.Optional).flat()),{routes:Nn.map(po),injector:Rt}}),Xe(()=>{this.childrenLoaders.delete(k)})),xe=new ft(pe,()=>new Ze.x).pipe(ce());return this.childrenLoaders.set(k,xe),xe}loadModuleFactoryOrRoutes(D){return En(D()).pipe((0,Ae.U)(ye),(0,$e.z)(k=>k instanceof m.YKP||Array.isArray(k)?(0,_e.of)(k):(0,Ee.D)(this.compiler.compileModuleAsync(k))))}}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();function ye(w){return function V(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let F=(()=>{var w;class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ze.x,this.configLoader=(0,m.f3M)(C),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(Mt),this.rootContexts=(0,m.f3M)(yr),this.inputBindingEnabled=null!==(0,m.f3M)(ir,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,_e.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Q=>this.events.next(new Je(Q)),this.configLoader.onLoadStartListener=Q=>this.events.next(new Ye(Q))}complete(){var D;null===(D=this.transitions)||void 0===D||D.complete()}handleNavigationRequest(D){var k;const Q=++this.navigationId;null===(k=this.transitions)||void 0===k||k.next({...this.transitions.value,...D,id:Q})}setupNavigations(D){return this.transitions=new le.X({id:0,currentUrlTree:D.currentUrlTree,currentRawUrl:D.currentUrlTree,extractedUrl:D.urlHandlingStrategy.extract(D.currentUrlTree),urlAfterRedirects:D.urlHandlingStrategy.extract(D.currentUrlTree),rawUrl:D.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Oi,restoredState:null,currentSnapshot:D.routerState.snapshot,targetSnapshot:null,currentRouterState:D.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ke.h)(k=>0!==k.id),(0,Ae.U)(k=>({...k,extractedUrl:D.urlHandlingStrategy.extract(k.rawUrl)})),(0,Be.w)(k=>{let Q=!1,pe=!1;return(0,_e.of)(k).pipe((0,pt.b)(xe=>{this.currentNavigation={id:xe.id,initialUrl:xe.rawUrl,extractedUrl:xe.extractedUrl,trigger:xe.source,extras:xe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Be.w)(xe=>{var St;const Rt=D.browserUrlTree.toString(),Nn=!D.navigated||xe.extractedUrl.toString()!==Rt||Rt!==D.currentUrlTree.toString(),An=null!==(St=xe.extras.onSameUrlNavigation)&&void 0!==St?St:D.onSameUrlNavigation;if(!Nn&&"reload"!==An){const tr="";return this.events.next(new pi(xe.id,D.serializeUrl(k.rawUrl),tr,0)),D.rawUrlTree=xe.rawUrl,xe.resolve(null),je.E}if(D.urlHandlingStrategy.shouldProcessUrl(xe.rawUrl))return oe(xe.source)&&(D.browserUrlTree=xe.extractedUrl),(0,_e.of)(xe).pipe((0,Be.w)(tr=>{var ei,$o;const at=null===(ei=this.transitions)||void 0===ei?void 0:ei.getValue();return this.events.next(new $i(tr.id,this.urlSerializer.serialize(tr.extractedUrl),tr.source,tr.restoredState)),at!==(null===($o=this.transitions)||void 0===$o?void 0:$o.getValue())?je.E:Promise.resolve(tr)}),function _c(w,A,O,D,k,Q){return(0,$e.z)(pe=>function ia(w,A,O,D,k,Q,pe="emptyOnly"){return new oa(w,A,O,D,k,pe,Q).recognize()}(w,A,O,D,pe.extractedUrl,k,Q).pipe((0,Ae.U)(({state:xe,tree:St})=>({...pe,targetSnapshot:xe,urlAfterRedirects:St}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,pt.b)(tr=>{if(k.targetSnapshot=tr.targetSnapshot,k.urlAfterRedirects=tr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:tr.urlAfterRedirects},"eager"===D.urlUpdateStrategy){if(!tr.extras.skipLocationChange){const $o=D.urlHandlingStrategy.merge(tr.urlAfterRedirects,tr.rawUrl);D.setBrowserUrl($o,tr)}D.browserUrlTree=tr.urlAfterRedirects}const ei=new io(tr.id,this.urlSerializer.serialize(tr.extractedUrl),this.urlSerializer.serialize(tr.urlAfterRedirects),tr.targetSnapshot);this.events.next(ei)}));if(Nn&&D.urlHandlingStrategy.shouldProcessUrl(D.rawUrlTree)){const{id:tr,extractedUrl:ei,source:$o,restoredState:at,extras:ca}=xe,mo=new $i(tr,this.urlSerializer.serialize(ei),$o,at);this.events.next(mo);const ua=Gt(0,this.rootComponentType).snapshot;return k={...xe,targetSnapshot:ua,urlAfterRedirects:ei,extras:{...ca,skipLocationChange:!1,replaceUrl:!1}},(0,_e.of)(k)}{const tr="";return this.events.next(new pi(xe.id,D.serializeUrl(k.extractedUrl),tr,1)),D.rawUrlTree=xe.rawUrl,xe.resolve(null),je.E}}),(0,pt.b)(xe=>{const St=new K(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot);this.events.next(St)}),(0,Ae.U)(xe=>k={...xe,guards:Di(xe.targetSnapshot,xe.currentSnapshot,this.rootContexts)}),function Za(w,A){return(0,$e.z)(O=>{const{targetSnapshot:D,currentSnapshot:k,guards:{canActivateChecks:Q,canDeactivateChecks:pe}}=O;return 0===pe.length&&0===Q.length?(0,_e.of)({...O,guardsResult:!0}):function $(w,A,O,D){return(0,Ee.D)(w).pipe((0,$e.z)(k=>function N(w,A,O,D,k){const Q=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,_e.of)(!0);const pe=Q.map(xe=>{var St;const Rt=null!==(St=ko(A))&&void 0!==St?St:k,Nn=ui(xe,Rt);return En(function Os(w){return w&&Ni(w.canDeactivate)}(Nn)?Nn.canDeactivate(w,A,O,D):Rt.runInContext(()=>Nn(w,A,O,D))).pipe((0,it.P)())});return(0,_e.of)(pe).pipe(Wo())}(k.component,k.route,O,A,D)),(0,it.P)(k=>!0!==k,!0))}(pe,D,k,w).pipe((0,$e.z)(xe=>xe&&function ds(w){return"boolean"==typeof w}(xe)?function P(w,A,O,D){return(0,Ee.D)(A).pipe((0,st.b)(k=>(0,me.z)(function h(w,A){return null!==w&&A&&A(new mt(w)),(0,_e.of)(!0)}(k.route.parent,D),function re(w,A){return null!==w&&A&&A(new Pt(w)),(0,_e.of)(!0)}(k.route,D),function _(w,A,O){const D=A[A.length-1],Q=A.slice(0,A.length-1).reverse().map(pe=>function _s(w){const A=w.routeConfig?w.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:w,guards:A}:null}(pe)).filter(pe=>null!==pe).map(pe=>be(()=>{const xe=pe.guards.map(St=>{var Rt;const Nn=null!==(Rt=ko(pe.node))&&void 0!==Rt?Rt:O,An=ui(St,Nn);return En(function ea(w){return w&&Ni(w.canActivateChild)}(An)?An.canActivateChild(D,w):Nn.runInContext(()=>An(D,w))).pipe((0,it.P)())});return(0,_e.of)(xe).pipe(Wo())}));return(0,_e.of)(Q).pipe(Wo())}(w,k.path,O),function T(w,A,O){const D=A.routeConfig?A.routeConfig.canActivate:null;if(!D||0===D.length)return(0,_e.of)(!0);const k=D.map(Q=>be(()=>{var pe;const xe=null!==(pe=ko(A))&&void 0!==pe?pe:O,St=ui(Q,xe);return En(function ga(w){return w&&Ni(w.canActivate)}(St)?St.canActivate(A,w):xe.runInContext(()=>St(A,w))).pipe((0,it.P)())}));return(0,_e.of)(k).pipe(Wo())}(w,k.route,O))),(0,it.P)(k=>!0!==k,!0))}(D,Q,w,A):(0,_e.of)(xe)),(0,Ae.U)(xe=>({...O,guardsResult:xe})))})}(this.environmentInjector,xe=>this.events.next(xe)),(0,pt.b)(xe=>{if(k.guardsResult=xe.guardsResult,Sn(xe.guardsResult))throw mi(0,xe.guardsResult);const St=new he(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot,!!xe.guardsResult);this.events.next(St)}),(0,ke.h)(xe=>!!xe.guardsResult||(D.restoreHistory(xe),this.cancelNavigationTransition(xe,"",3),!1)),Hi(xe=>{if(xe.guards.canActivateChecks.length)return(0,_e.of)(xe).pipe((0,pt.b)(St=>{const Rt=new ne(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot);this.events.next(Rt)}),(0,Be.w)(St=>{let Rt=!1;return(0,_e.of)(St).pipe(function la(w,A){return(0,$e.z)(O=>{const{targetSnapshot:D,guards:{canActivateChecks:k}}=O;if(!k.length)return(0,_e.of)(O);let Q=0;return(0,Ee.D)(k).pipe((0,st.b)(pe=>function Yo(w,A,O,D){const k=w.routeConfig,Q=w._resolve;return void 0!==(null==k?void 0:k.title)&&!Ma(k)&&(Q[ct]=k.title),function Aa(w,A,O,D){const k=function fl(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===k.length)return(0,_e.of)({});const Q={};return(0,Ee.D)(k).pipe((0,$e.z)(pe=>function Es(w,A,O,D){var k;const Q=null!==(k=ko(A))&&void 0!==k?k:D,pe=ui(w,Q);return En(pe.resolve?pe.resolve(A,O):Q.runInContext(()=>pe(A,O)))}(w[pe],A,O,D).pipe((0,it.P)(),(0,pt.b)(xe=>{Q[pe]=xe}))),lt(1),function Ge(w){return(0,Ae.U)(()=>w)}(Q),Ht(pe=>Ta(pe)?je.E:Te(pe)))}(Q,w,A,D).pipe((0,Ae.U)(pe=>(w._resolvedData=pe,w.data=rr(w,O).resolve,k&&Ma(k)&&(w.data[ct]=k.title),null)))}(pe.route,D,w,A)),(0,pt.b)(()=>Q++),lt(1),(0,$e.z)(pe=>Q===k.length?(0,_e.of)(O):je.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,pt.b)({next:()=>Rt=!0,complete:()=>{Rt||(D.restoreHistory(St),this.cancelNavigationTransition(St,"",2))}}))}),(0,pt.b)(St=>{const Rt=new Se(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot);this.events.next(Rt)}))}),Hi(xe=>{const St=Rt=>{var Nn;const An=[];null!==(Nn=Rt.routeConfig)&&void 0!==Nn&&Nn.loadComponent&&!Rt.routeConfig._loadedComponent&&An.push(this.configLoader.loadComponent(Rt.routeConfig).pipe((0,pt.b)(tr=>{Rt.component=tr}),(0,Ae.U)(()=>{})));for(const tr of Rt.children)An.push(...St(tr));return An};return(0,Ue.a)(St(xe.targetSnapshot.root)).pipe((0,qt.d)(),(0,ve.q)(1))}),Hi(()=>this.afterPreactivation()),(0,Ae.U)(xe=>{const St=function Ho(w,A,O){const D=Jr(w,A._root,O?O._root:void 0);return new Ut(D,A)}(D.routeReuseStrategy,xe.targetSnapshot,xe.currentRouterState);return k={...xe,targetRouterState:St}}),(0,pt.b)(xe=>{D.currentUrlTree=xe.urlAfterRedirects,D.rawUrlTree=D.urlHandlingStrategy.merge(xe.urlAfterRedirects,xe.rawUrl),D.routerState=xe.targetRouterState,"deferred"===D.urlUpdateStrategy&&(xe.extras.skipLocationChange||D.setBrowserUrl(D.rawUrlTree,xe),D.browserUrlTree=xe.urlAfterRedirects)}),((w,A,O,D)=>(0,Ae.U)(k=>(new ii(A,k.targetRouterState,k.currentRouterState,O,D).activate(w),k)))(this.rootContexts,D.routeReuseStrategy,xe=>this.events.next(xe),this.inputBindingEnabled),(0,ve.q)(1),(0,pt.b)({next:xe=>{var St;Q=!0,this.lastSuccessfulNavigation=this.currentNavigation,D.navigated=!0,this.events.next(new pr(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(D.currentUrlTree))),null===(St=D.titleStrategy)||void 0===St||St.updateTitle(xe.targetRouterState.snapshot),xe.resolve(!0)},complete:()=>{Q=!0}}),Xe(()=>{var xe;Q||pe||this.cancelNavigationTransition(k,"",1),(null===(xe=this.currentNavigation)||void 0===xe?void 0:xe.id)===k.id&&(this.currentNavigation=null)}),Ht(xe=>{if(pe=!0,cs(xe)){No(xe)||(D.navigated=!0,D.restoreHistory(k,!0));const Rt=new wi(k.id,this.urlSerializer.serialize(k.extractedUrl),xe.message,xe.cancellationCode);if(this.events.next(Rt),No(xe)){const Nn=D.urlHandlingStrategy.merge(xe.url,D.rawUrlTree),An={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===D.urlUpdateStrategy||oe(k.source)};D.scheduleNavigation(Nn,Oi,null,An,{resolve:k.resolve,reject:k.reject,promise:k.promise})}else k.resolve(!1)}else{var St;D.restoreHistory(k,!0);const Rt=new Ro(k.id,this.urlSerializer.serialize(k.extractedUrl),xe,null!==(St=k.targetSnapshot)&&void 0!==St?St:void 0);this.events.next(Rt);try{k.resolve(D.errorHandler(xe))}catch(Nn){k.reject(Nn)}}return je.E}))}))}cancelNavigationTransition(D,k,Q){const pe=new wi(D.id,this.urlSerializer.serialize(D.extractedUrl),k,Q);this.events.next(pe),D.resolve(!1)}}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();function oe(w){return w!==Oi}let Le=(()=>{var w;class A{buildTitle(D){let k,Q=D.root;for(;void 0!==Q;){var pe;k=null!==(pe=this.getResolvedTitleForRoute(Q))&&void 0!==pe?pe:k,Q=Q.children.find(xe=>xe.outlet===Ct)}return k}getResolvedTitleForRoute(D){return D.data[ct]}}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275prov=m.Yz7({token:w,factory:function(){return(0,m.f3M)(wt)},providedIn:"root"}),A})(),wt=(()=>{var w;class A extends Le{constructor(D){super(),this.title=D}updateTitle(D){const k=this.buildTitle(D);void 0!==k&&this.title.setTitle(k)}}return(w=A).\u0275fac=function(D){return new(D||w)(m.LFG(Bt.Dx))},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})(),zt=(()=>{var w;class A{}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275prov=m.Yz7({token:w,factory:function(){return(0,m.f3M)(Cn)},providedIn:"root"}),A})();class ar{shouldDetach(A){return!1}store(A,O){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,O){return A.routeConfig===O.routeConfig}}let Cn=(()=>{var w;class A extends ar{}return(w=A).\u0275fac=function(){let O;return function(k){return(O||(O=m.n5z(w)))(k||w)}}(),w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();const Jn=new m.OlP("",{providedIn:"root",factory:()=>({})});let Bn=(()=>{var w;class A{}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275prov=m.Yz7({token:w,factory:function(){return(0,m.f3M)(lr)},providedIn:"root"}),A})(),lr=(()=>{var w;class A{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,k){return D}}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();var Rr=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(Rr||{});function Zr(w,A){w.events.pipe((0,ke.h)(O=>O instanceof pr||O instanceof wi||O instanceof Ro||O instanceof pi),(0,Ae.U)(O=>O instanceof pr||O instanceof pi?Rr.COMPLETE:O instanceof wi&&(0===O.code||1===O.code)?Rr.REDIRECTING:Rr.FAILED),(0,ke.h)(O=>O!==Rr.REDIRECTING),(0,ve.q)(1)).subscribe(()=>{A()})}function Ti(w){throw w}function si(w,A,O){return A.parse("/")}const ts={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ko={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ki=(()=>{var w;class A{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var D;if("computed"===this.canceledNavigationResolution)return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var D,k;this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this.options=(0,m.f3M)(Jn,{optional:!0})||{},this.pendingTasks=(0,m.f3M)(m.HDt),this.errorHandler=this.options.errorHandler||Ti,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||si,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(Bn),this.routeReuseStrategy=(0,m.f3M)(zt),this.titleStrategy=(0,m.f3M)(Le),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(D=null===(k=(0,m.f3M)(es,{optional:!0}))||void 0===k?void 0:k.flat())&&void 0!==D?D:[],this.navigationTransitions=(0,m.f3M)(F),this.urlSerializer=(0,m.f3M)(Mt),this.location=(0,m.f3M)(fe.Ye),this.componentInputBindingEnabled=!!(0,m.f3M)(ir,{optional:!0}),this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Gt(0,null),this.navigationTransitions.setupNavigations(this).subscribe(Q=>{var pe;this.lastSuccessfulId=Q.id,this.currentPageId=null!==(pe=this.browserPageId)&&void 0!==pe?pe:0},Q=>{this.console.warn(`Unhandled Navigation Error: ${Q}`)})}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Oi,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const k="popstate"===D.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,k,D.state)},0)}))}navigateToSyncWithBrowser(D,k,Q){const pe={replaceUrl:!0},xe=null!=Q&&Q.navigationId?Q:null;if(Q){const Rt={...Q};delete Rt.navigationId,delete Rt.\u0275routerPageId,0!==Object.keys(Rt).length&&(pe.state=Rt)}const St=this.parseUrl(D);this.scheduleNavigation(St,k,xe,pe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(po),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,k={}){const{relativeTo:Q,queryParams:pe,fragment:xe,queryParamsHandling:St,preserveFragment:Rt}=k,Nn=Rt?this.currentUrlTree.fragment:xe;let tr,An=null;switch(St){case"merge":An={...this.currentUrlTree.queryParams,...pe};break;case"preserve":An=this.currentUrlTree.queryParams;break;default:An=pe||null}null!==An&&(An=this.removeEmptyProps(An));try{tr=Mr(Q?Q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),tr=this.currentUrlTree.root}return Ei(tr,D,An,null!=Nn?Nn:null)}navigateByUrl(D,k={skipLocationChange:!1}){const Q=Sn(D)?D:this.parseUrl(D),pe=this.urlHandlingStrategy.merge(Q,this.rawUrlTree);return this.scheduleNavigation(pe,Oi,null,k)}navigate(D,k={skipLocationChange:!1}){return function ao(w){for(let A=0;A<w.length;A++)if(null==w[A])throw new m.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,k),k)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let k;try{k=this.urlSerializer.parse(D)}catch(Q){k=this.malformedUriErrorHandler(Q,this.urlSerializer,D)}return k}isActive(D,k){let Q;if(Q=!0===k?{...ts}:!1===k?{...Ko}:k,Sn(D))return Dn(this.currentUrlTree,D,Q);const pe=this.parseUrl(D);return Dn(this.currentUrlTree,pe,Q)}removeEmptyProps(D){return Object.keys(D).reduce((k,Q)=>{const pe=D[Q];return null!=pe&&(k[Q]=pe),k},{})}scheduleNavigation(D,k,Q,pe,xe){if(this.disposed)return Promise.resolve(!1);let St,Rt,Nn;xe?(St=xe.resolve,Rt=xe.reject,Nn=xe.promise):Nn=new Promise((tr,ei)=>{St=tr,Rt=ei});const An=this.pendingTasks.add();return Zr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(An))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:Q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:pe,resolve:St,reject:Rt,promise:Nn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Nn.catch(tr=>Promise.reject(tr))}setBrowserUrl(D,k){const Q=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(Q)||k.extras.replaceUrl){const St={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(Q,"",St)}else{var pe;const xe={...k.extras.state,...this.generateNgRouterState(k.id,(null!==(pe=this.browserPageId)&&void 0!==pe?pe:0)+1)};this.location.go(Q,"",xe)}}restoreHistory(D,k=!1){if("computed"===this.canceledNavigationResolution){var Q,pe;const xe=null!==(Q=this.browserPageId)&&void 0!==Q?Q:this.currentPageId,St=this.currentPageId-xe;0!==St?this.location.historyGo(St):this.currentUrlTree===(null===(pe=this.getCurrentNavigation())||void 0===pe?void 0:pe.finalUrl)&&0===St&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,k){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:k}:{navigationId:D}}}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})(),fs=(()=>{var w;class A{constructor(D,k,Q,pe,xe,St){var Rt;this.router=D,this.route=k,this.tabIndexAttribute=Q,this.renderer=pe,this.el=xe,this.locationStrategy=St,this.href=null,this.commands=null,this.onChanges=new Ze.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Nn=null===(Rt=xe.nativeElement.tagName)||void 0===Rt?void 0:Rt.toLowerCase();this.isAnchorElement="a"===Nn||"area"===Nn,this.isAnchorElement?this.subscription=D.events.subscribe(An=>{An instanceof pr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,k,Q,pe,xe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||k||Q||pe||xe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var D;null===(D=this.subscription)||void 0===D||D.unsubscribe()}updateHref(){var D;this.href=null!==this.urlTree&&this.locationStrategy?null===(D=this.locationStrategy)||void 0===D?void 0:D.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const k=null===this.href?null:(0,m.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",k)}applyAttributeValue(D,k){const Q=this.renderer,pe=this.el.nativeElement;null!==k?Q.setAttribute(pe,D,k):Q.removeAttribute(pe,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(w=A).\u0275fac=function(D){return new(D||w)(m.Y36(Ki),m.Y36($n),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(fe.S$))},w.\u0275dir=m.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,k){1&D&&m.NdJ("click",function(pe){return k.onClick(pe.button,pe.ctrlKey,pe.shiftKey,pe.altKey,pe.metaKey)}),2&D&&m.uIk("target",k.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",m.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",m.VuI],replaceUrl:["replaceUrl","replaceUrl",m.VuI],routerLink:"routerLink"},standalone:!0,features:[m.Xq5,m.TTD]}),A})();class xa{}let Ra=(()=>{var w;class A{preload(D,k){return k().pipe(Ht(()=>(0,_e.of)(null)))}}return(w=A).\u0275fac=function(D){return new(D||w)},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})(),er=(()=>{var w;class A{constructor(D,k,Q,pe,xe){this.router=D,this.injector=Q,this.preloadingStrategy=pe,this.loader=xe}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.h)(D=>D instanceof pr),(0,st.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,k){const Q=[];for(const Rt of k){var pe,xe;Rt.providers&&!Rt._injector&&(Rt._injector=(0,m.MMx)(Rt.providers,D,`Route: ${Rt.path}`));const Nn=null!==(pe=Rt._injector)&&void 0!==pe?pe:D,An=null!==(xe=Rt._loadedInjector)&&void 0!==xe?xe:Nn;var St;(Rt.loadChildren&&!Rt._loadedRoutes&&void 0===Rt.canLoad||Rt.loadComponent&&!Rt._loadedComponent)&&Q.push(this.preloadConfig(Nn,Rt)),(Rt.children||Rt._loadedRoutes)&&Q.push(this.processRoutes(An,null!==(St=Rt.children)&&void 0!==St?St:Rt._loadedRoutes))}return(0,Ee.D)(Q).pipe((0,qe.J)())}preloadConfig(D,k){return this.preloadingStrategy.preload(k,()=>{let Q;Q=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(D,k):(0,_e.of)(null);const pe=Q.pipe((0,$e.z)(xe=>{var St;return null===xe?(0,_e.of)(void 0):(k._loadedRoutes=xe.routes,k._loadedInjector=xe.injector,this.processRoutes(null!==(St=xe.injector)&&void 0!==St?St:D,xe.routes))}));if(k.loadComponent&&!k._loadedComponent){const xe=this.loader.loadComponent(k);return(0,Ee.D)([pe,xe]).pipe((0,qe.J)())}return pe})}}return(w=A).\u0275fac=function(D){return new(D||w)(m.LFG(Ki),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(xa),m.LFG(C))},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();const Hs=new m.OlP("");let zl=(()=>{var w;class A{constructor(D,k,Q,pe,xe={}){this.urlSerializer=D,this.transitions=k,this.viewportScroller=Q,this.zone=pe,this.options=xe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},xe.scrollPositionRestoration=xe.scrollPositionRestoration||"disabled",xe.anchorScrolling=xe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof $i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof pr?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof pi&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof vn&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vn(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){var D,k;null===(D=this.routerEventsSubscription)||void 0===D||D.unsubscribe(),null===(k=this.scrollEventsSubscription)||void 0===k||k.unsubscribe()}}return(w=A).\u0275fac=function(D){m.$Z()},w.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac}),A})();function Zi(w,A){return{\u0275kind:w,\u0275providers:A}}function Bo(){const w=(0,m.f3M)(m.zs3);return A=>{var O,D;const k=w.get(m.z2F);if(A!==k.components[0])return;const Q=w.get(Ki),pe=w.get(Wl);1===w.get(Jt)&&Q.initialNavigation(),null===(O=w.get(_t,null,m.XFs.Optional))||void 0===O||O.setUpPreloading(),null===(D=w.get(Hs,null,m.XFs.Optional))||void 0===D||D.init(),Q.resetRootComponentType(k.componentTypes[0]),pe.closed||(pe.next(),pe.complete(),pe.unsubscribe())}}const Wl=new m.OlP("",{factory:()=>new Ze.x}),Jt=new m.OlP("",{providedIn:"root",factory:()=>1}),_t=new m.OlP("");function xt(w){return Zi(0,[{provide:_t,useExisting:er},{provide:xa,useExisting:w}])}const ka=new m.OlP("ROUTER_FORROOT_GUARD"),ql=[fe.Ye,{provide:Mt,useClass:jr},Ki,yr,{provide:$n,useFactory:function Oa(w){return w.routerState.root},deps:[Ki]},C,[]];function Yl(){return new m.PXZ("Router",Ki)}let wo=(()=>{var w;class A{constructor(D){}static forRoot(D,k){return{ngModule:A,providers:[ql,[],{provide:es,multi:!0,useValue:D},{provide:ka,useFactory:Gn,deps:[[Ki,new m.FiY,new m.tp0]]},{provide:Jn,useValue:k||{}},null!=k&&k.useHash?{provide:fe.S$,useClass:fe.Do}:{provide:fe.S$,useClass:fe.b0},{provide:Hs,useFactory:()=>{const w=(0,m.f3M)(fe.EM),A=(0,m.f3M)(m.R0b),O=(0,m.f3M)(Jn),D=(0,m.f3M)(F),k=(0,m.f3M)(Mt);return O.scrollOffset&&w.setOffset(O.scrollOffset),new zl(k,D,w,A,O)}},null!=k&&k.preloadingStrategy?xt(k.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:Yl},null!=k&&k.initialNavigation?Ia(k):[],null!=k&&k.bindToComponentInputs?Zi(8,[Pi,{provide:ir,useExisting:Pi}]).\u0275providers:[],[{provide:ml,useFactory:Bo},{provide:m.tb,multi:!0,useExisting:ml}]]}}static forChild(D){return{ngModule:A,providers:[{provide:es,multi:!0,useValue:D}]}}}return(w=A).\u0275fac=function(D){return new(D||w)(m.LFG(ka,8))},w.\u0275mod=m.oAB({type:w}),w.\u0275inj=m.cJS({}),A})();function Gn(w){return"guarded"}function Ia(w){return["disabled"===w.initialNavigation?Zi(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const A=(0,m.f3M)(Ki);return()=>{A.setUpLocationChangeListener()}}},{provide:Jt,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Zi(2,[{provide:Jt,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:A=>{const O=A.get(fe.V_,Promise.resolve());return()=>O.then(()=>new Promise(D=>{const k=A.get(Ki),Q=A.get(Wl);Zr(k,()=>{D(!0)}),A.get(F).afterPreactivation=()=>(D(!0),Q.closed?(0,_e.of)(void 0):Q),k.initialNavigation()}))}}]).\u0275providers:[]]}const ml=new m.OlP("")},3106:(Wt,Qe,L)=>{"use strict";L.d(Qe,{Z:()=>je});var m=L(9058),v=L(4537),W=L(534),ie=L(7879);class Ee{constructor(we,Ie){this._delegate=we,this.firebase=Ie,(0,W._addComponent)(we,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(we,Ie=W._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(we);return!ft.isInitialized()&&"EXPLICIT"===(null===(ce=ft.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:Ie})}_removeServiceInstance(we,Ie=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Ie)}_addComponent(we){(0,W._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,W._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),me=function Ne(){const ot=function Ue(ot){const we={},Ie={__esModule:!0,initializeApp:function Ze(ve,De={}){const ke=W.initializeApp(ve,De);if((0,m.r3)(we,ke.name))return we[ke.name];const $e=new ot(ke,Ie);return we[ke.name]=$e,$e},app:ft,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Ae(ve){const De=ve.name,ke=De.replace("-compat","");if(W._registerComponent(ve)&&"PUBLIC"===ve.type){const $e=(it=ft())=>{if("function"!=typeof it[ke])throw le.create("invalid-app-argument",{appName:De});return it[ke]()};void 0!==ve.serviceProps&&(0,m.ZB)($e,ve.serviceProps),Ie[ke]=$e,ot.prototype[ke]=function(...it){return this._getService.bind(this,De).apply(this,ve.multipleInstances?it:[])}}return"PUBLIC"===ve.type?Ie[ke]:null},removeApp:function ce(ve){delete we[ve]},useAsService:function Be(ve,De){return"serverAuth"===De?null:De},modularAPIs:W}};function ft(ve){if(!(0,m.r3)(we,ve=ve||W._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:ve});return we[ve]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function fe(){return Object.keys(we).map(ve=>we[ve])}}),ft.App=ot,Ie}(Ee);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function we(Ie){(0,m.ZB)(ot,Ie)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),ot}(),ee=new ie.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=me;!function Te(ot){(0,W.registerVersion)("@firebase/app-compat","0.2.13",ot)}()},534:(Wt,Qe,L)=>{"use strict";L.r(Qe),L.d(Qe,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>ri,_DEFAULT_ENTRY_NAME:()=>Ir,_addComponent:()=>un,_addOrOverwriteComponent:()=>Sr,_apps:()=>Rn,_clearComponents:()=>Mt,_components:()=>or,_getProvider:()=>Xt,_registerComponent:()=>Er,_removeServiceInstance:()=>Ur,deleteApp:()=>qr,getApp:()=>Lr,getApps:()=>Ii,initializeApp:()=>_i,onLog:()=>Hr,registerVersion:()=>Ar,setLogLevel:()=>fr});var m=L(5861),v=L(4537),W=L(7879),ie=L(9058);const Ee=(gt,rt)=>rt.some(Ft=>gt instanceof Ft);let _e,le;const me=new WeakMap,ee=new WeakMap,be=new WeakMap,ue=new WeakMap,Te=new WeakMap;let we={get(gt,rt,Ft){if(gt instanceof IDBTransaction){if("done"===rt)return ee.get(gt);if("objectStoreNames"===rt)return gt.objectStoreNames||be.get(gt);if("store"===rt)return Ft.objectStoreNames[1]?void 0:Ft.objectStore(Ft.objectStoreNames[0])}return Ze(gt[rt])},set:(gt,rt,Ft)=>(gt[rt]=Ft,!0),has:(gt,rt)=>gt instanceof IDBTransaction&&("done"===rt||"store"===rt)||rt in gt};function ft(gt){return"function"==typeof gt?function ce(gt){return gt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(gt)?function(...rt){return gt.apply(fe(this),rt),Ze(me.get(this))}:function(...rt){return Ze(gt.apply(fe(this),rt))}:function(rt,...Ft){const pn=gt.call(fe(this),rt,...Ft);return be.set(pn,rt.sort?rt.sort():[rt]),Ze(pn)}}(gt):(gt instanceof IDBTransaction&&function ot(gt){if(ee.has(gt))return;const rt=new Promise((Ft,pn)=>{const fn=()=>{gt.removeEventListener("complete",Qt),gt.removeEventListener("error",Yn),gt.removeEventListener("abort",Yn)},Qt=()=>{Ft(),fn()},Yn=()=>{pn(gt.error||new DOMException("AbortError","AbortError")),fn()};gt.addEventListener("complete",Qt),gt.addEventListener("error",Yn),gt.addEventListener("abort",Yn)});ee.set(gt,rt)}(gt),Ee(gt,function Ue(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(gt,we):gt)}function Ze(gt){if(gt instanceof IDBRequest)return function je(gt){const rt=new Promise((Ft,pn)=>{const fn=()=>{gt.removeEventListener("success",Qt),gt.removeEventListener("error",Yn)},Qt=()=>{Ft(Ze(gt.result)),fn()},Yn=()=>{pn(gt.error),fn()};gt.addEventListener("success",Qt),gt.addEventListener("error",Yn)});return rt.then(Ft=>{Ft instanceof IDBCursor&&me.set(Ft,gt)}).catch(()=>{}),Te.set(rt,gt),rt}(gt);if(ue.has(gt))return ue.get(gt);const rt=ft(gt);return rt!==gt&&(ue.set(gt,rt),Te.set(rt,gt)),rt}const fe=gt=>Te.get(gt),ve=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],ke=new Map;function $e(gt,rt){if(!(gt instanceof IDBDatabase)||rt in gt||"string"!=typeof rt)return;if(ke.get(rt))return ke.get(rt);const Ft=rt.replace(/FromIndex$/,""),pn=rt!==Ft,fn=De.includes(Ft);if(!(Ft in(pn?IDBIndex:IDBObjectStore).prototype)||!fn&&!ve.includes(Ft))return;const Qt=function(){var Yn=(0,m.Z)(function*(Dr,...Tr){const ur=this.transaction(Dr,fn?"readwrite":"readonly");let Zn=ur.store;return pn&&(Zn=Zn.index(Tr.shift())),(yield Promise.all([Zn[Ft](...Tr),fn&&ur.done]))[0]});return function(Tr){return Yn.apply(this,arguments)}}();return ke.set(rt,Qt),Qt}!function Ie(gt){we=gt(we)}(gt=>({...gt,get:(rt,Ft,pn)=>$e(rt,Ft)||gt.get(rt,Ft,pn),has:(rt,Ft)=>!!$e(rt,Ft)||gt.has(rt,Ft)}));class it{constructor(rt){this.container=rt}getPlatformInfoString(){return this.container.getProviders().map(Ft=>{if(function st(gt){const rt=gt.getComponent();return"VERSION"===(null==rt?void 0:rt.type)}(Ft)){const pn=Ft.getImmediate();return`${pn.library}/${pn.version}`}return null}).filter(Ft=>Ft).join(" ")}}const pt="@firebase/app",xn=new W.Yd("@firebase/app"),Ir="[DEFAULT]",rn={[pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rn=new Map,or=new Map;function un(gt,rt){try{gt.container.addComponent(rt)}catch(Ft){xn.debug(`Component ${rt.name} failed to register with FirebaseApp ${gt.name}`,Ft)}}function Sr(gt,rt){gt.container.addOrOverwriteComponent(rt)}function Er(gt){const rt=gt.name;if(or.has(rt))return xn.debug(`There were multiple attempts to register component ${rt}.`),!1;or.set(rt,gt);for(const Ft of Rn.values())un(Ft,gt);return!0}function Xt(gt,rt){const Ft=gt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ft&&Ft.triggerHeartbeat(),gt.container.getProvider(rt)}function Ur(gt,rt,Ft=Ir){Xt(gt,rt).clearInstance(Ft)}function Mt(){or.clear()}const zn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ai{constructor(rt,Ft,pn){this._isDeleted=!1,this._options=Object.assign({},rt),this._config=Object.assign({},Ft),this._name=Ft.name,this._automaticDataCollectionEnabled=Ft.automaticDataCollectionEnabled,this._container=pn,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this.checkDestroyed(),this._automaticDataCollectionEnabled=rt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(rt){this._isDeleted=rt}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const ri="9.23.0";function _i(gt,rt={}){let Ft=gt;"object"!=typeof rt&&(rt={name:rt});const pn=Object.assign({name:Ir,automaticDataCollectionEnabled:!1},rt),fn=pn.name;if("string"!=typeof fn||!fn)throw zn.create("bad-app-name",{appName:String(fn)});if(Ft||(Ft=(0,ie.aH)()),!Ft)throw zn.create("no-options");const Qt=Rn.get(fn);if(Qt){if((0,ie.vZ)(Ft,Qt.options)&&(0,ie.vZ)(pn,Qt.config))return Qt;throw zn.create("duplicate-app",{appName:fn})}const Yn=new v.H0(fn);for(const Tr of or.values())Yn.addComponent(Tr);const Dr=new ai(Ft,pn,Yn);return Rn.set(fn,Dr),Dr}function Lr(gt=Ir){const rt=Rn.get(gt);if(!rt&&gt===Ir&&(0,ie.aH)())return _i();if(!rt)throw zn.create("no-app",{appName:gt});return rt}function Ii(){return Array.from(Rn.values())}function qr(gt){return kr.apply(this,arguments)}function kr(){return(kr=(0,m.Z)(function*(gt){const rt=gt.name;Rn.has(rt)&&(Rn.delete(rt),yield Promise.all(gt.container.getProviders().map(Ft=>Ft.delete())),gt.isDeleted=!0)})).apply(this,arguments)}function Ar(gt,rt,Ft){var pn;let fn=null!==(pn=rn[gt])&&void 0!==pn?pn:gt;Ft&&(fn+=`-${Ft}`);const Qt=fn.match(/\s|\//),Yn=rt.match(/\s|\//);if(Qt||Yn){const Dr=[`Unable to register library "${fn}" with version "${rt}":`];return Qt&&Dr.push(`library name "${fn}" contains illegal characters (whitespace or "/")`),Qt&&Yn&&Dr.push("and"),Yn&&Dr.push(`version name "${rt}" contains illegal characters (whitespace or "/")`),void xn.warn(Dr.join(" "))}Er(new v.wA(`${fn}-version`,()=>({library:fn,version:rt}),"VERSION"))}function Hr(gt,rt){if(null!==gt&&"function"!=typeof gt)throw zn.create("invalid-log-argument");(0,W.Am)(gt,rt)}function fr(gt){(0,W.Ub)(gt)}const Cr="firebase-heartbeat-database",nr=1,Pe="firebase-heartbeat-store";let Z=null;function Y(){return Z||(Z=function Ae(gt,rt,{blocked:Ft,upgrade:pn,blocking:fn,terminated:Qt}={}){const Yn=indexedDB.open(gt,rt),Dr=Ze(Yn);return pn&&Yn.addEventListener("upgradeneeded",Tr=>{pn(Ze(Yn.result),Tr.oldVersion,Tr.newVersion,Ze(Yn.transaction),Tr)}),Ft&&Yn.addEventListener("blocked",Tr=>Ft(Tr.oldVersion,Tr.newVersion,Tr)),Dr.then(Tr=>{Qt&&Tr.addEventListener("close",()=>Qt()),fn&&Tr.addEventListener("versionchange",ur=>fn(ur.oldVersion,ur.newVersion,ur))}).catch(()=>{}),Dr}(Cr,nr,{upgrade:(gt,rt)=>{0===rt&&gt.createObjectStore(Pe)}}).catch(gt=>{throw zn.create("idb-open",{originalErrorMessage:gt.message})})),Z}function X(){return(X=(0,m.Z)(function*(gt){try{return yield(yield Y()).transaction(Pe).objectStore(Pe).get(Lt(gt))}catch(rt){if(rt instanceof ie.ZR)xn.warn(rt.message);else{const Ft=zn.create("idb-get",{originalErrorMessage:null==rt?void 0:rt.message});xn.warn(Ft.message)}}})).apply(this,arguments)}function ze(gt,rt){return yt.apply(this,arguments)}function yt(){return(yt=(0,m.Z)(function*(gt,rt){try{const pn=(yield Y()).transaction(Pe,"readwrite");yield pn.objectStore(Pe).put(rt,Lt(gt)),yield pn.done}catch(Ft){if(Ft instanceof ie.ZR)xn.warn(Ft.message);else{const pn=zn.create("idb-set",{originalErrorMessage:null==Ft?void 0:Ft.message});xn.warn(pn.message)}}})).apply(this,arguments)}function Lt(gt){return`${gt.name}!${gt.options.appId}`}class en{constructor(rt){this.container=rt,this._heartbeatsCache=null;const Ft=this.container.getProvider("app").getImmediate();this._storage=new Mr(Ft),this._heartbeatsCachePromise=this._storage.read().then(pn=>(this._heartbeatsCache=pn,pn))}triggerHeartbeat(){var rt=this;return(0,m.Z)(function*(){const pn=rt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fn=Sn();if(null===rt._heartbeatsCache&&(rt._heartbeatsCache=yield rt._heartbeatsCachePromise),rt._heartbeatsCache.lastSentHeartbeatDate!==fn&&!rt._heartbeatsCache.heartbeats.some(Qt=>Qt.date===fn))return rt._heartbeatsCache.heartbeats.push({date:fn,agent:pn}),rt._heartbeatsCache.heartbeats=rt._heartbeatsCache.heartbeats.filter(Qt=>{const Yn=new Date(Qt.date).valueOf();return Date.now()-Yn<=2592e6}),rt._storage.overwrite(rt._heartbeatsCache)})()}getHeartbeatsHeader(){var rt=this;return(0,m.Z)(function*(){if(null===rt._heartbeatsCache&&(yield rt._heartbeatsCachePromise),null===rt._heartbeatsCache||0===rt._heartbeatsCache.heartbeats.length)return"";const Ft=Sn(),{heartbeatsToSend:pn,unsentEntries:fn}=function vr(gt,rt=1024){const Ft=[];let pn=gt.slice();for(const fn of gt){const Qt=Ft.find(Yn=>Yn.agent===fn.agent);if(Qt){if(Qt.dates.push(fn.date),Ei(Ft)>rt){Qt.dates.pop();break}}else if(Ft.push({agent:fn.agent,dates:[fn.date]}),Ei(Ft)>rt){Ft.pop();break}pn=pn.slice(1)}return{heartbeatsToSend:Ft,unsentEntries:pn}}(rt._heartbeatsCache.heartbeats),Qt=(0,ie.L)(JSON.stringify({version:2,heartbeats:pn}));return rt._heartbeatsCache.lastSentHeartbeatDate=Ft,fn.length>0?(rt._heartbeatsCache.heartbeats=fn,yield rt._storage.overwrite(rt._heartbeatsCache)):(rt._heartbeatsCache.heartbeats=[],rt._storage.overwrite(rt._heartbeatsCache)),Qt})()}}function Sn(){return(new Date).toISOString().substring(0,10)}class Mr{constructor(rt){this.app=rt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var rt=this;return(0,m.Z)(function*(){return(yield rt._canUseIndexedDBPromise)&&(yield function Ce(gt){return X.apply(this,arguments)}(rt.app))||{heartbeats:[]}})()}overwrite(rt){var Ft=this;return(0,m.Z)(function*(){var pn;if(yield Ft._canUseIndexedDBPromise){const Qt=yield Ft.read();return ze(Ft.app,{lastSentHeartbeatDate:null!==(pn=rt.lastSentHeartbeatDate)&&void 0!==pn?pn:Qt.lastSentHeartbeatDate,heartbeats:rt.heartbeats})}})()}add(rt){var Ft=this;return(0,m.Z)(function*(){var pn;if(yield Ft._canUseIndexedDBPromise){const Qt=yield Ft.read();return ze(Ft.app,{lastSentHeartbeatDate:null!==(pn=rt.lastSentHeartbeatDate)&&void 0!==pn?pn:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,...rt.heartbeats]})}})()}}function Ei(gt){return(0,ie.L)(JSON.stringify({version:2,heartbeats:gt})).length}!function Qr(gt){Er(new v.wA("platform-logger",rt=>new it(rt),"PRIVATE")),Er(new v.wA("heartbeat",rt=>new en(rt),"PRIVATE")),Ar(pt,"0.9.13",gt),Ar(pt,"0.9.13","esm2017"),Ar("fire-js","")}("")},4537:(Wt,Qe,L)=>{"use strict";L.d(Qe,{H0:()=>Ue,wA:()=>W});var m=L(5861),v=L(9058);class W{constructor(me,ee,be){this.name=me,this.instanceFactory=ee,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(me){return this.instantiationMode=me,this}setMultipleInstances(me){return this.multipleInstances=me,this}setServiceProps(me){return this.serviceProps=me,this}setInstanceCreatedCallback(me){return this.onInstanceCreated=me,this}}const ie="[DEFAULT]";class Ee{constructor(me,ee){this.name=me,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(me){const ee=this.normalizeInstanceIdentifier(me);if(!this.instancesDeferred.has(ee)){const be=new v.BH;if(this.instancesDeferred.set(ee,be),this.isInitialized(ee)||this.shouldAutoInitialize())try{const ue=this.getOrInitializeService({instanceIdentifier:ee});ue&&be.resolve(ue)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(me){var ee;const be=this.normalizeInstanceIdentifier(null==me?void 0:me.identifier),ue=null!==(ee=null==me?void 0:me.optional)&&void 0!==ee&&ee;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(Te){if(ue)return null;throw Te}}getComponent(){return this.component}setComponent(me){if(me.name!==this.name)throw Error(`Mismatching Component ${me.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=me,this.shouldAutoInitialize()){if(function le(Ne){return"EAGER"===Ne.instantiationMode}(me))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[ee,be]of this.instancesDeferred.entries()){const ue=this.normalizeInstanceIdentifier(ee);try{const Te=this.getOrInitializeService({instanceIdentifier:ue});be.resolve(Te)}catch{}}}}clearInstance(me=ie){this.instancesDeferred.delete(me),this.instancesOptions.delete(me),this.instances.delete(me)}delete(){var me=this;return(0,m.Z)(function*(){const ee=Array.from(me.instances.values());yield Promise.all([...ee.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...ee.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(me=ie){return this.instances.has(me)}getOptions(me=ie){return this.instancesOptions.get(me)||{}}initialize(me={}){const{options:ee={}}=me,be=this.normalizeInstanceIdentifier(me.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ue=this.getOrInitializeService({instanceIdentifier:be,options:ee});for(const[Te,je]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(Te)&&je.resolve(ue);return ue}onInit(me,ee){var be;const ue=this.normalizeInstanceIdentifier(ee),Te=null!==(be=this.onInitCallbacks.get(ue))&&void 0!==be?be:new Set;Te.add(me),this.onInitCallbacks.set(ue,Te);const je=this.instances.get(ue);return je&&me(je,ue),()=>{Te.delete(me)}}invokeOnInitCallbacks(me,ee){const be=this.onInitCallbacks.get(ee);if(be)for(const ue of be)try{ue(me,ee)}catch{}}getOrInitializeService({instanceIdentifier:me,options:ee={}}){let be=this.instances.get(me);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=me,Ne===ie?void 0:Ne),options:ee}),this.instances.set(me,be),this.instancesOptions.set(me,ee),this.invokeOnInitCallbacks(be,me),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,me,be)}catch{}var Ne;return be||null}normalizeInstanceIdentifier(me=ie){return this.component?this.component.multipleInstances?me:ie:me}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(me){this.name=me,this.providers=new Map}addComponent(me){const ee=this.getProvider(me.name);if(ee.isComponentSet())throw new Error(`Component ${me.name} has already been registered with ${this.name}`);ee.setComponent(me)}addOrOverwriteComponent(me){this.getProvider(me.name).isComponentSet()&&this.providers.delete(me.name),this.addComponent(me)}getProvider(me){if(this.providers.has(me))return this.providers.get(me);const ee=new Ee(me,this);return this.providers.set(me,ee),ee}getProviders(){return Array.from(this.providers.values())}}},7879:(Wt,Qe,L)=>{"use strict";L.d(Qe,{Am:()=>Ne,Ub:()=>Ue,Yd:()=>le,in:()=>v});const m=[];var v=function(me){return me[me.DEBUG=0]="DEBUG",me[me.VERBOSE=1]="VERBOSE",me[me.INFO=2]="INFO",me[me.WARN=3]="WARN",me[me.ERROR=4]="ERROR",me[me.SILENT=5]="SILENT",me}(v||{});const W={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},ie=v.INFO,Ee={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},_e=(me,ee,...be)=>{if(ee<me.logLevel)return;const ue=(new Date).toISOString(),Te=Ee[ee];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Te](`[${ue}]  ${me.name}:`,...be)};class le{constructor(ee){this.name=ee,this._logLevel=ie,this._logHandler=_e,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in v))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?W[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...ee),this._logHandler(this,v.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...ee),this._logHandler(this,v.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,v.INFO,...ee),this._logHandler(this,v.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,v.WARN,...ee),this._logHandler(this,v.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...ee),this._logHandler(this,v.ERROR,...ee)}}function Ue(me){m.forEach(ee=>{ee.setLogLevel(me)})}function Ne(me,ee){for(const be of m){let ue=null;ee&&ee.level&&(ue=W[ee.level]),be.userLogHandler=null===me?null:(Te,je,...ot)=>{const we=ot.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");je>=(null!=ue?ue:Te.logLevel)&&me({level:v[je].toLowerCase(),message:we,args:ot,type:Te.name})}}}},5548:(Wt,Qe,L)=>{"use strict";L.d(Qe,{dr:()=>_i,YG:()=>fr,wI:()=>yt,W2:()=>Lt,jY:()=>Ei,Gu:()=>Qr,jP:()=>qi,Nd:()=>At,yW:()=>Tt,wd:()=>Wn,sr:()=>Yr,Pc:()=>P,r4:()=>xr});var m=L(5861),v=L(5879),ie=(L(95),L(7582)),Ee=L(4829),_e=L(5592),le=L(1631),Ue=L(4266),Ne=L(4674),me=L(7400);const ee=["addListener","removeListener"],be=["addEventListener","removeEventListener"],ue=["on","off"];function Te(h,T,_,N){if((0,Ne.m)(_)&&(N=_,_=void 0),N)return Te(h,T,_).pipe((0,me.Z)(N));const[J,Et]=function Ie(h){return(0,Ne.m)(h.addEventListener)&&(0,Ne.m)(h.removeEventListener)}(h)?be.map(on=>tn=>h[on](T,tn,_)):function ot(h){return(0,Ne.m)(h.addListener)&&(0,Ne.m)(h.removeListener)}(h)?ee.map(je(h,T)):function we(h){return(0,Ne.m)(h.on)&&(0,Ne.m)(h.off)}(h)?ue.map(je(h,T)):[];if(!J&&(0,Ue.z)(h))return(0,le.z)(on=>Te(on,T,_))((0,Ee.Xf)(h));if(!J)throw new TypeError("Invalid event target");return new _e.y(on=>{const tn=(...Fn)=>on.next(1<Fn.length?Fn:Fn[0]);return J(tn),()=>Et(tn)})}function je(h,T){return _=>N=>h[_](T,N)}var ce=L(8645),ft=L(5619),Ze=L(2572),fe=L(2096),Ae=L(5574),$e=(L(6506),L(8899),L(5298),L(8077),L(7876)),it=L(544),st=L(1273),pt=L(8354),xn=(L(1767),L(8946)),se=(L(7643),L(4587),L(6953)),Me=L(2181),Ge=L(4664),Xe=L(3997),qe=L(6814);const Ct=$e.i,Oe=["*"],Pn=h=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(h):"function"==typeof requestAnimationFrame?requestAnimationFrame(h):setTimeout(h),Sr=(h,T)=>{const _=h.prototype;T.forEach(N=>{Object.defineProperty(_,N,{get(){return this.el[N]},set(J){this.z.runOutsideAngular(()=>this.el[N]=J)}})})},Er=(h,T)=>{const _=h.prototype;T.forEach(N=>{_[N]=function(){const J=arguments;return this.z.runOutsideAngular(()=>this.el[N].apply(this.el,J))}})},Xt=(h,T,_)=>{_.forEach(N=>h[N]=Te(T,N))};function Mt(h){return function(_){const{defineCustomElementFn:N,inputs:J,methods:Et}=h;return void 0!==N&&N(),J&&Sr(_,J),Et&&Er(_,Et),_}}let _i=(()=>{let h=class{constructor(_,N,J){this.z=J,_.detach(),this.el=N.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},h.\u0275cmp=v.Xpm({type:h,selectors:[["ion-app"]],ngContentSelectors:Oe,decls:1,vars:0,template:function(_,N){1&_&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,ie.gn)([Mt({})],h),h})(),fr=(()=>{let h=class{constructor(_,N,J){this.z=J,_.detach(),this.el=N.nativeElement,Xt(this,this.el,["ionFocus","ionBlur"])}};return h.\u0275fac=function(_){return new(_||h)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},h.\u0275cmp=v.Xpm({type:h,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Oe,decls:1,vars:0,template:function(_,N){1&_&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,ie.gn)([Mt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],h),h})(),yt=(()=>{let h=class{constructor(_,N,J){this.z=J,_.detach(),this.el=N.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},h.\u0275cmp=v.Xpm({type:h,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Oe,decls:1,vars:0,template:function(_,N){1&_&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,ie.gn)([Mt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],h),h})(),Lt=(()=>{let h=class{constructor(_,N,J){this.z=J,_.detach(),this.el=N.nativeElement,Xt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return h.\u0275fac=function(_){return new(_||h)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},h.\u0275cmp=v.Xpm({type:h,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Oe,decls:1,vars:0,template:function(_,N){1&_&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,ie.gn)([Mt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],h),h})(),Ei=(()=>{let h=class{constructor(_,N,J){this.z=J,_.detach(),this.el=N.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},h.\u0275cmp=v.Xpm({type:h,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Oe,decls:1,vars:0,template:function(_,N){1&_&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,ie.gn)([Mt({inputs:["fixed"]})],h),h})(),Qr=(()=>{let h=class{constructor(_,N,J){this.z=J,_.detach(),this.el=N.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},h.\u0275cmp=v.Xpm({type:h,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Oe,decls:1,vars:0,template:function(_,N){1&_&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,ie.gn)([Mt({inputs:["collapse","mode","translucent"]})],h),h})(),At=(()=>{let h=class{constructor(_,N,J){this.z=J,_.detach(),this.el=N.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},h.\u0275cmp=v.Xpm({type:h,selectors:[["ion-row"]],ngContentSelectors:Oe,decls:1,vars:0,template:function(_,N){1&_&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,ie.gn)([Mt({})],h),h})(),Tt=(()=>{let h=class{constructor(_,N,J){this.z=J,_.detach(),this.el=N.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},h.\u0275cmp=v.Xpm({type:h,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Oe,decls:1,vars:0,template:function(_,N){1&_&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,ie.gn)([Mt({inputs:["color","mode"]})],h),h})(),Wn=(()=>{let h=class{constructor(_,N,J){this.z=J,_.detach(),this.el=N.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},h.\u0275cmp=v.Xpm({type:h,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Oe,decls:1,vars:0,template:function(_,N){1&_&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,ie.gn)([Mt({inputs:["color","size"]})],h),h})(),Yr=(()=>{let h=class{constructor(_,N,J){this.z=J,_.detach(),this.el=N.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(v.R0b))},h.\u0275cmp=v.Xpm({type:h,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Oe,decls:1,vars:0,template:function(_,N){1&_&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,ie.gn)([Mt({inputs:["color","mode"]})],h),h})(),jo=(()=>{class h{get(_,N){const J=oo();return J?J.get(_,N):null}getBoolean(_,N){const J=oo();return!!J&&J.getBoolean(_,N)}getNumber(_,N){const J=oo();return J?J.getNumber(_,N):0}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=v.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const bi=new v.OlP("USERCONFIG"),oo=()=>{if(typeof window<"u"){const h=window.Ionic;if(null!=h&&h.config)return h.config}return null};let so=(()=>{class h{constructor(_,N){this.doc=_,this.backButton=new ce.x,this.keyboardDidShow=new ce.x,this.keyboardDidHide=new ce.x,this.pause=new ce.x,this.resume=new ce.x,this.resize=new ce.x,N.run(()=>{var J;let Et;this.win=_.defaultView,this.backButton.subscribeWithPriority=function(on,tn){return this.subscribe(Fn=>Fn.register(on,sr=>N.run(()=>tn(sr))))},Fr(this.pause,_,"pause"),Fr(this.resume,_,"resume"),Fr(this.backButton,_,"ionBackButton"),Fr(this.resize,this.win,"resize"),Fr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Fr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(on=>{Et=on}),null!==(J=this.win)&&void 0!==J&&J.cordova?_.addEventListener("deviceready",()=>{Et("cordova")},{once:!0}):Et("dom")})}is(_){return(0,$e.a)(this.win,_)}platforms(){return(0,$e.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(_){return Oo(this.win.location.href,_)}isLandscape(){return!this.isPortrait()}isPortrait(){var _,N;return null===(_=(N=this.win).matchMedia)||void 0===_?void 0:_.call(N,"(orientation: portrait)").matches}testUserAgent(_){const N=this.win.navigator;return!!(null!=N&&N.userAgent&&N.userAgent.indexOf(_)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return h.\u0275fac=function(_){return new(_||h)(v.LFG(qe.K0),v.LFG(v.R0b))},h.\u0275prov=v.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const Oo=(h,T)=>{T=T.replace(/[[\]\\]/g,"\\$&");const N=new RegExp("[\\?&]"+T+"=([^&#]*)").exec(h);return N?decodeURIComponent(N[1].replace(/\+/g," ")):null},Fr=(h,T,_)=>{T&&T.addEventListener(_,N=>{h.next(null!=N?N.detail:void 0)})};let Yt=(()=>{class h{constructor(_,N,J,Et){this.location=N,this.serializer=J,this.router=Et,this.direction=ir,this.animated=Pi,this.guessDirection="forward",this.lastNavId=-1,Et&&Et.events.subscribe(on=>{if(on instanceof Ae.OD){const tn=on.restoredState?on.restoredState.navigationId:on.id;this.guessDirection=tn<this.lastNavId?"back":"forward",this.guessAnimation=on.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?on.id:tn}}),_.backButton.subscribeWithPriority(0,on=>{this.pop(),on()})}navigateForward(_,N={}){return this.setDirection("forward",N.animated,N.animationDirection,N.animation),this.navigate(_,N)}navigateBack(_,N={}){return this.setDirection("back",N.animated,N.animationDirection,N.animation),this.navigate(_,N)}navigateRoot(_,N={}){return this.setDirection("root",N.animated,N.animationDirection,N.animation),this.navigate(_,N)}back(_={animated:!0,animationDirection:"back"}){return this.setDirection("back",_.animated,_.animationDirection,_.animation),this.location.back()}pop(){var _=this;return(0,m.Z)(function*(){let N=_.topOutlet;for(;N;){if(yield N.pop())return!0;N=N.parentOutlet}return!1})()}setDirection(_,N,J,Et){this.direction=_,this.animated=qn(_,N,J),this.animationBuilder=Et}setTopOutlet(_){this.topOutlet=_}consumeTransition(){let N,_="root";const J=this.animationBuilder;return"auto"===this.direction?(_=this.guessDirection,N=this.guessAnimation):(N=this.animated,_=this.direction),this.direction=ir,this.animated=Pi,this.animationBuilder=void 0,{direction:_,animation:N,animationBuilder:J}}navigate(_,N){if(Array.isArray(_))return this.router.navigate(_,N);{const J=this.serializer.parse(_.toString());return void 0!==N.queryParams&&(J.queryParams={...N.queryParams}),void 0!==N.fragment&&(J.fragment=N.fragment),this.router.navigateByUrl(J,N)}}}return h.\u0275fac=function(_){return new(_||h)(v.LFG(so),v.LFG(qe.Ye),v.LFG(Ae.Hx),v.LFG(Ae.F0,8))},h.\u0275prov=v.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const qn=(h,T,_)=>{if(!1!==T){if(void 0!==_)return _;if("forward"===h||"back"===h)return h;if("root"===h&&!0===T)return"forward"}},ir="auto",Pi=void 0;class Ho{constructor(T={}){this.data=T}get(T){return this.data[T]}}let Jr=(()=>{class h{constructor(){this.zone=(0,v.f3M)(v.R0b),this.applicationRef=(0,v.f3M)(v.z2F)}create(_,N,J){return new zo(_,N,this.applicationRef,this.zone,J)}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=v.Yz7({token:h,factory:h.\u0275fac}),h})();class zo{constructor(T,_,N,J,Et){this.environmentInjector=T,this.injector=_,this.applicationRef=N,this.zone=J,this.elementReferenceKey=Et,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(T,_,N,J){return this.zone.run(()=>new Promise(Et=>{const on={...N};void 0!==this.elementReferenceKey&&(on[this.elementReferenceKey]=T),Et(Kr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,T,_,on,J,this.elementReferenceKey))}))}removeViewFromDom(T,_){return this.zone.run(()=>new Promise(N=>{const J=this.elRefMap.get(_);if(J){J.destroy(),this.elRefMap.delete(_);const Et=this.elEventsMap.get(_);Et&&(Et(),this.elEventsMap.delete(_))}N()}))}}const Kr=(h,T,_,N,J,Et,on,tn,Fn,sr,oi)=>{const go=v.zs3.create({providers:No(Fn),parent:_}),ki=(0,v.LMc)(tn,{environmentInjector:T,elementInjector:go}),Qo=ki.instance,Yi=ki.location.nativeElement;if(Fn&&(oi&&void 0!==Qo[oi]&&console.error(`[Ionic Error]: ${oi} is a reserved property when using ${on.tagName.toLowerCase()}. Rename or remove the "${oi}" property from ${tn.name}.`),Object.assign(Qo,Fn)),sr)for(const Ps of sr)Yi.classList.add(Ps);const hs=mi(h,Qo,Yi);return on.appendChild(Yi),N.attachView(ki.hostView),J.set(Yi,ki),Et.set(Yi,hs),Yi},Po=[pt.L,pt.a,pt.b,pt.c,pt.d],mi=(h,T,_)=>h.run(()=>{const N=Po.filter(J=>"function"==typeof T[J]).map(J=>{const Et=on=>T[J](on.detail);return _.addEventListener(J,Et),()=>_.removeEventListener(J,Et)});return()=>N.forEach(J=>J())}),wn=new v.OlP("NavParamsToken"),No=h=>[{provide:wn,useValue:h},{provide:Ho,useFactory:cs,deps:[wn]}],cs=h=>new Ho(h),Qn=(h,T)=>((h=h.filter(_=>_.stackId!==T.stackId)).push(T),h),ci=(h,T)=>{const _=h.createUrlTree(["."],{relativeTo:T});return h.serializeUrl(_)},Rs=(h,T)=>{if(!h)return;const _=fo(T);for(let N=0;N<_.length;N++){if(N>=h.length)return _[N];if(_[N]!==h[N])return}},fo=h=>h.split("/").map(T=>T.trim()).filter(T=>""!==T),Ui=h=>{h&&(h.ref.destroy(),h.unlistenEvents())};class rs{constructor(T,_,N,J,Et,on){this.containerEl=_,this.router=N,this.navCtrl=J,this.zone=Et,this.location=on,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==T?fo(T):void 0}createView(T,_){var N;const J=ci(this.router,_),Et=null==T||null===(N=T.location)||void 0===N?void 0:N.nativeElement,on=mi(this.zone,T.instance,Et);return{id:this.nextId++,stackId:Rs(this.tabsPrefix,J),unlistenEvents:on,element:Et,ref:T,url:J}}getExistingView(T){const _=ci(this.router,T),N=this.views.find(J=>J.url===_);return N&&N.ref.changeDetectorRef.reattach(),N}setActive(T){var _,N;const J=this.navCtrl.consumeTransition();let{direction:Et,animation:on,animationBuilder:tn}=J;const Fn=this.activeView,sr=((h,T)=>!T||h.stackId!==T.stackId)(T,Fn);sr&&(Et="back",on=void 0);const oi=this.views.slice();let go;const ki=this.router;ki.getCurrentNavigation?go=ki.getCurrentNavigation():null!==(_=ki.navigations)&&void 0!==_&&_.value&&(go=ki.navigations.value),null!==(N=go)&&void 0!==N&&null!==(N=N.extras)&&void 0!==N&&N.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Qo=this.views.includes(T),Yi=this.insertView(T,Et);Qo||T.ref.changeDetectorRef.detectChanges();const hs=T.animationBuilder;return void 0===tn&&"back"===Et&&!sr&&void 0!==hs&&(tn=hs),Fn&&(Fn.animationBuilder=tn),this.zone.runOutsideAngular(()=>this.wait(()=>(Fn&&Fn.ref.changeDetectorRef.detach(),T.ref.changeDetectorRef.reattach(),this.transition(T,Fn,on,this.canGoBack(1),!1,tn).then(()=>po(T,Yi,oi,this.location,this.zone)).then(()=>({enteringView:T,direction:Et,animation:on,tabSwitch:sr})))))}canGoBack(T,_=this.getActiveStackId()){return this.getStack(_).length>T}pop(T,_=this.getActiveStackId()){return this.zone.run(()=>{const N=this.getStack(_);if(N.length<=T)return Promise.resolve(!1);const J=N[N.length-T-1];let Et=J.url;const on=J.savedData;if(on){var tn;const sr=on.get("primary");null!=sr&&null!==(tn=sr.route)&&void 0!==tn&&null!==(tn=tn._routerState)&&void 0!==tn&&tn.snapshot.url&&(Et=sr.route._routerState.snapshot.url)}const{animationBuilder:Fn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Et,{...J.savedExtras,animation:Fn}).then(()=>!0)})}startBackTransition(){const T=this.activeView;if(T){const _=this.getStack(T.stackId),N=_[_.length-2],J=N.animationBuilder;return this.wait(()=>this.transition(N,T,"back",this.canGoBack(2),!0,J))}return Promise.resolve()}endBackTransition(T){T?(this.skipTransition=!0,this.pop(1)):this.activeView&&Un(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(T){const _=this.getStack(T);return _.length>0?_[_.length-1]:void 0}getRootUrl(T){const _=this.getStack(T);return _.length>0?_[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ui),this.activeView=void 0,this.views=[]}getStack(T){return this.views.filter(_=>_.stackId===T)}insertView(T,_){return this.activeView=T,this.views=((h,T,_)=>"root"===_?Qn(h,T):"forward"===_?((h,T)=>(h.indexOf(T)>=0?h=h.filter(N=>N.stackId!==T.stackId||N.id<=T.id):h.push(T),h))(h,T):((h,T)=>h.indexOf(T)>=0?h.filter(N=>N.stackId!==T.stackId||N.id<=T.id):Qn(h,T))(h,T))(this.views,T,_),this.views.slice()}transition(T,_,N,J,Et,on){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(_===T)return Promise.resolve(!1);const tn=T?T.element:void 0,Fn=_?_.element:void 0,sr=this.containerEl;return tn&&tn!==Fn&&(tn.classList.add("ion-page"),tn.classList.add("ion-page-invisible"),tn.parentElement!==sr&&sr.appendChild(tn),sr.commit)?sr.commit(tn,Fn,{duration:void 0===N?0:void 0,direction:N,showGoBack:J,progressAnimation:Et,animationBuilder:on}):Promise.resolve(!1)}wait(T){var _=this;return(0,m.Z)(function*(){void 0!==_.runningTask&&(yield _.runningTask,_.runningTask=void 0);const N=_.runningTask=T();return N.finally(()=>_.runningTask=void 0),N})()}}const po=(h,T,_,N,J)=>"function"==typeof requestAnimationFrame?new Promise(Et=>{requestAnimationFrame(()=>{Un(h,T,_,N,J),Et()})}):Promise.resolve(),Un=(h,T,_,N,J)=>{J.run(()=>_.filter(Et=>!T.includes(Et)).forEach(Ui)),T.forEach(Et=>{const tn=N.path().split("?")[0].split("#")[0];if(Et!==h&&Et.url!==tn){const Fn=Et.element;Fn.setAttribute("aria-hidden","true"),Fn.classList.add("ion-page-hidden"),Et.ref.changeDetectorRef.detach()}})};let qi=(()=>{class h{constructor(_,N,J,Et,on,tn,Fn,sr){this.parentOutlet=sr,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ft.X(null),this.activated=null,this._activatedRoute=null,this.name=Ae.eC,this.stackEvents=new v.vpe,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.parentContexts=(0,v.f3M)(Ae.y6),this.location=(0,v.f3M)(v.s_b),this.environmentInjector=(0,v.f3M)(v.lqb),this.inputBinder=(0,v.f3M)(Do,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,v.f3M)(jo),this.navCtrl=(0,v.f3M)(Yt),this.nativeEl=Et.nativeElement,this.name=_||Ae.eC,this.tabsPrefix="true"===N?ci(on,Fn):void 0,this.stackCtrl=new rs(this.tabsPrefix,this.nativeEl,on,this.navCtrl,tn,J),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(_){this.nativeEl.animation=_}set animated(_){this.nativeEl.animated=_}set swipeGesture(_){this._swipeGesture=_,this.nativeEl.swipeHandler=_?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:N=>this.stackCtrl.endBackTransition(N)}:void 0}ngOnDestroy(){var _;this.stackCtrl.destroy(),null===(_=this.inputBinder)||void 0===_||_.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const _=this.getContext();null!=_&&_.route&&this.activateWith(_.route,_.injector)}new Promise(_=>(0,it.c)(this.nativeEl,_)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(_,N){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const N=this.getContext();this.activatedView.savedData=new Map(N.children.contexts);const J=this.activatedView.savedData.get("primary");if(J&&N.route&&(J.route={...N.route}),this.activatedView.savedExtras={},N.route){const Et=N.route.snapshot;this.activatedView.savedExtras.queryParams=Et.queryParams,this.activatedView.savedExtras.fragment=Et.fragment}}const _=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,N){var J;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;let Et,on=this.stackCtrl.getExistingView(_);if(on){Et=this.activated=on.ref;const Fn=on.savedData;Fn&&(this.getContext().children.contexts=Fn),this.updateActivatedRouteProxy(Et.instance,_)}else{var tn;const Fn=_._futureSnapshot,sr=this.parentContexts.getOrCreateContext(this.name).children,oi=new ft.X(null),go=this.createActivatedRouteProxy(oi,_),ki=new ko(go,sr,this.location.injector),Qo=null!==(tn=Fn.routeConfig.component)&&void 0!==tn?tn:Fn.component;Et=this.activated=this.location.createComponent(Qo,{index:this.location.length,injector:ki,environmentInjector:null!=N?N:this.environmentInjector}),oi.next(Et.instance),on=this.stackCtrl.createView(this.activated,_),this.proxyMap.set(Et.instance,go),this.currentActivatedRoute$.next({component:Et.instance,activatedRoute:_})}null===(J=this.inputBinder)||void 0===J||J.bindActivatedRouteToOutletComponent(this),this.activatedView=on,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(on).then(Fn=>{this.activateEvents.emit(Et.instance),this.stackEvents.emit(Fn)})}canGoBack(_=1,N){return this.stackCtrl.canGoBack(_,N)}pop(_=1,N){return this.stackCtrl.pop(_,N)}getLastUrl(_){const N=this.stackCtrl.getLastUrl(_);return N?N.url:void 0}getLastRouteView(_){return this.stackCtrl.getLastUrl(_)}getRootView(_){return this.stackCtrl.getRootUrl(_)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(_,N){const J=new Ae.gz;return J._futureSnapshot=N._futureSnapshot,J._routerState=N._routerState,J.snapshot=N.snapshot,J.outlet=N.outlet,J.component=N.component,J._paramMap=this.proxyObservable(_,"paramMap"),J._queryParamMap=this.proxyObservable(_,"queryParamMap"),J.url=this.proxyObservable(_,"url"),J.params=this.proxyObservable(_,"params"),J.queryParams=this.proxyObservable(_,"queryParams"),J.fragment=this.proxyObservable(_,"fragment"),J.data=this.proxyObservable(_,"data"),J}proxyObservable(_,N){return _.pipe((0,Me.h)(J=>!!J),(0,Ge.w)(J=>this.currentActivatedRoute$.pipe((0,Me.h)(Et=>null!==Et&&Et.component===J),(0,Ge.w)(Et=>Et&&Et.activatedRoute[N]),(0,Xe.x)())))}updateActivatedRouteProxy(_,N){const J=this.proxyMap.get(_);if(!J)throw new Error("Could not find activated route proxy for view");J._futureSnapshot=N._futureSnapshot,J._routerState=N._routerState,J.snapshot=N.snapshot,J.outlet=N.outlet,J.component=N.component,this.currentActivatedRoute$.next({component:_,activatedRoute:N})}}return h.\u0275fac=function(_){return new(_||h)(v.$8M("name"),v.$8M("tabs"),v.Y36(qe.Ye),v.Y36(v.SBq),v.Y36(Ae.F0),v.Y36(v.R0b),v.Y36(Ae.gz),v.Y36(h,12))},h.\u0275dir=v.lG2({type:h,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),h})();class ko{constructor(T,_,N){this.route=T,this.childContexts=_,this.parent=N}get(T,_){return T===Ae.gz?this.route:T===Ae.y6?this.childContexts:this.parent.get(T,_)}}const Do=new v.OlP("");let ji=(()=>{class h{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){var N;null===(N=this.outletDataSubscriptions.get(_))||void 0===N||N.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:N}=_,J=(0,Ze.a)([N.queryParams,N.params,N.data]).pipe((0,Ge.w)(([Et,on,tn],Fn)=>(tn={...Et,...on,...tn},0===Fn?(0,fe.of)(tn):Promise.resolve(tn)))).subscribe(Et=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(_);const on=(0,v.qFp)(N.component);if(on)for(const{templateName:tn}of on.inputs)_.activatedComponentRef.setInput(tn,Et[tn]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,J)}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=v.Yz7({token:h,factory:h.\u0275fac}),h})();class us{constructor(T){this.ctrl=T}create(T){return this.ctrl.create(T||{})}dismiss(T,_,N){return this.ctrl.dismiss(T,_,N)}getTop(){return this.ctrl.getTop()}}let ga=(()=>{class h extends us{constructor(){super(xn.m),this.angularDelegate=(0,v.f3M)(Jr),this.injector=(0,v.f3M)(v.zs3),this.environmentInjector=(0,v.f3M)(v.lqb)}create(_){return super.create({..._,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=v.Yz7({token:h,factory:h.\u0275fac}),h})(),ea=(()=>{class h extends us{constructor(){super(xn.c),this.angularDelegate=(0,v.f3M)(Jr),this.injector=(0,v.f3M)(v.zs3),this.environmentInjector=(0,v.f3M)(v.lqb)}create(_){return super.create({..._,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=v.Yz7({token:h,factory:h.\u0275fac}),h})();class xr{shouldDetach(T){return!1}shouldAttach(T){return!1}store(T,_){}retrieve(T){return null}shouldReuseRoute(T,_){if(T.routeConfig!==_.routeConfig)return!1;const N=T.params,J=_.params,Et=Object.keys(N),on=Object.keys(J);if(Et.length!==on.length)return!1;for(const tn of Et)if(J[tn]!==N[tn])return!1;return!0}}const Wo=(h,T,_)=>()=>{if(T.defaultView&&typeof window<"u"){(0,st.s)({...h,_zoneGate:Et=>_.run(Et)});const J="__zone_symbol__addEventListener"in T.body?"__zone_symbol__addEventListener":"addEventListener";return function Bt(){var h=[];if(typeof window<"u"){var T=window;(!T.customElements||T.Element&&(!T.Element.prototype.closest||!T.Element.prototype.matches||!T.Element.prototype.remove||!T.Element.prototype.getRootNode))&&h.push(L.e(6748).then(L.t.bind(L,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||T.NodeList&&!T.NodeList.prototype.forEach||!T.fetch||!function(){try{var N=new URL("b","http://a");return N.pathname="c%20d","http://a/c%20d"===N.href&&N.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&h.push(L.e(2214).then(L.t.bind(L,2668,23)))}return Promise.all(h)}().then(()=>((h,T)=>typeof window>"u"?Promise.resolve():(0,se.p)().then(()=>(Ct(),(0,se.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),T))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Pn,jmp:Et=>_.runOutsideAngular(Et),ael(Et,on,tn,Fn){Et[J](on,tn,Fn)},rel(Et,on,tn,Fn){Et.removeEventListener(on,tn,Fn)}}))}};let P=(()=>{class h{static forRoot(_){return{ngModule:h,providers:[{provide:bi,useValue:_},{provide:v.ip1,useFactory:Wo,multi:!0,deps:[bi,qe.K0,v.R0b]},{provide:Do,useFactory:re,deps:[Ae.F0]}]}}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275mod=v.oAB({type:h}),h.\u0275inj=v.cJS({providers:[Jr,ga,ea],imports:[qe.ez]}),h})();function re(h){return null!=h&&h.componentInputBindingEnabled?new ji:null}},3182:(Wt,Qe,L)=>{"use strict";L.d(Qe,{C6:()=>m.getApps,Mq:()=>m.getApp});var m=L(534);(0,m.registerVersion)("firebase","9.23.0","app")},7142:(Wt,Qe,L)=>{"use strict";L.d(Qe,{Z:()=>m.Z});var m=L(3106);m.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(Wt,Qe,L)=>{"use strict";L.r(Qe);var m=L(5861),v=L(3106),W=L(9058),ie=L(534),Ee=L(7582),_e=L(7879),le=L(4537);const Ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const je=function ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ot=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},we=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ce=new _e.Yd("@firebase/auth");function Ze(I,...d){ce.logLevel<=_e.in.ERROR&&ce.error(`Auth (${ie.SDK_VERSION}): ${I}`,...d)}function fe(I,...d){throw De(I,...d)}function Ae(I,...d){return De(I,...d)}function Be(I,d,p){const E=Object.assign(Object.assign({},ot()),{[d]:p});return new W.LL("auth","Firebase",E).create(d,{appName:I.name})}function ve(I,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&fe(I,"argument-error"),Be(I,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function De(I,...d){if("string"!=typeof I){const p=d[0],E=[...d.slice(1)];return E[0]&&(E[0].appName=I.name),I._errorFactory.create(p,...E)}return we.create(I,...d)}function ke(I,d,...p){if(!I)throw De(d,...p)}function $e(I){const d="INTERNAL ASSERTION FAILED: "+I;throw Ze(d),new Error(d)}function it(I,d){I||$e(d)}function st(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function pt(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class lt{constructor(d,p){this.shortDelay=d,this.longDelay=p,it(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function xn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function se(I,d){it(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class de{static initialize(d,p,E){this.fetchImpl=d,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ge=new lt(3e4,6e4);function Xe(I,d){return I.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:I.tenantId}):d}function qe(I,d,p,E){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,m.Z)(function*(I,d,p,E,j={}){return Ct(I,j,(0,m.Z)(function*(){let q={},Re={};E&&("GET"===d?Re=E:q={body:JSON.stringify(E)});const dt=(0,W.xO)(Object.assign({key:I.config.apiKey},Re)).slice(1),jt=yield I._getAdditionalHeaders();return jt["Content-Type"]="application/json",I.languageCode&&(jt["X-Firebase-Locale"]=I.languageCode),de.fetch()(It(I,I.config.apiHost,p,dt),Object.assign({method:d,headers:jt,referrerPolicy:"no-referrer"},q))}))})).apply(this,arguments)}function Ct(I,d,p){return ct.apply(this,arguments)}function ct(){return(ct=(0,m.Z)(function*(I,d,p){I._canInitEmulator=!1;const E=Object.assign(Object.assign({},Me),d);try{const j=new Dt(I),q=yield Promise.race([p(),j.promise]);j.clearNetworkTimeout();const Re=yield q.json();if("needConfirmation"in Re)throw $t(I,"account-exists-with-different-credential",Re);if(q.ok&&!("errorMessage"in Re))return Re;{const dt=q.ok?Re.errorMessage:Re.error.message,[jt,ln]=dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===jt)throw $t(I,"credential-already-in-use",Re);if("EMAIL_EXISTS"===jt)throw $t(I,"email-already-in-use",Re);if("USER_DISABLED"===jt)throw $t(I,"user-disabled",Re);const Mn=E[jt]||jt.toLowerCase().replace(/[_\s]+/g,"-");if(ln)throw Be(I,Mn,ln);fe(I,Mn)}}catch(j){if(j instanceof W.ZR)throw j;fe(I,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function ht(I,d,p,E){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,m.Z)(function*(I,d,p,E,j={}){const q=yield qe(I,d,p,E,j);return"mfaPendingCredential"in q&&fe(I,"multi-factor-auth-required",{_serverResponse:q}),q})).apply(this,arguments)}function It(I,d,p,E){const j=`${d}${p}?${E}`;return I.config.emulator?se(I.config,j):`${I.config.apiScheme}://${j}`}class Dt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(Ae(this.auth,"network-request-failed")),Ge.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $t(I,d,p){const E={appName:I.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const j=Ae(I,d,E);return j.customData._tokenResponse=p,j}function cn(){return(cn=(0,m.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Pn(){return(Pn=(0,m.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Dn(){return(Dn=(0,m.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Vn(I){if(I)try{const d=new Date(Number(I));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Ir(){return(Ir=(0,m.Z)(function*(I,d=!1){const p=(0,W.m9)(I),E=yield p.getIdToken(d),j=Rn(E);ke(j&&j.exp&&j.auth_time&&j.iat,p.auth,"internal-error");const q="object"==typeof j.firebase?j.firebase:void 0,Re=null==q?void 0:q.sign_in_provider;return{claims:j,token:E,authTime:Vn(rn(j.auth_time)),issuedAtTime:Vn(rn(j.iat)),expirationTime:Vn(rn(j.exp)),signInProvider:Re||null,signInSecondFactor:(null==q?void 0:q.sign_in_second_factor)||null}})).apply(this,arguments)}function rn(I){return 1e3*Number(I)}function Rn(I){const[d,p,E]=I.split(".");if(void 0===d||void 0===p||void 0===E)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,W.tV)(p);return j?JSON.parse(j):(Ze("Failed to decode base64 JWT payload"),null)}catch(j){return Ze("Caught error parsing JWT payload as JSON",null==j?void 0:j.toString()),null}}function un(I,d){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,m.Z)(function*(I,d,p=!1){if(p)return d;try{return yield d}catch(E){throw E instanceof W.ZR&&function Er({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(E)&&I.auth.currentUser===I&&(yield I.auth.signOut()),E}})).apply(this,arguments)}class Xt{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const j=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(d);this.timerId=setTimeout((0,m.Z)(function*(){yield p.iteration()}),E)}iteration(){var d=this;return(0,m.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===(null==p?void 0:p.code)&&d.schedule(!0))}d.schedule()})()}}class Ur{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vn(this.lastLoginAt),this.creationTime=Vn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mt(I){return jr.apply(this,arguments)}function jr(){return jr=(0,m.Z)(function*(I){var d;const p=I.auth,E=yield I.getIdToken(),j=yield un(I,function On(I,d){return Dn.apply(this,arguments)}(p,{idToken:E}));ke(null==j?void 0:j.users.length,p,"internal-error");const q=j.users[0];I._notifyReloadListener(q);const Re=null!==(d=q.providerUserInfo)&&void 0!==d&&d.length?function _i(I){return I.map(d=>{var{providerId:p}=d,E=(0,Ee._T)(d,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(q.providerUserInfo):[],dt=function ri(I,d){return[...I.filter(E=>!d.some(j=>j.providerId===E.providerId)),...d]}(I.providerData,Re),Mn=!!I.isAnonymous&&!(I.email&&q.passwordHash||null!=dt&&dt.length),kn={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:dt,metadata:new Ur(q.createdAt,q.lastLoginAt),isAnonymous:Mn};Object.assign(I,kn)}),jr.apply(this,arguments)}function ai(){return(ai=(0,m.Z)(function*(I){const d=(0,W.m9)(I);yield Mt(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ii(){return(Ii=(0,m.Z)(function*(I,d){const p=yield Ct(I,{},(0,m.Z)(function*(){const E=(0,W.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:j,apiKey:q}=I.config,Re=It(I,j,"/v1/token",`key=${q}`),dt=yield I._getAdditionalHeaders();return dt["Content-Type"]="application/x-www-form-urlencoded",de.fetch()(Re,{method:"POST",headers:dt,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ke(d.idToken,"internal-error"),ke(typeof d.idToken<"u","internal-error"),ke(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function or(I){const d=Rn(I);return ke(d,"internal-error"),ke(typeof d.exp<"u","internal-error"),ke(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var E=this;return(0,m.Z)(function*(){return ke(!E.accessToken||E.refreshToken,d,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(d,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var E=this;return(0,m.Z)(function*(){const{accessToken:j,refreshToken:q,expiresIn:Re}=yield function Lr(I,d){return Ii.apply(this,arguments)}(d,p);E.updateTokensAndExpiration(j,q,Number(Re))})()}updateTokensAndExpiration(d,p,E){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(d,p){const{refreshToken:E,accessToken:j,expirationTime:q}=p,Re=new qr;return E&&(ke("string"==typeof E,"internal-error",{appName:d}),Re.refreshToken=E),j&&(ke("string"==typeof j,"internal-error",{appName:d}),Re.accessToken=j),q&&(ke("number"==typeof q,"internal-error",{appName:d}),Re.expirationTime=q),Re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new qr,this.toJSON())}_performRefresh(){return $e("not implemented")}}function kr(I,d){ke("string"==typeof I||typeof I>"u","internal-error",{appName:d})}class Ar{constructor(d){var{uid:p,auth:E,stsTokenManager:j}=d,q=(0,Ee._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=q.displayName||null,this.email=q.email||null,this.emailVerified=q.emailVerified||!1,this.phoneNumber=q.phoneNumber||null,this.photoURL=q.photoURL||null,this.isAnonymous=q.isAnonymous||!1,this.tenantId=q.tenantId||null,this.providerData=q.providerData?[...q.providerData]:[],this.metadata=new Ur(q.createdAt||void 0,q.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,m.Z)(function*(){const E=yield un(p,p.stsTokenManager.getToken(p.auth,d));return ke(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(d){return function hr(I){return Ir.apply(this,arguments)}(this,d)}reload(){return function zn(I){return ai.apply(this,arguments)}(this)}_assign(d){this!==d&&(ke(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new Ar(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var E=this;return(0,m.Z)(function*(){let j=!1;d.idToken&&d.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(d),j=!0),p&&(yield Mt(E)),yield E.auth._persistUserIfCurrent(E),j&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var d=this;return(0,m.Z)(function*(){const p=yield d.getIdToken();return yield un(d,function mn(I,d){return cn.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var E,j,q,Re,dt,jt,ln,Mn;const kn=null!==(E=p.displayName)&&void 0!==E?E:void 0,eo=null!==(j=p.email)&&void 0!==j?j:void 0,Ms=null!==(q=p.phoneNumber)&&void 0!==q?q:void 0,sc=null!==(Re=p.photoURL)&&void 0!==Re?Re:void 0,kc=null!==(dt=p.tenantId)&&void 0!==dt?dt:void 0,ac=null!==(jt=p._redirectEventId)&&void 0!==jt?jt:void 0,Fc=null!==(ln=p.createdAt)&&void 0!==ln?ln:void 0,xl=null!==(Mn=p.lastLoginAt)&&void 0!==Mn?Mn:void 0,{uid:lc,emailVerified:ll,isAnonymous:dd,providerData:Iu,stsTokenManager:Cf}=p;ke(lc&&Cf,d,"internal-error");const zp=qr.fromJSON(this.name,Cf);ke("string"==typeof lc,d,"internal-error"),kr(kn,d.name),kr(eo,d.name),ke("boolean"==typeof ll,d,"internal-error"),ke("boolean"==typeof dd,d,"internal-error"),kr(Ms,d.name),kr(sc,d.name),kr(kc,d.name),kr(ac,d.name),kr(Fc,d.name),kr(xl,d.name);const cc=new Ar({uid:lc,auth:d,email:eo,emailVerified:ll,displayName:kn,isAnonymous:dd,photoURL:sc,phoneNumber:Ms,tenantId:kc,stsTokenManager:zp,createdAt:Fc,lastLoginAt:xl});return Iu&&Array.isArray(Iu)&&(cc.providerData=Iu.map(Gp=>Object.assign({},Gp))),ac&&(cc._redirectEventId=ac),cc}static _fromIdTokenResponse(d,p,E=!1){return(0,m.Z)(function*(){const j=new qr;j.updateFromServerResponse(p);const q=new Ar({uid:p.localId,auth:d,stsTokenManager:j,isAnonymous:E});return yield Mt(q),q})()}}const Hr=new Map;function fr(I){it(I instanceof Function,"Expected a class definition");let d=Hr.get(I);return d?(it(d instanceof I,"Instance stored in cache mismatched with class"),d):(d=new I,Hr.set(I,d),d)}const nr=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(p,E){var j=this;return(0,m.Z)(function*(){j.storage[p]=E})()}_get(p){var E=this;return(0,m.Z)(function*(){const j=E.storage[p];return void 0===j?null:j})()}_remove(p){var E=this;return(0,m.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return I.type="NONE",I})();function Pe(I,d,p){return`firebase:${I}:${d}:${p}`}class Z{constructor(d,p,E){this.persistence=d,this.auth=p,this.userKey=E;const{config:j,name:q}=this.auth;this.fullUserKey=Pe(this.userKey,j.apiKey,q),this.fullPersistenceKey=Pe("persistence",j.apiKey,q),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,m.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?Ar._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,m.Z)(function*(){if(p.persistence===d)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,E="authUser"){return(0,m.Z)(function*(){if(!p.length)return new Z(fr(nr),d,E);const j=(yield Promise.all(p.map(function(){var ln=(0,m.Z)(function*(Mn){if(yield Mn._isAvailable())return Mn});return function(Mn){return ln.apply(this,arguments)}}()))).filter(ln=>ln);let q=j[0]||fr(nr);const Re=Pe(E,d.config.apiKey,d.name);let dt=null;for(const ln of p)try{const Mn=yield ln._get(Re);if(Mn){const kn=Ar._fromJSON(d,Mn);ln!==q&&(dt=kn),q=ln;break}}catch{}const jt=j.filter(ln=>ln._shouldAllowMigration);return q._shouldAllowMigration&&jt.length?(q=jt[0],dt&&(yield q._set(Re,dt.toJSON())),yield Promise.all(p.map(function(){var ln=(0,m.Z)(function*(Mn){if(Mn!==q)try{yield Mn._remove(Re)}catch{}});return function(Mn){return ln.apply(this,arguments)}}())),new Z(q,d,E)):new Z(q,d,E)})()}}function Y(I){const d=I.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(yt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ce(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(sn(d))return"Blackberry";if(hn(d))return"Webos";if(X(d))return"Safari";if((d.includes("chrome/")||ze(d))&&!d.includes("edge/"))return"Chrome";if(Lt(d))return"Android";{const E=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Ce(I=(0,W.z$)()){return/firefox\//i.test(I)}function X(I=(0,W.z$)()){const d=I.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function ze(I=(0,W.z$)()){return/crios\//i.test(I)}function yt(I=(0,W.z$)()){return/iemobile/i.test(I)}function Lt(I=(0,W.z$)()){return/android/i.test(I)}function sn(I=(0,W.z$)()){return/blackberry/i.test(I)}function hn(I=(0,W.z$)()){return/webos/i.test(I)}function en(I=(0,W.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ei(I=(0,W.z$)()){return en(I)||Lt(I)||hn(I)||sn(I)||/windows phone/i.test(I)||yt(I)}function gt(I,d=[]){let p;switch(I){case"Browser":p=Y((0,W.z$)());break;case"Worker":p=`${Y((0,W.z$)())}-${I}`;break;default:p=I}const E=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${ie.SDK_VERSION}/${E}`}function Ft(){return(Ft=(0,m.Z)(function*(I){return(yield qe(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pn(I,d){return fn.apply(this,arguments)}function fn(){return(fn=(0,m.Z)(function*(I,d){return qe(I,"GET","/v2/recaptchaConfig",Xe(I,d))})).apply(this,arguments)}function Qt(I){return void 0!==I&&void 0!==I.getResponse}function Yn(I){return void 0!==I&&void 0!==I.enterprise}class Dr{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function ur(I){return new Promise((d,p)=>{const E=document.createElement("script");E.setAttribute("src",I),E.onload=d,E.onerror=j=>{const q=Ae("internal-error");q.customData=j,p(q)},E.type="text/javascript",E.charset="UTF-8",function Tr(){var I,d;return null!==(d=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==d?d:document}().appendChild(E)})}function Zn(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Ri{constructor(d){this.type="recaptcha-enterprise",this.auth=pr(d)}verify(d="verify",p=!1){var E=this;return(0,m.Z)(function*(){function q(){return q=(0,m.Z)(function*(dt){if(!p){if(null==dt.tenantId&&null!=dt._agentRecaptchaConfig)return dt._agentRecaptchaConfig.siteKey;if(null!=dt.tenantId&&void 0!==dt._tenantRecaptchaConfigs[dt.tenantId])return dt._tenantRecaptchaConfigs[dt.tenantId].siteKey}return new Promise(function(){var jt=(0,m.Z)(function*(ln,Mn){pn(dt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kn=>{if(void 0!==kn.recaptchaKey){const eo=new Dr(kn);return null==dt.tenantId?dt._agentRecaptchaConfig=eo:dt._tenantRecaptchaConfigs[dt.tenantId]=eo,ln(eo.siteKey)}Mn(new Error("recaptcha Enterprise site key undefined"))}).catch(kn=>{Mn(kn)})});return function(ln,Mn){return jt.apply(this,arguments)}}())}),q.apply(this,arguments)}function Re(dt,jt,ln){const Mn=window.grecaptcha;Yn(Mn)?Mn.enterprise.ready(()=>{Mn.enterprise.execute(dt,{action:d}).then(kn=>{jt(kn)}).catch(()=>{jt("NO_RECAPTCHA")})}):ln(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((dt,jt)=>{(function j(dt){return q.apply(this,arguments)})(E.auth).then(ln=>{if(!p&&Yn(window.grecaptcha))Re(ln,dt,jt);else{if(typeof window>"u")return void jt(new Error("RecaptchaVerifier is only supported in browser"));ur("https://www.google.com/recaptcha/enterprise.js?render="+ln).then(()=>{Re(ln,dt,jt)}).catch(Mn=>{jt(Mn)})}}).catch(ln=>{jt(ln)})})})()}}function li(I,d,p){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,m.Z)(function*(I,d,p,E=!1){const j=new Ri(I);let q;try{q=yield j.verify(p)}catch{q=yield j.verify(p,!0)}const Re=Object.assign({},d);return Object.assign(Re,E?{captchaResp:q}:{captchaResponse:q}),Object.assign(Re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Re})).apply(this,arguments)}class zr{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const E=q=>new Promise((Re,dt)=>{try{Re(d(q))}catch(jt){dt(jt)}});E.onAbort=p,this.queue.push(E);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,m.Z)(function*(){if(p.auth.currentUser===d)return;const E=[];try{for(const j of p.queue)yield j(d),j.onAbort&&E.push(j.onAbort)}catch(j){E.reverse();for(const q of E)try{q()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null==j?void 0:j.message})}})()}}class $i{constructor(d,p,E,j){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=E,this.config=j,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wi(this),this.idTokenSubscription=new wi(this),this.beforeStateQueue=new zr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=we,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=j.sdkClientVersion}_initializeWithPersistence(d,p){var E=this;return p&&(this._popupRedirectResolver=fr(p)),this._initializationPromise=this.queue((0,m.Z)(function*(){var j,q;if(!E._deleted&&(E.persistenceManager=yield Z.create(E,d),!E._deleted)){if(null!==(j=E._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(q=E.currentUser)||void 0===q?void 0:q.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,m.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,m.Z)(function*(){var E;const j=yield p.assertedPersistence.getCurrentUser();let q=j,Re=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const dt=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,jt=null==q?void 0:q._redirectEventId,ln=yield p.tryRedirectSignIn(d);(!dt||dt===jt)&&null!=ln&&ln.user&&(q=ln.user,Re=!0)}if(!q)return p.directlySetCurrentUser(null);if(!q._redirectEventId){if(Re)try{yield p.beforeStateQueue.runMiddleware(q)}catch(dt){q=j,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(dt))}return q?p.reloadAndSetCurrentUserOrClear(q):p.directlySetCurrentUser(null)}return ke(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===q._redirectEventId?p.directlySetCurrentUser(q):p.reloadAndSetCurrentUserOrClear(q)})()}tryRedirectSignIn(d){var p=this;return(0,m.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,m.Z)(function*(){try{yield Mt(d)}catch(E){if("auth/network-request-failed"!==(null==E?void 0:E.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function qt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var d=this;return(0,m.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,m.Z)(function*(){const E=d?(0,W.m9)(d):null;return E&&ke(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(d,p=!1){var E=this;return(0,m.Z)(function*(){if(!E._deleted)return d&&ke(E.tenantId===d.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(d)),E.queue((0,m.Z)(function*(){yield E.directlySetCurrentUser(d),E.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,m.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,m.Z)(function*(){yield p.assertedPersistence.setPersistence(fr(d))}))}initializeRecaptchaConfig(){var d=this;return(0,m.Z)(function*(){const p=yield pn(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Dr(p);null==d.tenantId?d._agentRecaptchaConfig=E:d._tenantRecaptchaConfigs[d.tenantId]=E,E.emailPasswordEnabled&&new Ri(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new W.LL("auth","Firebase",d())}onAuthStateChanged(d,p,E){return this.registerStateListener(this.authStateSubscription,d,p,E)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,E){return this.registerStateListener(this.idTokenSubscription,d,p,E)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var E=this;return(0,m.Z)(function*(){const j=yield E.getOrInitRedirectPersistenceManager(p);return null===d?j.removeCurrentUser():j.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,m.Z)(function*(){if(!p.redirectPersistenceManager){const E=d&&fr(d)||p._popupRedirectResolver;ke(E,p,"argument-error"),p.redirectPersistenceManager=yield Z.create(p,[fr(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,m.Z)(function*(){var E,j;return p._isInitialized&&(yield p.queue((0,m.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===d?p._currentUser:(null===(j=p.redirectUser)||void 0===j?void 0:j._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,m.Z)(function*(){if(d===p.currentUser)return p.queue((0,m.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,E,j){if(this._deleted)return()=>{};const q="function"==typeof p?p:p.next.bind(p),Re=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(Re,this,"internal-error"),Re.then(()=>q(this.currentUser)),"function"==typeof p?d.addObserver(p,E,j):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,m.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=gt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,m.Z)(function*(){var p;const E={"X-Client-Version":d.clientVersion};d.app.options.appId&&(E["X-Firebase-gmpid"]=d.app.options.appId);const j=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();j&&(E["X-Firebase-Client"]=j);const q=yield d._getAppCheckToken();return q&&(E["X-Firebase-AppCheck"]=q),E})()}_getAppCheckToken(){var d=this;return(0,m.Z)(function*(){var p;const E=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return null!=E&&E.error&&function ft(I,...d){ce.logLevel<=_e.in.WARN&&ce.warn(`Auth (${ie.SDK_VERSION}): ${I}`,...d)}(`Error while retrieving App Check token: ${E.error}`),null==E?void 0:E.token})()}}function pr(I){return(0,W.m9)(I)}class wi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,W.ne)(p=>this.observer=p)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function K(I){const d=I.indexOf(":");return d<0?"":I.substr(0,d+1)}function ne(I){if(!I)return null;const d=Number(I);return isNaN(d)?null:d}class Ye{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return $e("not implemented")}_getIdTokenResponse(d){return $e("not implemented")}_linkToIdToken(d,p){return $e("not implemented")}_getReauthenticationResolver(d){return $e("not implemented")}}function Je(I,d){return mt.apply(this,arguments)}function mt(){return(mt=(0,m.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:resetPassword",Xe(I,d))})).apply(this,arguments)}function At(I,d){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,m.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function vn(){return(vn=(0,m.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:update",Xe(I,d))})).apply(this,arguments)}function In(I,d){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,m.Z)(function*(I,d){return ht(I,"POST","/v1/accounts:signInWithPassword",Xe(I,d))})).apply(this,arguments)}function yr(I,d){return gi.apply(this,arguments)}function gi(){return(gi=(0,m.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:sendOobCode",Xe(I,d))})).apply(this,arguments)}function He(){return(He=(0,m.Z)(function*(I,d){return yr(I,d)})).apply(this,arguments)}function et(I,d){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,m.Z)(function*(I,d){return yr(I,d)})).apply(this,arguments)}function Ut(I,d){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,m.Z)(function*(I,d){return yr(I,d)})).apply(this,arguments)}function $n(){return($n=(0,m.Z)(function*(I,d){return yr(I,d)})).apply(this,arguments)}function Yr(){return(Yr=(0,m.Z)(function*(I,d){return ht(I,"POST","/v1/accounts:signInWithEmailLink",Xe(I,d))})).apply(this,arguments)}function bi(){return(bi=(0,m.Z)(function*(I,d){return ht(I,"POST","/v1/accounts:signInWithEmailLink",Xe(I,d))})).apply(this,arguments)}class oo extends Ye{constructor(d,p,E,j=null){super("password",E),this._email=d,this._password=p,this._tenantId=j}static _fromEmailAndPassword(d,p){return new oo(d,p,"password")}static _fromEmailAndCode(d,p,E=null){return new oo(d,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(null!=p&&p.email&&null!=p&&p.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,m.Z)(function*(){var E;switch(p.signInMethod){case"password":const j={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=d._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const q=yield li(d,j,"signInWithPassword");return In(d,q)}return In(d,j).catch(function(){var q=(0,m.Z)(function*(Re){if("auth/missing-recaptcha-token"===Re.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const dt=yield li(d,j,"signInWithPassword");return In(d,dt)}return Promise.reject(Re)});return function(Re){return q.apply(this,arguments)}}());case"emailLink":return function rr(I,d){return Yr.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:fe(d,"internal-error")}})()}_linkToIdToken(d,p){var E=this;return(0,m.Z)(function*(){switch(E.signInMethod){case"password":return At(d,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function jo(I,d){return bi.apply(this,arguments)}(d,{idToken:p,email:E._email,oobCode:E._password});default:fe(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function so(I,d){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,m.Z)(function*(I,d){return ht(I,"POST","/v1/accounts:signInWithIdp",Xe(I,d))})).apply(this,arguments)}class Yt extends Ye{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new Yt(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):fe("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:E,signInMethod:j}=p,q=(0,Ee._T)(p,["providerId","signInMethod"]);if(!E||!j)return null;const Re=new Yt(E,j);return Re.idToken=q.idToken||void 0,Re.accessToken=q.accessToken||void 0,Re.secret=q.secret,Re.nonce=q.nonce,Re.pendingToken=q.pendingToken||null,Re}_getIdTokenResponse(d){return so(d,this.buildRequest())}_linkToIdToken(d,p){const E=this.buildRequest();return E.idToken=p,so(d,E)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,so(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,W.xO)(p)}return d}}function ir(){return(ir=(0,m.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:sendVerificationCode",Xe(I,d))})).apply(this,arguments)}function Ho(){return(Ho=(0,m.Z)(function*(I,d){return ht(I,"POST","/v1/accounts:signInWithPhoneNumber",Xe(I,d))})).apply(this,arguments)}function zo(){return(zo=(0,m.Z)(function*(I,d){const p=yield ht(I,"POST","/v1/accounts:signInWithPhoneNumber",Xe(I,d));if(p.temporaryProof)throw $t(I,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Kr={USER_NOT_FOUND:"user-not-found"};function mi(){return(mi=(0,m.Z)(function*(I,d){return ht(I,"POST","/v1/accounts:signInWithPhoneNumber",Xe(I,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Kr)})).apply(this,arguments)}class wn extends Ye{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new wn({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new wn({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function Pi(I,d){return Ho.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function Jr(I,d){return zo.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Po(I,d){return mi.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:E,verificationCode:j}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:E,code:j}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:E,phoneNumber:j,temporaryProof:q}=d;return E||p||j||q?new wn({verificationId:p,verificationCode:E,phoneNumber:j,temporaryProof:q}):null}}class Io{constructor(d){var p,E,j,q,Re,dt;const jt=(0,W.zd)((0,W.pd)(d)),ln=null!==(p=jt.apiKey)&&void 0!==p?p:null,Mn=null!==(E=jt.oobCode)&&void 0!==E?E:null,kn=function No(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=jt.mode)&&void 0!==j?j:null);ke(ln&&Mn&&kn,"argument-error"),this.apiKey=ln,this.operation=kn,this.code=Mn,this.continueUrl=null!==(q=jt.continueUrl)&&void 0!==q?q:null,this.languageCode=null!==(Re=jt.languageCode)&&void 0!==Re?Re:null,this.tenantId=null!==(dt=jt.tenantId)&&void 0!==dt?dt:null}static parseLink(d){const p=function cs(I){const d=(0,W.zd)((0,W.pd)(I)).link,p=d?(0,W.zd)((0,W.pd)(d)).deep_link_id:null,E=(0,W.zd)((0,W.pd)(I)).deep_link_id;return(E?(0,W.zd)((0,W.pd)(E)).link:null)||E||p||d||I}(d);try{return new Io(p)}catch{return null}}}let Xo=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,E){return oo._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const j=Io.parseLink(E);return ke(j,"argument-error"),oo._fromEmailAndCode(p,j.code,j.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Vi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class ci extends Vi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Eo extends ci{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return ke("providerId"in p&&"signInMethod"in p,"argument-error"),Yt._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ke(d.idToken||d.accessToken,"argument-error"),Yt._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Eo.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Eo.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:E,oauthTokenSecret:j,pendingToken:q,nonce:Re,providerId:dt}=d;if(!E&&!j&&!p&&!q||!dt)return null;try{return new Eo(dt)._credential({idToken:p,accessToken:E,nonce:Re,pendingToken:q})}catch{return null}}}let Rs=(()=>{class I extends ci{constructor(){super("facebook.com")}static credential(p){return Yt._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),fo=(()=>{class I extends ci{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return Yt._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:j}=p;if(!E&&!j)return null;try{return I.credential(E,j)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Ui=(()=>{class I extends ci{constructor(){super("github.com")}static credential(p){return Yt._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class po extends Ye{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return so(d,this.buildRequest())}_linkToIdToken(d,p){const E=this.buildRequest();return E.idToken=p,so(d,E)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,so(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:E,signInMethod:j,pendingToken:q}=p;return E&&j&&q&&E===j?new po(E,q):null}static _create(d,p){return new po(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qi extends Vi{constructor(d){ke(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return qi.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return qi.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=po.fromJSON(d);return ke(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:E}=d;if(!p||!E)return null;try{return po._create(E,p)}catch{return null}}}let ko=(()=>{class I extends ci{constructor(){super("twitter.com")}static credential(p,E){return Yt._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:E})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:E,oauthTokenSecret:j}=p;if(!E||!j)return null;try{return I.credential(E,j)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Do(I,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,m.Z)(function*(I,d){return ht(I,"POST","/v1/accounts:signUp",Xe(I,d))})).apply(this,arguments)}class ii{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,E,j=!1){return(0,m.Z)(function*(){const q=yield Ar._fromIdTokenResponse(d,E,j),Re=Fo(E);return new ii({user:q,providerId:Re,_tokenResponse:E,operationType:p})})()}static _forOperation(d,p,E){return(0,m.Z)(function*(){yield d._updateTokensIfNecessary(E,!0);const j=Fo(E);return new ii({user:d,providerId:j,_tokenResponse:E,operationType:p})})()}}function Fo(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Di(){return(Di=(0,m.Z)(function*(I){var d;const p=pr(I);if(yield p._initializationPromise,null!==(d=p.currentUser)&&void 0!==d&&d.isAnonymous)return new ii({user:p.currentUser,providerId:null,operationType:"signIn"});const E=yield Do(p,{returnSecureToken:!0}),j=yield ii._fromIdTokenResponse(p,"signIn",E,!0);return yield p._updateCurrentUser(j.user),j})).apply(this,arguments)}class _s extends W.ZR{constructor(d,p,E,j){var q;super(p.code,p.message),this.operationType=E,this.user=j,Object.setPrototypeOf(this,_s.prototype),this.customData={appName:d.name,tenantId:null!==(q=d.tenantId)&&void 0!==q?q:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(d,p,E,j){return new _s(d,p,E,j)}}function ui(I,d,p,E){return("reauthenticate"===d?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(q=>{throw"auth/multi-factor-auth-required"===q.code?_s._fromErrorAndOperation(I,q,d,E):q})}function di(I){return new Set(I.map(({providerId:d})=>d).filter(d=>!!d))}function Ci(){return Ci=(0,m.Z)(function*(I,d){const p=(0,W.m9)(I);yield ds(!0,p,d);const{providerUserInfo:E}=yield function En(I,d){return Pn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),j=di(E||[]);return p.providerData=p.providerData.filter(q=>j.has(q.providerId)),j.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Ci.apply(this,arguments)}function Lo(I,d){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,m.Z)(function*(I,d,p=!1){const E=yield un(I,d._linkToIdToken(I.auth,yield I.getIdToken()),p);return ii._forOperation(I,"link",E)})).apply(this,arguments)}function ds(I,d,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,m.Z)(function*(I,d,p){yield Mt(d);const j=!1===I?"provider-already-linked":"no-such-provider";ke(di(d.providerData).has(p)===I,d.auth,j)})).apply(this,arguments)}function ga(I,d){return ea.apply(this,arguments)}function ea(){return(ea=(0,m.Z)(function*(I,d,p=!1){const{auth:E}=I,j="reauthenticate";try{const q=yield un(I,ui(E,j,d,I),p);ke(q.idToken,E,"internal-error");const Re=Rn(q.idToken);ke(Re,E,"internal-error");const{sub:dt}=Re;return ke(I.uid===dt,E,"user-mismatch"),ii._forOperation(I,j,q)}catch(q){throw"auth/user-not-found"===(null==q?void 0:q.code)&&fe(E,"user-mismatch"),q}})).apply(this,arguments)}function Os(I,d){return Is.apply(this,arguments)}function Is(){return(Is=(0,m.Z)(function*(I,d,p=!1){const E="signIn",j=yield ui(I,E,d),q=yield ii._fromIdTokenResponse(I,E,j);return p||(yield I._updateCurrentUser(q.user)),q})).apply(this,arguments)}function js(I,d){return ta.apply(this,arguments)}function ta(){return(ta=(0,m.Z)(function*(I,d){return Os(pr(I),d)})).apply(this,arguments)}function Ta(I,d){return xr.apply(this,arguments)}function xr(){return(xr=(0,m.Z)(function*(I,d){const p=(0,W.m9)(I);return yield ds(!1,p,d.providerId),Lo(p,d)})).apply(this,arguments)}function Wo(I,d){return Za.apply(this,arguments)}function Za(){return(Za=(0,m.Z)(function*(I,d){return ga((0,W.m9)(I),d)})).apply(this,arguments)}function P(){return(P=(0,m.Z)(function*(I,d){return ht(I,"POST","/v1/accounts:signInWithCustomToken",Xe(I,d))})).apply(this,arguments)}function h(){return h=(0,m.Z)(function*(I,d){const p=pr(I),E=yield function $(I,d){return P.apply(this,arguments)}(p,{token:d,returnSecureToken:!0}),j=yield ii._fromIdTokenResponse(p,"signIn",E);return yield p._updateCurrentUser(j.user),j}),h.apply(this,arguments)}class T{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?_._fromServerResponse(d,p):"totpInfo"in p?N._fromServerResponse(d,p):fe(d,"internal-error")}}class _ extends T{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new _(p)}}class N extends T{constructor(d){super("totp",d)}static _fromServerResponse(d,p){return new N(p)}}function J(I,d,p){var E;ke((null===(E=p.url)||void 0===E?void 0:E.length)>0,I,"invalid-continue-uri"),ke(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ke(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(ke(p.android.packageName.length>0,I,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function on(){return on=(0,m.Z)(function*(I,d,p){var E;const j=pr(I),q={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=j._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Re=yield li(j,q,"getOobCode",!0);p&&J(j,Re,p),yield et(j,Re)}else p&&J(j,q,p),yield et(j,q).catch(function(){var Re=(0,m.Z)(function*(dt){if("auth/missing-recaptcha-token"!==dt.code)return Promise.reject(dt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const jt=yield li(j,q,"getOobCode",!0);p&&J(j,jt,p),yield et(j,jt)}});return function(dt){return Re.apply(this,arguments)}}())}),on.apply(this,arguments)}function Fn(){return(Fn=(0,m.Z)(function*(I,d,p){yield Je((0,W.m9)(I),{oobCode:d,newPassword:p})})).apply(this,arguments)}function oi(){return oi=(0,m.Z)(function*(I,d){yield function Nt(I,d){return vn.apply(this,arguments)}((0,W.m9)(I),{oobCode:d})}),oi.apply(this,arguments)}function go(I,d){return ki.apply(this,arguments)}function ki(){return(ki=(0,m.Z)(function*(I,d){const p=(0,W.m9)(I),E=yield Je(p,{oobCode:d}),j=E.requestType;switch(ke(j,p,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(E.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(E.mfaInfo,p,"internal-error");default:ke(E.email,p,"internal-error")}let q=null;return E.mfaInfo&&(q=T._fromServerResponse(pr(p),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:q},operation:j}})).apply(this,arguments)}function Yi(){return(Yi=(0,m.Z)(function*(I,d){const{data:p}=yield go((0,W.m9)(I),d);return p.email})).apply(this,arguments)}function Ps(){return Ps=(0,m.Z)(function*(I,d,p){var E;const j=pr(I),q={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let Re;if(null!==(E=j._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ln=yield li(j,q,"signUpPassword");Re=Do(j,ln)}else Re=Do(j,q).catch(function(){var ln=(0,m.Z)(function*(Mn){if("auth/missing-recaptcha-token"===Mn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const kn=yield li(j,q,"signUpPassword");return Do(j,kn)}return Promise.reject(Mn)});return function(Mn){return ln.apply(this,arguments)}}());const dt=yield Re.catch(ln=>Promise.reject(ln)),jt=yield ii._fromIdTokenResponse(j,"signIn",dt);return yield j._updateCurrentUser(jt.user),jt}),Ps.apply(this,arguments)}function Ns(){return Ns=(0,m.Z)(function*(I,d,p){var E;const j=pr(I),q={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Re(dt,jt){ke(jt.handleCodeInApp,j,"argument-error"),jt&&J(j,dt,jt)}if(null!==(E=j._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const dt=yield li(j,q,"getOobCode",!0);Re(dt,p),yield Ut(j,dt)}else Re(q,p),yield Ut(j,q).catch(function(){var dt=(0,m.Z)(function*(jt){if("auth/missing-recaptcha-token"!==jt.code)return Promise.reject(jt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ln=yield li(j,q,"getOobCode",!0);Re(ln,p),yield Ut(j,ln)}});return function(jt){return dt.apply(this,arguments)}}())}),Ns.apply(this,arguments)}function va(){return(va=(0,m.Z)(function*(I,d,p){const E=(0,W.m9)(I),j=Xo.credentialWithLink(d,p||st());return ke(j._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),js(E,j)})).apply(this,arguments)}function ra(){return(ra=(0,m.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:createAuthUri",Xe(I,d))})).apply(this,arguments)}function oa(){return oa=(0,m.Z)(function*(I,d){const E={identifier:d,continueUri:pt()?st():"http://localhost"},{signinMethods:j}=yield function na(I,d){return ra.apply(this,arguments)}((0,W.m9)(I),E);return j||[]}),oa.apply(this,arguments)}function sa(){return sa=(0,m.Z)(function*(I,d){const p=(0,W.m9)(I),j={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};d&&J(p.auth,j,d);const{email:q}=yield function We(I,d){return He.apply(this,arguments)}(p.auth,j);q!==I.email&&(yield I.reload())}),sa.apply(this,arguments)}function ya(){return ya=(0,m.Z)(function*(I,d,p){const E=(0,W.m9)(I),q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:d};p&&J(E.auth,q,p);const{email:Re}=yield function Wn(I,d){return $n.apply(this,arguments)}(E.auth,q);Re!==I.email&&(yield I.reload())}),ya.apply(this,arguments)}function Sa(){return(Sa=(0,m.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function la(){return la=(0,m.Z)(function*(I,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const E=(0,W.m9)(I),q={idToken:yield E.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},Re=yield un(E,function aa(I,d){return Sa.apply(this,arguments)}(E.auth,q));E.displayName=Re.displayName||null,E.photoURL=Re.photoUrl||null;const dt=E.providerData.find(({providerId:jt})=>"password"===jt);dt&&(dt.displayName=E.displayName,dt.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Re)}),la.apply(this,arguments)}function fl(I,d,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,m.Z)(function*(I,d,p){const{auth:E}=I,q={idToken:yield I.getIdToken(),returnSecureToken:!0};d&&(q.email=d),p&&(q.password=p);const Re=yield un(I,At(E,q));yield I._updateTokensIfNecessary(Re,!0)})).apply(this,arguments)}class Hi{constructor(d,p,E={}){this.isNewUser=d,this.providerId=p,this.profile=E}}class es extends Hi{constructor(d,p,E,j){super(d,p,E),this.username=j}}class C extends Hi{constructor(d,p){super(d,"facebook.com",p)}}class V extends es{constructor(d,p){super(d,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class ye extends Hi{constructor(d,p){super(d,"google.com",p)}}class F extends es{constructor(d,p,E){super(d,"twitter.com",p,E)}}function oe(I){const{user:d,_tokenResponse:p}=I;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Ma(I){var d,p;if(!I)return null;const{providerId:E}=I,j=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},q=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!E&&null!=I&&I.idToken){const Re=null===(p=null===(d=Rn(I.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(Re)return new Hi(q,"anonymous"!==Re&&"custom"!==Re?Re:null)}if(!E)return null;switch(E){case"facebook.com":return new C(q,j);case"github.com":return new V(q,j);case"google.com":return new ye(q,j);case"twitter.com":return new F(q,j,I.screenName||null);case"custom":case"anonymous":return new Hi(q,null);default:return new Hi(q,E,j)}}(p)}class Ti{constructor(d,p,E){this.type=d,this.credential=p,this.auth=E}static _fromIdtoken(d,p){return new Ti("enroll",d,p)}static _fromMfaPendingCredential(d){return new Ti("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,E;if(null!=d&&d.multiFactorSession){if(null!==(p=d.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Ti._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(E=d.multiFactorSession)&&void 0!==E&&E.idToken)return Ti._fromIdtoken(d.multiFactorSession.idToken)}return null}}class si{constructor(d,p,E){this.session=d,this.hints=p,this.signInResolver=E}static _fromError(d,p){const E=pr(d),j=p.customData._serverResponse,q=(j.mfaInfo||[]).map(dt=>T._fromServerResponse(E,dt));ke(j.mfaPendingCredential,E,"internal-error");const Re=Ti._fromMfaPendingCredential(j.mfaPendingCredential);return new si(Re,q,function(){var dt=(0,m.Z)(function*(jt){const ln=yield jt._process(E,Re);delete j.mfaInfo,delete j.mfaPendingCredential;const Mn=Object.assign(Object.assign({},j),{idToken:ln.idToken,refreshToken:ln.refreshToken});switch(p.operationType){case"signIn":const kn=yield ii._fromIdTokenResponse(E,p.operationType,Mn);return yield E._updateCurrentUser(kn.user),kn;case"reauthenticate":return ke(p.user,E,"internal-error"),ii._forOperation(p.user,p.operationType,Mn);default:fe(E,"internal-error")}});return function(jt){return dt.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,m.Z)(function*(){return p.signInResolver(d)})()}}class _a{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(E=>T._fromServerResponse(d.auth,E)))})}static _fromUser(d){return new _a(d)}getSession(){var d=this;return(0,m.Z)(function*(){return Ti._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,p){var E=this;return(0,m.Z)(function*(){const j=d,q=yield E.getSession(),Re=yield un(E.user,j._process(E.user.auth,q,p));return yield E.user._updateTokensIfNecessary(Re),E.user.reload()})()}unenroll(d){var p=this;return(0,m.Z)(function*(){const E="string"==typeof d?d:d.uid,j=yield p.user.getIdToken();try{const q=yield un(p.user,function tu(I,d){return qe(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(I,d))}(p.user.auth,{idToken:j,mfaEnrollmentId:E}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Re})=>Re!==E),yield p.user._updateTokensIfNecessary(q),yield p.user.reload()}catch(q){throw q}})()}}const xa=new WeakMap,Hl="__sak";class er{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Hl,"1"),this.storage.removeItem(Hl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zi=(()=>{class I extends er{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hs(){const I=(0,W.z$)();return X(I)||en(I)}()&&function Qr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ei(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const j=this.storage.getItem(E),q=this.localCache[E];j!==q&&p(E,q,j)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((dt,jt,ln)=>{this.notifyListeners(dt,ln)});const j=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dt=this.storage.getItem(j);if(p.newValue!==dt)null!==p.newValue?this.storage.setItem(j,p.newValue):this.storage.removeItem(j);else if(this.localCache[j]===p.newValue&&!E)return}const q=()=>{const dt=this.storage.getItem(j);!E&&this.localCache[j]===dt||this.notifyListeners(j,dt)},Re=this.storage.getItem(j);!function Mr(){return(0,W.w1)()&&10===document.documentMode}()||Re===p.newValue||p.newValue===p.oldValue?q():setTimeout(q,10)}notifyListeners(p,E){this.localCache[p]=E;const j=this.listeners[p];if(j)for(const q of Array.from(j))q(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var j=()=>super._set,q=this;return(0,m.Z)(function*(){yield j().call(q,p,E),q.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,j=this;return(0,m.Z)(function*(){const q=yield E().call(j,p);return j.localCache[p]=JSON.stringify(q),q})()}_remove(p){var E=()=>super._remove,j=this;return(0,m.Z)(function*(){yield E().call(j,p),delete j.localCache[p]})()}}return I.type="LOCAL",I})(),Ds=(()=>{class I extends er{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return I.type="SESSION",I})();let zi=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(q=>q.isListeningto(p));if(E)return E;const j=new I(p);return this.receivers.push(j),j}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,m.Z)(function*(){const j=p,{eventId:q,eventType:Re,data:dt}=j.data,jt=E.handlersMap[Re];if(null==jt||!jt.size)return;j.ports[0].postMessage({status:"ack",eventId:q,eventType:Re});const ln=Array.from(jt).map(function(){var kn=(0,m.Z)(function*(eo){return eo(j.origin,dt)});return function(eo){return kn.apply(this,arguments)}}()),Mn=yield function Kt(I){return Promise.all(I.map(function(){var d=(0,m.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return d.apply(this,arguments)}}()))}(ln);j.ports[0].postMessage({status:"done",eventId:q,eventType:Re,response:Mn})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Bo(I="",d=10){let p="";for(let E=0;E<d;E++)p+=Math.floor(10*Math.random());return I+p}class Wl{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,E=50){var j=this;return(0,m.Z)(function*(){const q=typeof MessageChannel<"u"?new MessageChannel:null;if(!q)throw new Error("connection_unavailable");let Re,dt;return new Promise((jt,ln)=>{const Mn=Bo("",20);q.port1.start();const kn=setTimeout(()=>{ln(new Error("unsupported_event"))},E);dt={messageChannel:q,onMessage(eo){const Ms=eo;if(Ms.data.eventId===Mn)switch(Ms.data.status){case"ack":clearTimeout(kn),Re=setTimeout(()=>{ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(Re),jt(Ms.data.response);break;default:clearTimeout(kn),clearTimeout(Re),ln(new Error("invalid_response"))}}},j.handlers.add(dt),q.port1.addEventListener("message",dt.onMessage),j.target.postMessage({eventType:d,eventId:Mn,data:p},[q.port2])}).finally(()=>{dt&&j.removeMessageHandler(dt)})})()}}function Jt(){return window}function Or(){return typeof Jt().WorkerGlobalScope<"u"&&"function"==typeof Jt().importScripts}function _t(){return(_t=(0,m.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Pa="firebaseLocalStorageDb",Na="firebaseLocalStorage",pl="fbase_key";class ka{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ql(I,d){return I.transaction([Na],d?"readwrite":"readonly").objectStore(Na)}function wo(){const I=indexedDB.open(Pa,1);return new Promise((d,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const E=I.result;try{E.createObjectStore(Na,{keyPath:pl})}catch(j){p(j)}}),I.addEventListener("success",(0,m.Z)(function*(){const E=I.result;E.objectStoreNames.contains(Na)?d(E):(E.close(),yield function Yl(){const I=indexedDB.deleteDatabase(Pa);return new ka(I).toPromise()}(),d(yield wo()))}))})}function ws(I,d,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,m.Z)(function*(I,d,p){const E=ql(I,!0).put({[pl]:d,value:p});return new ka(E).toPromise()})).apply(this,arguments)}function Gn(){return(Gn=(0,m.Z)(function*(I,d){const p=ql(I,!1).get(d),E=yield new ka(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ia(I,d){const p=ql(I,!0).delete(d);return new ka(p).toPromise()}const bs=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,m.Z)(function*(){return p.db||(p.db=yield wo()),p.db})()}_withRetries(p){var E=this;return(0,m.Z)(function*(){let j=0;for(;;)try{const q=yield E._openDb();return yield p(q)}catch(q){if(j++>3)throw q;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,m.Z)(function*(){return Or()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,m.Z)(function*(){p.receiver=zi._getInstance(function Pr(){return Or()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,m.Z)(function*(j,q){return{keyProcessed:(yield p._poll()).includes(q.key)}});return function(j,q){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,m.Z)(function*(j,q){return["keyChanged"]});return function(j,q){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,m.Z)(function*(){var E,j;if(p.activeServiceWorker=yield function yn(){return _t.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Wl(p.activeServiceWorker);const q=yield p.sender._send("ping",{},800);q&&null!==(E=q[0])&&void 0!==E&&E.fulfilled&&null!==(j=q[0])&&void 0!==j&&j.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,m.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function xt(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const p=yield wo();return yield ws(p,Hl,"1"),yield Ia(p,Hl),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,m.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var j=this;return(0,m.Z)(function*(){return j._withPendingWrite((0,m.Z)(function*(){return yield j._withRetries(q=>ws(q,p,E)),j.localCache[p]=E,j.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,m.Z)(function*(){const j=yield E._withRetries(q=>function zs(I,d){return Gn.apply(this,arguments)}(q,p));return E.localCache[p]=j,j})()}_remove(p){var E=this;return(0,m.Z)(function*(){return E._withPendingWrite((0,m.Z)(function*(){return yield E._withRetries(j=>Ia(j,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,m.Z)(function*(){const E=yield p._withRetries(Re=>{const dt=ql(Re,!1).getAll();return new ka(dt).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const j=[],q=new Set;for(const{fbase_key:Re,value:dt}of E)q.add(Re),JSON.stringify(p.localCache[Re])!==JSON.stringify(dt)&&(p.notifyListeners(Re,dt),j.push(Re));for(const Re of Object.keys(p.localCache))p.localCache[Re]&&!q.has(Re)&&(p.notifyListeners(Re,null),j.push(Re));return j})()}notifyListeners(p,E){this.localCache[p]=E;const j=this.listeners[p];if(j)for(const q of Array.from(j))q(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),A=1e12;class O{constructor(d){this.auth=d,this.counter=A,this._widgets=new Map}render(d,p){const E=this.counter;return this._widgets.set(E,new D(d,this.auth.name,p||{})),this.counter++,E}reset(d){var p;const E=d||A;null===(p=this._widgets.get(E))||void 0===p||p.delete(),this._widgets.delete(E)}getResponse(d){var p;return(null===(p=this._widgets.get(d||A))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,m.Z)(function*(){var E;return null===(E=p._widgets.get(d||A))||void 0===E||E.execute(),""})()}}class D{constructor(d,p,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof d?document.getElementById(d):d;ke(j,"argument-error",{appName:p}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function k(I){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<I;E++)d.push(p.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Q=Zn("rcb"),pe=new lt(3e4,6e4);class St{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Jt().grecaptcha)||void 0===d||!d.render)}load(d,p=""){return ke(function Rt(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(p),d,"argument-error"),this.shouldResolveImmediately(p)&&Qt(Jt().grecaptcha)?Promise.resolve(Jt().grecaptcha):new Promise((E,j)=>{const q=Jt().setTimeout(()=>{j(Ae(d,"network-request-failed"))},pe.get());Jt()[Q]=()=>{Jt().clearTimeout(q),delete Jt()[Q];const dt=Jt().grecaptcha;if(!dt||!Qt(dt))return void j(Ae(d,"internal-error"));const jt=dt.render;dt.render=(ln,Mn)=>{const kn=jt(ln,Mn);return this.counter++,kn},this.hostLanguage=p,E(dt)},ur(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Q,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(q),j(Ae(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var p;return!(null===(p=Jt().grecaptcha)||void 0===p||!p.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Nn{load(d){return(0,m.Z)(function*(){return new O(d)})()}clearedOneInstance(){}}const An="recaptcha",tr={theme:"light",type:"image"};class ei{constructor(d,p=Object.assign({},tr),E){this.parameters=p,this.type=An,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(E),this.isInvisible="invisible"===this.parameters.size,ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof d?document.getElementById(d):d;ke(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nn:new St,this.validateStartingState()}verify(){var d=this;return(0,m.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),E=d.getAssertedRecaptcha();return E.getResponse(p)||new Promise(q=>{const Re=dt=>{dt&&(d.tokenChangeListeners.delete(Re),q(dt))};d.tokenChangeListeners.add(Re),d.isInvisible&&E.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(E=>E(p)),"function"==typeof d)d(p);else if("string"==typeof d){const E=Jt()[d];"function"==typeof E&&E(p)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,m.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const E=document.createElement("div");p.appendChild(E),p=E}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,m.Z)(function*(){ke(pt()&&!Or(),d.auth,"internal-error"),yield function $o(){let I=null;return new Promise(d=>{"complete"!==document.readyState?(I=()=>d(),window.addEventListener("load",I)):d()}).catch(d=>{throw I&&window.removeEventListener("load",I),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function rt(I){return Ft.apply(this,arguments)}(d.auth);ke(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class at{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=wn._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function mo(){return(mo=(0,m.Z)(function*(I,d,p){const E=pr(I),j=yield ps(E,d,(0,W.m9)(p));return new at(j,q=>js(E,q))})).apply(this,arguments)}function vo(){return(vo=(0,m.Z)(function*(I,d,p){const E=(0,W.m9)(I);yield ds(!1,E,"phone");const j=yield ps(E.auth,d,(0,W.m9)(p));return new at(j,q=>Ta(E,q))})).apply(this,arguments)}function Fs(){return(Fs=(0,m.Z)(function*(I,d,p){const E=(0,W.m9)(I),j=yield ps(E.auth,d,(0,W.m9)(p));return new at(j,q=>Wo(E,q))})).apply(this,arguments)}function ps(I,d,p){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,m.Z)(function*(I,d,p){var E;const j=yield p.verify();try{let q;if(ke("string"==typeof j,I,"argument-error"),ke(p.type===An,I,"argument-error"),q="string"==typeof d?{phoneNumber:d}:d,"session"in q){const Re=q.session;if("phoneNumber"in q)return ke("enroll"===Re.type,I,"internal-error"),(yield function Ko(I,d){return qe(I,"POST","/v2/accounts/mfaEnrollment:start",Xe(I,d))}(I,{idToken:Re.credential,phoneEnrollmentInfo:{phoneNumber:q.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{ke("signin"===Re.type,I,"internal-error");const dt=(null===(E=q.multiFactorHint)||void 0===E?void 0:E.uid)||q.multiFactorUid;return ke(dt,I,"missing-multi-factor-info"),(yield function Nr(I,d){return qe(I,"POST","/v2/accounts/mfaSignIn:start",Xe(I,d))}(I,{mfaPendingCredential:Re.credential,mfaEnrollmentId:dt,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Re}=yield function qn(I,d){return ir.apply(this,arguments)}(I,{phoneNumber:q.phoneNumber,recaptchaToken:j});return Re}}finally{p._reset()}}),Qa.apply(this,arguments)}function Ic(){return(Ic=(0,m.Z)(function*(I,d){yield Lo((0,W.m9)(I),d)})).apply(this,arguments)}let Fa=(()=>{class I{constructor(p){this.providerId=I.PROVIDER_ID,this.auth=pr(p)}verifyPhoneNumber(p,E){return ps(this.auth,p,(0,W.m9)(E))}static credential(p,E){return wn._fromVerification(p,E)}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:E,temporaryProof:j}=p;return E&&j?wn._fromTokenResponse(E,j):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function bo(I,d){return d?fr(d):(ke(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class co extends Ye{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return so(d,this._buildIdpRequest())}_linkToIdToken(d,p){return so(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return so(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function da(I){return Os(I.auth,new co(I),I.bypassAuthState)}function ru(I){const{auth:d,user:p}=I;return ke(p,d,"internal-error"),ga(p,new co(I),I.bypassAuthState)}function Vo(I){return vl.apply(this,arguments)}function vl(){return(vl=(0,m.Z)(function*(I){const{auth:d,user:p}=I;return ke(p,d,"internal-error"),Lo(p,new co(I),I.bypassAuthState)})).apply(this,arguments)}class iu{constructor(d,p,E,j,q=!1){this.auth=d,this.resolver=E,this.user=j,this.bypassAuthState=q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,m.Z)(function*(E,j){d.pendingPromise={resolve:E,reject:j};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(q){d.reject(q)}});return function(E,j){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,m.Z)(function*(){const{urlResponse:E,sessionId:j,postBody:q,tenantId:Re,error:dt,type:jt}=d;if(dt)return void p.reject(dt);const ln={auth:p.auth,requestUri:E,sessionId:j,tenantId:Re||void 0,postBody:q||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(jt)(ln))}catch(Mn){p.reject(Mn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return da;case"linkViaPopup":case"linkViaRedirect":return Vo;case"reauthViaPopup":case"reauthViaRedirect":return ru;default:fe(this.auth,"internal-error")}}resolve(d){it(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){it(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Co=new lt(2e3,1e4);function Dc(){return(Dc=(0,m.Z)(function*(I,d,p){const E=pr(I);ve(I,d,Vi);const j=bo(E,p);return new el(E,"signInViaPopup",d,j).executeNotNull()})).apply(this,arguments)}function Kl(){return(Kl=(0,m.Z)(function*(I,d,p){const E=(0,W.m9)(I);ve(E.auth,d,Vi);const j=bo(E.auth,p);return new el(E.auth,"reauthViaPopup",d,j,E).executeNotNull()})).apply(this,arguments)}function ou(){return(ou=(0,m.Z)(function*(I,d,p){const E=(0,W.m9)(I);ve(E.auth,d,Vi);const j=bo(E.auth,p);return new el(E.auth,"linkViaPopup",d,j,E).executeNotNull()})).apply(this,arguments)}let el=(()=>{class I extends iu{constructor(p,E,j,q,Re){super(p,E,q,Re),this.provider=j,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,m.Z)(function*(){const E=yield p.execute();return ke(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,m.Z)(function*(){it(1===p.filter.length,"Popup operations only handle one event");const E=Bo();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(j=>{p.reject(j)}),p.resolver._isIframeWebStorageSupported(p.auth,j=>{j||p.reject(Ae(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,j;this.pollId=null!==(j=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Co.get())};p()}}return I.currentPopupAction=null,I})();const Zl="pendingRedirect",tl=new Map;class Bp extends iu{constructor(d,p,E=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,m.Z)(function*(){let E=tl.get(p.auth._key());if(!E){try{const q=(yield function bc(I,d){return su.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;E=()=>Promise.resolve(q)}catch(j){E=()=>Promise.reject(j)}tl.set(p.auth._key(),E)}return p.bypassAuthState||tl.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,E=this;return(0,m.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(E,d);if("unknown"!==d.type){if(d.eventId){const j=yield E.auth._redirectUserForId(d.eventId);if(j)return E.user=j,p().call(E,d);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function su(){return(su=(0,m.Z)(function*(I,d){const p=Cc(d),E=au(I);if(!(yield E._isAvailable()))return!1;const j="true"===(yield E._get(p));return yield E._remove(p),j})).apply(this,arguments)}function zu(I,d){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,m.Z)(function*(I,d){return au(I)._set(Cc(d),"true")})).apply(this,arguments)}function yl(I,d){tl.set(I._key(),d)}function au(I){return fr(I._redirectPersistence)}function Cc(I){return Pe(Zl,I.config.apiKey,I.name)}function _l(I,d,p){return function lu(I,d,p){return Tc.apply(this,arguments)}(I,d,p)}function Tc(){return(Tc=(0,m.Z)(function*(I,d,p){const E=pr(I);ve(I,d,Vi),yield E._initializationPromise;const j=bo(E,p);return yield zu(j,E),j._openRedirect(E,d,"signInViaRedirect")})).apply(this,arguments)}function cu(I,d,p){return function Gu(I,d,p){return Il.apply(this,arguments)}(I,d,p)}function Il(){return(Il=(0,m.Z)(function*(I,d,p){const E=(0,W.m9)(I);ve(E.auth,d,Vi),yield E.auth._initializationPromise;const j=bo(E.auth,p);yield zu(j,E.auth);const q=yield Xr(E);return j._openRedirect(E.auth,d,"reauthViaRedirect",q)})).apply(this,arguments)}function To(I,d,p){return function Gd(I,d,p){return Cs.apply(this,arguments)}(I,d,p)}function Cs(){return(Cs=(0,m.Z)(function*(I,d,p){const E=(0,W.m9)(I);ve(E.auth,d,Vi),yield E.auth._initializationPromise;const j=bo(E.auth,p);yield ds(!1,E,d.providerId),yield zu(j,E.auth);const q=yield Xr(E);return j._openRedirect(E.auth,d,"linkViaRedirect",q)})).apply(this,arguments)}function vi(){return(vi=(0,m.Z)(function*(I,d){return yield pr(I)._initializationPromise,Ba(I,d,!1)})).apply(this,arguments)}function Ba(I,d){return yo.apply(this,arguments)}function yo(){return(yo=(0,m.Z)(function*(I,d,p=!1){const E=pr(I),j=bo(E,d),Re=yield new Bp(E,j,p).execute();return Re&&!p&&(delete Re.user._redirectEventId,yield E._persistUserIfCurrent(Re.user),yield E._setRedirectUser(null,d)),Re})).apply(this,arguments)}function Xr(I){return El.apply(this,arguments)}function El(){return(El=(0,m.Z)(function*(I){const d=Bo(`${I.uid}:::`);return I._redirectEventId=d,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),d})).apply(this,arguments)}class Zo{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(d,E)&&(p=!0,this.sendToConsumer(d,E),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function uo(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wl(I);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var E;if(d.error&&!wl(d)){const j=(null===(E=d.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(Ae(this.auth,j))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const E=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&E}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dl(d))}saveEventToCache(d){this.cachedEventUids.add(Dl(d)),this.lastProcessedEventTime=Date.now()}}function Dl(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(d=>d).join("-")}function wl({type:I,error:d}){return"unknown"===I&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Wu(I){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,m.Z)(function*(I,d={}){return qe(I,"GET","/v1/projects",d)})).apply(this,arguments)}const Ai=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gs=/^https?/;function Ls(){return(Ls=(0,m.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:d}=yield Wu(I);for(const p of d)try{if($a(p))return}catch{}fe(I,"unauthorized-domain")})).apply(this,arguments)}function $a(I){const d=st(),{protocol:p,hostname:E}=new URL(d);if(I.startsWith("chrome-extension://")){const Re=new URL(I);return""===Re.hostname&&""===E?"chrome-extension:"===p&&I.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Re.hostname===E}if(!gs.test(p))return!1;if(Ai.test(I))return E===I;const j=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(E)}const bl=new lt(3e4,6e4);function Va(){const I=Jt().___jsl;if(null!=I&&I.H)for(const d of Object.keys(I.H))if(I.H[d].r=I.H[d].r||[],I.H[d].L=I.H[d].L||[],I.H[d].r=[...I.H[d].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let Cl=null;const Ua=new lt(5e3,15e3),uu="__/auth/iframe",ja="emulator/auth/iframe",Wd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qu(I){const d=I.config;ke(d.authDomain,I,"auth-domain-config-required");const p=d.emulator?se(d,ja):`https://${I.config.authDomain}/${uu}`,E={apiKey:d.apiKey,appName:I.name,v:ie.SDK_VERSION},j=qs.get(I.config.apiHost);j&&(E.eid=j);const q=I._getFrameworks();return q.length&&(E.fw=q.join(",")),`${p}?${(0,W.xO)(E).slice(1)}`}function R(){return R=(0,m.Z)(function*(I){const d=yield function Ts(I){return Cl=Cl||function ms(I){return new Promise((d,p)=>{var E,j,q;function Re(){Va(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Va(),p(Ae(I,"network-request-failed"))},timeout:bl.get()})}if(null!==(j=null===(E=Jt().gapi)||void 0===E?void 0:E.iframes)&&void 0!==j&&j.Iframe)d(gapi.iframes.getContext());else{if(null===(q=Jt().gapi)||void 0===q||!q.load){const dt=Zn("iframefcb");return Jt()[dt]=()=>{gapi.load?Re():p(Ae(I,"network-request-failed"))},ur(`https://apis.google.com/js/api.js?onload=${dt}`).catch(jt=>p(jt))}Re()}}).catch(d=>{throw Cl=null,d})}(I),Cl}(I),p=Jt().gapi;return ke(p,I,"internal-error"),d.open({where:document.body,url:qu(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wd,dontclear:!0},E=>new Promise(function(){var j=(0,m.Z)(function*(q,Re){yield E.restyle({setHideOnLeave:!1});const dt=Ae(I,"network-request-failed"),jt=Jt().setTimeout(()=>{Re(dt)},Ua.get());function ln(){Jt().clearTimeout(jt),q(E)}E.ping(ln).then(ln,()=>{Re(dt)})});return function(q,Re){return j.apply(this,arguments)}}()))}),R.apply(this,arguments)}const z={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dn{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const cr="__/auth/handler",dr="emulator/auth/handler",Ss=encodeURIComponent("fac");function $r(I,d,p,E,j,q){return So.apply(this,arguments)}function So(){return(So=(0,m.Z)(function*(I,d,p,E,j,q){ke(I.config.authDomain,I,"auth-domain-config-required"),ke(I.config.apiKey,I,"invalid-api-key");const Re={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:E,v:ie.SDK_VERSION,eventId:j};if(d instanceof Vi){d.setDefaultLanguage(I.languageCode),Re.providerId=d.providerId||"",(0,W.xb)(d.getCustomParameters())||(Re.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Mn,kn]of Object.entries(q||{}))Re[Mn]=kn}if(d instanceof ci){const Mn=d.getScopes().filter(kn=>""!==kn);Mn.length>0&&(Re.scopes=Mn.join(","))}I.tenantId&&(Re.tid=I.tenantId);const dt=Re;for(const Mn of Object.keys(dt))void 0===dt[Mn]&&delete dt[Mn];const jt=yield I._getAppCheckToken(),ln=jt?`#${Ss}=${encodeURIComponent(jt)}`:"";return`${function hi({config:I}){return I.emulator?se(I,dr):`https://${I.authDomain}/${cr}`}(I)}?${(0,W.xO)(dt).slice(1)}${ln}`})).apply(this,arguments)}const Ao="webStorageSupport",Ks=class Ys{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ds,this._completeRedirectFn=Ba,this._overrideRedirectResult=yl}_openPopup(d,p,E,j){var q=this;return(0,m.Z)(function*(){var Re;it(null===(Re=q.eventManagers[d._key()])||void 0===Re?void 0:Re.manager,"_initialize() not called before _openPopup()");const dt=yield $r(d,p,E,st(),j);return function an(I,d,p,E=500,j=600){const q=Math.max((window.screen.availHeight-j)/2,0).toString(),Re=Math.max((window.screen.availWidth-E)/2,0).toString();let dt="";const jt=Object.assign(Object.assign({},z),{width:E.toString(),height:j.toString(),top:q,left:Re}),ln=(0,W.z$)().toLowerCase();p&&(dt=ze(ln)?"_blank":p),Ce(ln)&&(d=d||"http://localhost",jt.scrollbars="yes");const Mn=Object.entries(jt).reduce((eo,[Ms,sc])=>`${eo}${Ms}=${sc},`,"");if(function vr(I=(0,W.z$)()){var d;return en(I)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(ln)&&"_self"!==dt)return function Ln(I,d){const p=document.createElement("a");p.href=I,p.target=d;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(d||"",dt),new dn(null);const kn=window.open(d||"",dt,Mn);ke(kn,I,"popup-blocked");try{kn.focus()}catch{}return new dn(kn)}(d,dt,Bo())})()}_openRedirect(d,p,E,j){var q=this;return(0,m.Z)(function*(){return yield q._originValidation(d),function ut(I){Jt().location.href=I}(yield $r(d,p,E,st(),j)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:j,promise:q}=this.eventManagers[p];return j?Promise.resolve(j):(it(q,"If manager is not set, promise should be"),q)}const E=this.initAndGetManager(d);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(d){var p=this;return(0,m.Z)(function*(){const E=yield function S(I){return R.apply(this,arguments)}(d),j=new Zo(d);return E.register("authEvent",q=>(ke(null==q?void 0:q.authEvent,d,"invalid-auth-event"),{status:j.onEvent(q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:j},p.iframes[d._key()]=E,j})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(Ao,{type:Ao},j=>{var q;const Re=null===(q=null==j?void 0:j[0])||void 0===q?void 0:q[Ao];void 0!==Re&&p(!!Re),fe(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ea(I){return Ls.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ei()||X()||en()}};class nl{constructor(d){this.factorId=d}_process(d,p,E){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,E);case"signin":return this._finalizeSignIn(d,p.credential);default:return $e("unexpected MultiFactorSessionType")}}}class qd extends nl{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new qd(d)}_finalizeEnroll(d,p,E){return function Ki(I,d){return qe(I,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(I,d))}(d,{idToken:p,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function nu(I,d){return qe(I,"POST","/v2/accounts/mfaSignIn:finalize",Xe(I,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ff=(()=>{class I{constructor(){}static assertion(p){return qd._fromCredential(p)}}return I.FACTOR_ID="phone",I})();var Ql="@firebase/auth";class Sc{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,m.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(E=>{d((null==E?void 0:E.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Jl(){return window}(0,W.Pz)("authIdTokenMaxAge"),function du(I){(0,ie._registerComponent)(new le.wA("auth",(d,{options:p})=>{const E=d.getProvider("app").getImmediate(),j=d.getProvider("heartbeat"),q=d.getProvider("app-check-internal"),{apiKey:Re,authDomain:dt}=E.options;ke(Re&&!Re.includes(":"),"invalid-api-key",{appName:E.name});const jt={apiKey:Re,authDomain:dt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gt(I)},ln=new $i(E,j,q,jt);return function Ro(I,d){const p=(null==d?void 0:d.persistence)||[],E=(Array.isArray(p)?p:[p]).map(fr);null!=d&&d.errorMap&&I._updateErrorMap(d.errorMap),I._initializeWithPersistence(E,null==d?void 0:d.popupRedirectResolver)}(ln,p),ln},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,E)=>{d.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new le.wA("auth-internal",d=>{const p=pr(d.getProvider("auth").getImmediate());return new Sc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Ql,"0.23.2",function pf(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,ie.registerVersion)(Ql,"0.23.2","esm2017")}("Browser");function ec(){return ec=(0,m.Z)(function*(I,d,p){var E;const{BuildInfo:j}=Jl();it(d.sessionId,"AuthEvent did not contain a session ID");const q=yield function _f(I){return Qu.apply(this,arguments)}(d.sessionId),Re={};return en()?Re.ibi=j.packageName:Lt()?Re.apn=j.packageName:fe(I,"operation-not-supported-in-this-environment"),j.displayName&&(Re.appDisplayName=j.displayName),Re.sessionId=q,$r(I,p,d.type,void 0,null!==(E=d.eventId)&&void 0!==E?E:void 0,Re)}),ec.apply(this,arguments)}function Zu(){return(Zu=(0,m.Z)(function*(I){const{BuildInfo:d}=Jl(),p={};en()?p.iosBundleId=d.packageName:Lt()?p.androidPackageName=d.packageName:fe(I,"operation-not-supported-in-this-environment"),yield Wu(I,p)})).apply(this,arguments)}function fu(){return(fu=(0,m.Z)(function*(I,d,p){const{cordova:E}=Jl();let j=()=>{};try{yield new Promise((q,Re)=>{let dt=null;function jt(){var kn;q();const eo=null===(kn=E.plugins.browsertab)||void 0===kn?void 0:kn.close;"function"==typeof eo&&eo(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function ln(){dt||(dt=window.setTimeout(()=>{Re(Ae(I,"redirect-cancelled-by-user"))},2e3))}function Mn(){"visible"===(null==document?void 0:document.visibilityState)&&ln()}d.addPassiveListener(jt),document.addEventListener("resume",ln,!1),Lt()&&document.addEventListener("visibilitychange",Mn,!1),j=()=>{d.removePassiveListener(jt),document.removeEventListener("resume",ln,!1),document.removeEventListener("visibilitychange",Mn,!1),dt&&window.clearTimeout(dt)}})}finally{j()}})).apply(this,arguments)}function Qu(){return(Qu=(0,m.Z)(function*(I){const d=function ha(I){if(it(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const d=new ArrayBuffer(I.length),p=new Uint8Array(d);for(let E=0;E<I.length;E++)p[E]=I.charCodeAt(E);return p}(I),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(j=>j.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Mc extends Zo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,m.Z)(function*(){yield d.initPromise})()}}function xc(I){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,m.Z)(function*(I){const d=yield nc()._get(pu(I));return d&&(yield nc()._remove(pu(I))),d})).apply(this,arguments)}function As(){const I=[];for(let p=0;p<20;p++){const E=Math.floor(62*Math.random());I.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(E))}return I.join("")}function nc(){return fr(Zi)}function pu(I){return Pe("authEvent",I.config.apiKey,I.name)}function gu(I){if(null==I||!I.includes("?"))return{};const[d,...p]=I.split("?");return(0,W.zd)(p.join("?"))}const Up=class Vp{constructor(){this._redirectPersistence=Ds,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ba,this._overrideRedirectResult=yl}_initialize(d){var p=this;return(0,m.Z)(function*(){const E=d._key();let j=p.eventManagers.get(E);return j||(j=new Mc(d),p.eventManagers.set(E,j),p.attachCallbackListeners(d,j)),j})()}_openPopup(d){fe(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,E,j){var q=this;return(0,m.Z)(function*(){!function Xu(I){var d,p,E,j,q,Re,dt,jt,ln,Mn;const kn=Jl();ke("function"==typeof(null===(d=null==kn?void 0:kn.universalLinks)||void 0===d?void 0:d.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ke(typeof(null===(p=null==kn?void 0:kn.BuildInfo)||void 0===p?void 0:p.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ke("function"==typeof(null===(q=null===(j=null===(E=null==kn?void 0:kn.cordova)||void 0===E?void 0:E.plugins)||void 0===j?void 0:j.browsertab)||void 0===q?void 0:q.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ke("function"==typeof(null===(jt=null===(dt=null===(Re=null==kn?void 0:kn.cordova)||void 0===Re?void 0:Re.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===jt?void 0:jt.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ke("function"==typeof(null===(Mn=null===(ln=null==kn?void 0:kn.cordova)||void 0===ln?void 0:ln.InAppBrowser)||void 0===Mn?void 0:Mn.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const Re=yield q._initialize(d);yield Re.initialized(),Re.resetRedirect(),function hf(){tl.clear()}(),yield q._originValidation(d);const dt=function Zd(I,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:As(),postBody:null,tenantId:I.tenantId,error:Ae(I,"no-auth-event")}}(d,E,j);yield function If(I,d){return nc()._set(pu(I),d)}(d,dt);const jt=yield function Ac(I,d,p){return ec.apply(this,arguments)}(d,dt,p),ln=yield function Sl(I){const{cordova:d}=Jl();return new Promise(p=>{d.plugins.browsertab.isAvailable(E=>{let j=null;E?d.plugins.browsertab.openUrl(I):j=d.InAppBrowser.open(I,function Sn(I=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),p(j)})})}(jt);return function hu(I,d,p){return fu.apply(this,arguments)}(d,Re,ln)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function $p(I){return Zu.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:E,handleOpenURL:j,BuildInfo:q}=Jl(),Re=setTimeout((0,m.Z)(function*(){yield xc(d),p.onEvent(jp())}),500),dt=function(){var Mn=(0,m.Z)(function*(kn){clearTimeout(Re);const eo=yield xc(d);let Ms=null;eo&&null!=kn&&kn.url&&(Ms=function tc(I,d){var p,E;const j=function td(I){const d=gu(I),p=d.link?decodeURIComponent(d.link):void 0,E=gu(p).link,j=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return gu(j).link||j||E||p||I}(d);if(j.includes("/__/auth/callback")){const q=gu(j),Re=q.firebaseError?function ed(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(q.firebaseError)):null,dt=null===(E=null===(p=null==Re?void 0:Re.code)||void 0===p?void 0:p.split("auth/"))||void 0===E?void 0:E[1],jt=dt?Ae(dt):null;return jt?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:jt,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:j,postBody:null}}return null}(eo,kn.url)),p.onEvent(Ms||jp())});return function(eo){return Mn.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,dt);const jt=j,ln=`${q.packageName.toLowerCase()}://`;Jl().handleOpenURL=function(){var Mn=(0,m.Z)(function*(kn){if(kn.toLowerCase().startsWith(ln)&&dt({url:kn}),"function"==typeof jt)try{jt(kn)}catch(eo){console.error(eo)}});return function(kn){return Mn.apply(this,arguments)}}()}};function jp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ae("no-auth-event")}}function Ha(){var I;return(null===(I=null==self?void 0:self.location)||void 0===I?void 0:I.protocol)||null}function vs(I=(0,W.z$)()){return!("file:"!==Ha()&&"ionic:"!==Ha()&&"capacitor:"!==Ha()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){try{const I=self.localStorage,d=Bo();if(I)return I.setItem(d,"1"),I.removeItem(d),!function od(I=(0,W.z$)()){return function Rc(){return(0,W.w1)()&&11===(null==document?void 0:document.documentMode)}()||function id(I=(0,W.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,W.hl)()}catch{return eh()&&(0,W.hl)()}return!1}function eh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function mu(){return(function Qd(){return"http:"===Ha()||"https:"===Ha()}()||(0,W.ru)()||vs())&&!function Jd(){return(0,W.b$)()||(0,W.UG)()}()&&gr()&&!eh()}function th(){return vs()&&typeof document<"u"}function Oc(){return(Oc=(0,m.Z)(function*(){return!!th()&&new Promise(I=>{const d=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),I(!0)})})})).apply(this,arguments)}const Zs={LOCAL:"local",NONE:"none",SESSION:"session"},vu=ke,ad="persistence";function il(I){return os.apply(this,arguments)}function os(){return(os=(0,m.Z)(function*(I){yield I._initializationPromise;const d=ld(),p=Pe(ad,I.config.apiKey,I.name);d&&d.setItem(p,I._getPersistence())})).apply(this,arguments)}function ld(){var I;try{return(null===(I=function sd(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const Al=ke;class Ji{constructor(){this.browserResolver=fr(Ks),this.cordovaResolver=fr(Up),this.underlyingResolver=null,this._redirectPersistence=Ds,this._completeRedirectFn=Ba,this._overrideRedirectResult=yl}_initialize(d){var p=this;return(0,m.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,E,j){var q=this;return(0,m.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._openPopup(d,p,E,j)})()}_openRedirect(d,p,E,j){var q=this;return(0,m.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._openRedirect(d,p,E,j)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return th()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Al(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,m.Z)(function*(){if(d.underlyingResolver)return;const p=yield function nh(){return Oc.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function rc(I){return I.unwrap()}function Ef(I){return Gi(I)}function Gi(I){const{_tokenResponse:d}=I instanceof W.ZR?I.customData:I;if(!d)return null;if(!(I instanceof W.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Fa.credentialFromResult(I);const p=d.providerId;if(!p||p===Ne.PASSWORD)return null;let E;switch(p){case Ne.GOOGLE:E=fo;break;case Ne.FACEBOOK:E=Rs;break;case Ne.GITHUB:E=Ui;break;case Ne.TWITTER:E=ko;break;default:const{oauthIdToken:j,oauthAccessToken:q,oauthTokenSecret:Re,pendingToken:dt,nonce:jt}=d;return q||Re||j||dt?dt?p.startsWith("saml.")?po._create(p,dt):Yt._fromParams({providerId:p,signInMethod:p,pendingToken:dt,idToken:j,accessToken:q}):new Eo(p).credential({idToken:j,accessToken:q,rawNonce:jt}):null}return I instanceof W.ZR?E.credentialFromError(I):E.credentialFromResult(I)}function ss(I,d){return d.catch(p=>{throw p instanceof W.ZR&&function Hp(I,d){var p;const E=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null==d?void 0:d.code))d.resolver=new Df(I,function ts(I,d){var p;const E=(0,W.m9)(I),j=d;return ke(d.customData.operationType,E,"argument-error"),ke(null===(p=j.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,E,"argument-error"),si._fromError(E,j)}(I,d));else if(E){const j=Gi(d),q=d;j&&(q.credential=j,q.tenantId=E.tenantId||void 0,q.email=E.email||void 0,q.phoneNumber=E.phoneNumber||void 0)}}(I,p),p}).then(p=>{const j=p.user;return{operationType:p.operationType,credential:Ef(p),additionalUserInfo:oe(p),user:Xs.getOrCreate(j)}})}function ic(I,d){return cd.apply(this,arguments)}function cd(){return(cd=(0,m.Z)(function*(I,d){const p=yield d;return{verificationId:p.verificationId,confirm:E=>ss(I,p.confirm(E))}})).apply(this,arguments)}class Df{constructor(d,p){this.resolver=p,this.auth=function Nc(I){return I.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return ss(rc(this.auth),this.resolver.resolveSignIn(d))}}class Xs{constructor(d){this._delegate=d,this.multiFactor=function Ra(I){const d=(0,W.m9)(I);return xa.has(d)||xa.set(d,_a._fromUser(d)),xa.get(d)}(d)}static getOrCreate(d){return Xs.USER_MAP.has(d)||Xs.USER_MAP.set(d,new Xs(d)),Xs.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,m.Z)(function*(){return ss(p.auth,Ta(p._delegate,d))})()}linkWithPhoneNumber(d,p){var E=this;return(0,m.Z)(function*(){return ic(E.auth,function ua(I,d,p){return vo.apply(this,arguments)}(E._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,m.Z)(function*(){return ss(p.auth,function wc(I,d,p){return ou.apply(this,arguments)}(p._delegate,d,Ji))})()}linkWithRedirect(d){var p=this;return(0,m.Z)(function*(){return yield il(pr(p.auth)),To(p._delegate,d,Ji)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,m.Z)(function*(){return ss(p.auth,Wo(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return ic(this.auth,function ks(I,d,p){return Fs.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return ss(this.auth,function zd(I,d,p){return Kl.apply(this,arguments)}(this._delegate,d,Ji))}reauthenticateWithRedirect(d){var p=this;return(0,m.Z)(function*(){return yield il(pr(p.auth)),cu(p._delegate,d,Ji)})()}sendEmailVerification(d){return function Xa(I,d){return sa.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,m.Z)(function*(){return yield function us(I,d){return Ci.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function Yo(I,d){return fl((0,W.m9)(I),d,null)}(this._delegate,d)}updatePassword(d){return function Aa(I,d){return fl((0,W.m9)(I),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function Ja(I,d){return Ic.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function _c(I,d){return la.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function Jo(I,d,p){return ya.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xs.USER_MAP=new WeakMap;const yu=ke;let _u=(()=>{class I{constructor(p,E){if(this.app=p,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:j}=p.options;yu(j,"invalid-api-key",{appName:p.name}),yu(j,"invalid-api-key",{appName:p.name});const q=typeof window<"u"?Ji:void 0;this._delegate=E.initialize({options:{persistence:al(j,p.name),popupRedirectResolver:q}}),this._delegate._updateErrorMap(je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,E){!function io(I,d,p){const E=pr(I);ke(E._canInitEmulator,E,"emulator-config-failed"),ke(/^https?:\/\//.test(d),E,"invalid-emulator-scheme");const j=!(null==p||!p.disableWarnings),q=K(d),{host:Re,port:dt}=function he(I){const d=K(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(d.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(E);if(j){const q=j[1];return{host:q,port:ne(E.substr(q.length+1))}}{const[q,Re]=E.split(":");return{host:q,port:ne(Re)}}}(d);E.config.emulator={url:`${q}//${Re}${null===dt?"":`:${dt}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Re,port:dt,protocol:q.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function Se(){function I(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,p,E)}applyActionCode(p){return function sr(I,d){return oi.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return go(this._delegate,p)}confirmPasswordReset(p,E){return function tn(I,d,p){return Fn.apply(this,arguments)}(this._delegate,p,E)}createUserWithEmailAndPassword(p,E){var j=this;return(0,m.Z)(function*(){return ss(j._delegate,function hs(I,d,p){return Ps.apply(this,arguments)}(j._delegate,p,E))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function ia(I,d){return oa.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Fi(I,d){const p=Io.parseLink(d);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,m.Z)(function*(){yu(mu(),p._delegate,"operation-not-supported-in-this-environment");const E=yield function La(I,d){return vi.apply(this,arguments)}(p._delegate,Ji);return E?ss(p._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function rl(I,d){pr(I)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,E,j){const{next:q,error:Re,complete:dt}=sl(p,E,j);return this._delegate.onAuthStateChanged(q,Re,dt)}onIdTokenChanged(p,E,j){const{next:q,error:Re,complete:dt}=sl(p,E,j);return this._delegate.onIdTokenChanged(q,Re,dt)}sendSignInLinkToEmail(p,E){return function qo(I,d,p){return Ns.apply(this,arguments)}(this._delegate,p,E)}sendPasswordResetEmail(p,E){return function Et(I,d,p){return on.apply(this,arguments)}(this._delegate,p,E||void 0)}setPersistence(p){var E=this;return(0,m.Z)(function*(){let j;switch(function Pc(I,d){vu(Object.values(Zs).includes(d),I,"invalid-persistence-type"),(0,W.b$)()?vu(d!==Zs.SESSION,I,"unsupported-persistence-type"):(0,W.UG)()?vu(d===Zs.NONE,I,"unsupported-persistence-type"):eh()?vu(d===Zs.NONE||d===Zs.LOCAL&&(0,W.hl)(),I,"unsupported-persistence-type"):vu(d===Zs.NONE||gr(),I,"unsupported-persistence-type")}(E._delegate,p),p){case Zs.SESSION:j=Ds;break;case Zs.LOCAL:j=(yield fr(bs)._isAvailable())?bs:Zi;break;case Zs.NONE:j=nr;break;default:return fe("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(j)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return ss(this._delegate,function Go(I){return Di.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return ss(this._delegate,js(this._delegate,p))}signInWithCustomToken(p){return ss(this._delegate,function re(I,d){return h.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,E){return ss(this._delegate,function ma(I,d,p){return js((0,W.m9)(I),Xo.credential(d,p))}(this._delegate,p,E))}signInWithEmailLink(p,E){return ss(this._delegate,function Xi(I,d,p){return va.apply(this,arguments)}(this._delegate,p,E))}signInWithPhoneNumber(p,E){return ic(this._delegate,function ca(I,d,p){return mo.apply(this,arguments)}(this._delegate,p,E))}signInWithPopup(p){var E=this;return(0,m.Z)(function*(){return yu(mu(),E._delegate,"operation-not-supported-in-this-environment"),ss(E._delegate,function Ec(I,d,p){return Dc.apply(this,arguments)}(E._delegate,p,Ji))})()}signInWithRedirect(p){var E=this;return(0,m.Z)(function*(){return yu(mu(),E._delegate,"operation-not-supported-in-this-environment"),yield il(E._delegate),_l(E._delegate,p,Ji)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Qo(I,d){return Yi.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=Zs,I})();function sl(I,d,p){let E=I;"function"!=typeof I&&({next:E,error:d,complete:p}=I);const j=E;return{next:Re=>j(Re&&Xs.getOrCreate(Re)),error:d,complete:p}}function al(I,d){const p=function ol(I,d){const p=ld();if(!p)return[];const E=Pe(ad,I,d);switch(p.getItem(E)){case Zs.NONE:return[nr];case Zs.LOCAL:return[bs,Ds];case Zs.SESSION:return[Ds];default:return[]}}(I,d);if(typeof self<"u"&&!p.includes(bs)&&p.push(bs),typeof window<"u")for(const E of[Zi,Ds])p.includes(E)||p.push(E);return p.includes(nr)||p.push(nr),p}class Ml{constructor(){this.providerId="phone",this._delegate=new Fa(rc(v.Z.auth()))}static credential(d,p){return Fa.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}Ml.PHONE_SIGN_IN_METHOD=Fa.PHONE_SIGN_IN_METHOD,Ml.PROVIDER_ID=Fa.PROVIDER_ID;const wf=ke;class bf{constructor(d,p,E=v.Z.app()){var j;wf(null===(j=E.options)||void 0===j?void 0:j.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new ei(d,p,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ud(I){I.INTERNAL.registerComponent(new le.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),E=d.getProvider("auth");return new _u(p,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Xo,FacebookAuthProvider:Rs,GithubAuthProvider:Ui,GoogleAuthProvider:fo,OAuthProvider:Eo,SAMLAuthProvider:qi,PhoneAuthProvider:Ml,PhoneMultiFactorGenerator:ff,RecaptchaVerifier:bf,TwitterAuthProvider:ko,Auth:_u,AuthCredential:Ye,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.4.2")}(v.Z)},5861:(Wt,Qe,L)=>{"use strict";function m(W,ie,Ee,_e,le,Ue,Ne){try{var me=W[Ue](Ne),ee=me.value}catch(be){return void Ee(be)}me.done?ie(ee):Promise.resolve(ee).then(_e,le)}function v(W){return function(){var ie=this,Ee=arguments;return new Promise(function(_e,le){var Ue=W.apply(ie,Ee);function Ne(ee){m(Ue,_e,le,Ne,me,"next",ee)}function me(ee){m(Ue,_e,le,Ne,me,"throw",ee)}Ne(void 0)})}}L.d(Qe,{Z:()=>v})},7582:(Wt,Qe,L)=>{"use strict";function ie(se,de){var Me={};for(var Ge in se)Object.prototype.hasOwnProperty.call(se,Ge)&&de.indexOf(Ge)<0&&(Me[Ge]=se[Ge]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Ge=Object.getOwnPropertySymbols(se);Xe<Ge.length;Xe++)de.indexOf(Ge[Xe])<0&&Object.prototype.propertyIsEnumerable.call(se,Ge[Xe])&&(Me[Ge[Xe]]=se[Ge[Xe]])}return Me}function Ee(se,de,Me,Ge){var Bt,Xe=arguments.length,qe=Xe<3?de:null===Ge?Ge=Object.getOwnPropertyDescriptor(de,Me):Ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(se,de,Me,Ge);else for(var Ct=se.length-1;Ct>=0;Ct--)(Bt=se[Ct])&&(qe=(Xe<3?Bt(qe):Xe>3?Bt(de,Me,qe):Bt(de,Me))||qe);return Xe>3&&qe&&Object.defineProperty(de,Me,qe),qe}function be(se,de,Me,Ge){return new(Me||(Me=Promise))(function(qe,Bt){function Ct(Oe){try{ht(Ge.next(Oe))}catch(It){Bt(It)}}function ct(Oe){try{ht(Ge.throw(Oe))}catch(It){Bt(It)}}function ht(Oe){Oe.done?qe(Oe.value):function Xe(qe){return qe instanceof Me?qe:new Me(function(Bt){Bt(qe)})}(Oe.value).then(Ct,ct)}ht((Ge=Ge.apply(se,de||[])).next())})}function Ze(se){return this instanceof Ze?(this.v=se,this):new Ze(se)}function fe(se,de,Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Ge=Me.apply(se,de||[]),qe=[];return Xe={},Bt("next"),Bt("throw"),Bt("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe;function Bt(Dt){Ge[Dt]&&(Xe[Dt]=function($t){return new Promise(function(mn,cn){qe.push([Dt,$t,mn,cn])>1||Ct(Dt,$t)})})}function Ct(Dt,$t){try{!function ct(Dt){Dt.value instanceof Ze?Promise.resolve(Dt.value.v).then(ht,Oe):It(qe[0][2],Dt)}(Ge[Dt]($t))}catch(mn){It(qe[0][3],mn)}}function ht(Dt){Ct("next",Dt)}function Oe(Dt){Ct("throw",Dt)}function It(Dt,$t){Dt($t),qe.shift(),qe.length&&Ct(qe[0][0],qe[0][1])}}function Be(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,de=se[Symbol.asyncIterator];return de?de.call(se):(se=function ot(se){var de="function"==typeof Symbol&&Symbol.iterator,Me=de&&se[de],Ge=0;if(Me)return Me.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Ge>=se.length&&(se=void 0),{value:se&&se[Ge++],done:!se}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Me={},Ge("next"),Ge("throw"),Ge("return"),Me[Symbol.asyncIterator]=function(){return this},Me);function Ge(qe){Me[qe]=se[qe]&&function(Bt){return new Promise(function(Ct,ct){!function Xe(qe,Bt,Ct,ct){Promise.resolve(ct).then(function(ht){qe({value:ht,done:Ct})},Bt)}(Ct,ct,(Bt=se[qe](Bt)).done,Bt.value)})}}}L.d(Qe,{FC:()=>fe,KL:()=>Be,_T:()=>ie,gn:()=>Ee,mG:()=>be,qq:()=>Ze}),"function"==typeof SuppressedError&&SuppressedError}},Wt=>{Wt(Wt.s=6162)}]);